/*
 * This SDK makes use of the following software packages
 * as permitted under the terms of their linked licenses:
 *
 * jQuery v1.7.2 - http://jquery.org/license
 * qTip2 v2.0.0 - https://github.com/Craga89/qTip2/blob/master/LICENSE-MIT
 * moment.js 1.7.0 - https://github.com/timrwood/moment/blob/master/LICENSE
 * TinyColor.js v0.5 - https://github.com/bgrins/TinyColor/blob/master/LICENSE
 * Underscore.js 1.3.2 - https://github.com/documentcloud/underscore/blob/master/LICENSE
 *//* Version: 0.2.0 *///     Underscore.js 1.3.2
//     (c) 2009-2012 Jeremy Ashkenas, DocumentCloud Inc.
//     Underscore is freely distributable under the MIT license.
//     Portions of Underscore are inspired or borrowed from Prototype,
//     Oliver Steele's Functional, and John Resig's Micro-Templating.
//     For all details and documentation:
//     http://documentcloud.github.com/underscore
(function(){function C(e,t,n){if(e===t)return e!==0||1/e==1/t;if(e==null||t==null)return e===t;e._chain&&(e=e._wrapped),t._chain&&(t=t._wrapped);if(e.isEqual&&S.isFunction(e.isEqual))return e.isEqual(t);if(t.isEqual&&S.isFunction(t.isEqual))return t.isEqual(e);var r=a.call(e);if(r!=a.call(t))return!1;switch(r){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:e==0?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if(typeof e!="object"||typeof t!="object")return!1;var i=n.length;while(i--)if(n[i]==e)return!0;n.push(e);var s=0,o=!0;if(r=="[object Array]"){s=e.length,o=s==t.length;if(o)while(s--)if(!(o=s in e==s in t&&C(e[s],t[s],n)))break}else{if("constructor"in e!="constructor"in t||e.constructor!=t.constructor)return!1;for(var u in e)if(S.has(e,u)){s++;if(!(o=S.has(t,u)&&C(e[u],t[u],n)))break}if(o){for(u in t)if(S.has(t,u)&&!(s--))break;o=!s}}return n.pop(),o}var e=this,t=e._,n={},r=Array.prototype,i=Object.prototype,s=Function.prototype,o=r.slice,u=r.unshift,a=i.toString,f=i.hasOwnProperty,l=r.forEach,c=r.map,h=r.reduce,p=r.reduceRight,d=r.filter,v=r.every,m=r.some,g=r.indexOf,y=r.lastIndexOf,b=Array.isArray,w=Object.keys,E=s.bind,S=function(e){return new P(e)};typeof exports!="undefined"?(typeof module!="undefined"&&module.exports&&(exports=module.exports=S),exports._=S):e._=S,S.VERSION="1.3.2";var x=S.each=S.forEach=function(e,t,r){if(e==null)return;if(l&&e.forEach===l)e.forEach(t,r);else if(e.length===+e.length){for(var i=0,s=e.length;i<s;i++)if(i in e&&t.call(r,e[i],i,e)===n)return}else for(var o in e)if(S.has(e,o)&&t.call(r,e[o],o,e)===n)return};S.map=S.collect=function(e,t,n){var r=[];return e==null?r:c&&e.map===c?e.map(t,n):(x(e,function(e,i,s){r[r.length]=t.call(n,e,i,s)}),e.length===+e.length&&(r.length=e.length),r)},S.reduce=S.foldl=S.inject=function(e,t,n,r){var i=arguments.length>2;e==null&&(e=[]);if(h&&e.reduce===h)return r&&(t=S.bind(t,r)),i?e.reduce(t,n):e.reduce(t);x(e,function(e,s,o){i?n=t.call(r,n,e,s,o):(n=e,i=!0)});if(!i)throw new TypeError("Reduce of empty array with no initial value");return n},S.reduceRight=S.foldr=function(e,t,n,r){var i=arguments.length>2;e==null&&(e=[]);if(p&&e.reduceRight===p)return r&&(t=S.bind(t,r)),i?e.reduceRight(t,n):e.reduceRight(t);var s=S.toArray(e).reverse();return r&&!i&&(t=S.bind(t,r)),i?S.reduce(s,t,n,r):S.reduce(s,t)},S.find=S.detect=function(e,t,n){var r;return T(e,function(e,i,s){if(t.call(n,e,i,s))return r=e,!0}),r},S.filter=S.select=function(e,t,n){var r=[];return e==null?r:d&&e.filter===d?e.filter(t,n):(x(e,function(e,i,s){t.call(n,e,i,s)&&(r[r.length]=e)}),r)},S.reject=function(e,t,n){var r=[];return e==null?r:(x(e,function(e,i,s){t.call(n,e,i,s)||(r[r.length]=e)}),r)},S.every=S.all=function(e,t,r){var i=!0;return e==null?i:v&&e.every===v?e.every(t,r):(x(e,function(e,s,o){if(!(i=i&&t.call(r,e,s,o)))return n}),!!i)};var T=S.some=S.any=function(e,t,r){t||(t=S.identity);var i=!1;return e==null?i:m&&e.some===m?e.some(t,r):(x(e,function(e,s,o){if(i||(i=t.call(r,e,s,o)))return n}),!!i)};S.include=S.contains=function(e,t){var n=!1;return e==null?n:g&&e.indexOf===g?e.indexOf(t)!=-1:(n=T(e,function(e){return e===t}),n)},S.invoke=function(e,t){var n=o.call(arguments,2);return S.map(e,function(e){return(S.isFunction(t)?t||e:e[t]).apply(e,n)})},S.pluck=function(e,t){return S.map(e,function(e){return e[t]})},S.max=function(e,t,n){if(!t&&S.isArray(e)&&e[0]===+e[0])return Math.max.apply(Math,e);if(!t&&S.isEmpty(e))return-Infinity;var r={computed:-Infinity};return x(e,function(e,i,s){var o=t?t.call(n,e,i,s):e;o>=r.computed&&(r={value:e,computed:o})}),r.value},S.min=function(e,t,n){if(!t&&S.isArray(e)&&e[0]===+e[0])return Math.min.apply(Math,e);if(!t&&S.isEmpty(e))return Infinity;var r={computed:Infinity};return x(e,function(e,i,s){var o=t?t.call(n,e,i,s):e;o<r.computed&&(r={value:e,computed:o})}),r.value},S.shuffle=function(e){var t=[],n;return x(e,function(e,r,i){n=Math.floor(Math.random()*(r+1)),t[r]=t[n],t[n]=e}),t},S.sortBy=function(e,t,n){var r=S.isFunction(t)?t:function(e){return e[t]};return S.pluck(S.map(e,function(e,t,i){return{value:e,criteria:r.call(n,e,t,i)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;return n===void 0?1:r===void 0?-1:n<r?-1:n>r?1:0}),"value")},S.groupBy=function(e,t){var n={},r=S.isFunction(t)?t:function(e){return e[t]};return x(e,function(e,t){var i=r(e,t);(n[i]||(n[i]=[])).push(e)}),n},S.sortedIndex=function(e,t,n){n||(n=S.identity);var r=0,i=e.length;while(r<i){var s=r+i>>1;n(e[s])<n(t)?r=s+1:i=s}return r},S.toArray=function(e){return e?S.isArray(e)?o.call(e):S.isArguments(e)?o.call(e):e.toArray&&S.isFunction(e.toArray)?e.toArray():S.values(e):[]},S.size=function(e){return S.isArray(e)?e.length:S.keys(e).length},S.first=S.head=S.take=function(e,t,n){return t!=null&&!n?o.call(e,0,t):e[0]},S.initial=function(e,t,n){return o.call(e,0,e.length-(t==null||n?1:t))},S.last=function(e,t,n){return t!=null&&!n?o.call(e,Math.max(e.length-t,0)):e[e.length-1]},S.rest=S.tail=function(e,t,n){return o.call(e,t==null||n?1:t)},S.compact=function(e){return S.filter(e,function(e){return!!e})},S.flatten=function(e,t){return S.reduce(e,function(e,n){return S.isArray(n)?e.concat(t?n:S.flatten(n)):(e[e.length]=n,e)},[])},S.without=function(e){return S.difference(e,o.call(arguments,1))},S.uniq=S.unique=function(e,t,n){var r=n?S.map(e,n):e,i=[];return e.length<3&&(t=!0),S.reduce(r,function(n,r,s){if(t?S.last(n)!==r||!n.length:!S.include(n,r))n.push(r),i.push(e[s]);return n},[]),i},S.union=function(){return S.uniq(S.flatten(arguments,!0))},S.intersection=S.intersect=function(e){var t=o.call(arguments,1);return S.filter(S.uniq(e),function(e){return S.every(t,function(t){return S.indexOf(t,e)>=0})})},S.difference=function(e){var t=S.flatten(o.call(arguments,1),!0);return S.filter(e,function(e){return!S.include(t,e)})},S.zip=function(){var e=o.call(arguments),t=S.max(S.pluck(e,"length")),n=new Array(t);for(var r=0;r<t;r++)n[r]=S.pluck(e,""+r);return n},S.indexOf=function(e,t,n){if(e==null)return-1;var r,i;if(n)return r=S.sortedIndex(e,t),e[r]===t?r:-1;if(g&&e.indexOf===g)return e.indexOf(t);for(r=0,i=e.length;r<i;r++)if(r in e&&e[r]===t)return r;return-1},S.lastIndexOf=function(e,t){if(e==null)return-1;if(y&&e.lastIndexOf===y)return e.lastIndexOf(t);var n=e.length;while(n--)if(n in e&&e[n]===t)return n;return-1},S.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=arguments[2]||1;var r=Math.max(Math.ceil((t-e)/n),0),i=0,s=new Array(r);while(i<r)s[i++]=e,e+=n;return s};var N=function(){};S.bind=function(t,n){var r,i;if(t.bind===E&&E)return E.apply(t,o.call(arguments,1));if(!S.isFunction(t))throw new TypeError;return i=o.call(arguments,2),r=function(){if(this instanceof r){N.prototype=t.prototype;var e=new N,s=t.apply(e,i.concat(o.call(arguments)));return Object(s)===s?s:e}return t.apply(n,i.concat(o.call(arguments)))}},S.bindAll=function(e){var t=o.call(arguments,1);return t.length==0&&(t=S.functions(e)),x(t,function(t){e[t]=S.bind(e[t],e)}),e},S.memoize=function(e,t){var n={};return t||(t=S.identity),function(){var r=t.apply(this,arguments);return S.has(n,r)?n[r]:n[r]=e.apply(this,arguments)}},S.delay=function(e,t){var n=o.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},S.defer=function(e){return S.delay.apply(S,[e,1].concat(o.call(arguments,1)))},S.throttle=function(e,t){var n,r,i,s,o,u,a=S.debounce(function(){o=s=!1},t);return function(){n=this,r=arguments;var f=function(){i=null,o&&e.apply(n,r),a()};return i||(i=setTimeout(f,t)),s?o=!0:u=e.apply(n,r),a(),s=!0,u}},S.debounce=function(e,t,n){var r;return function(){var i=this,s=arguments,o=function(){r=null,n||e.apply(i,s)};n&&!r&&e.apply(i,s),clearTimeout(r),r=setTimeout(o,t)}},S.once=function(e){var t=!1,n;return function(){return t?n:(t=!0,n=e.apply(this,arguments))}},S.wrap=function(e,t){return function(){var n=[e].concat(o.call(arguments,0));return t.apply(this,n)}},S.compose=function(){var e=arguments;return function(){var t=arguments;for(var n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},S.after=function(e,t){return e<=0?t():function(){if(--e<1)return t.apply(this,arguments)}},S.keys=w||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)S.has(e,n)&&(t[t.length]=n);return t},S.values=function(e){return S.map(e,S.identity)},S.functions=S.methods=function(e){var t=[];for(var n in e)S.isFunction(e[n])&&t.push(n);return t.sort()},S.extend=function(e){return x(o.call(arguments,1),function(t){for(var n in t)e[n]=t[n]}),e},S.pick=function(e){var t={};return x(S.flatten(o.call(arguments,1)),function(n){n in e&&(t[n]=e[n])}),t},S.defaults=function(e){return x(o.call(arguments,1),function(t){for(var n in t)e[n]==null&&(e[n]=t[n])}),e},S.clone=function(e){return S.isObject(e)?S.isArray(e)?e.slice():S.extend({},e):e},S.tap=function(e,t){return t(e),e},S.isEqual=function(e,t){return C(e,t,[])},S.isEmpty=function(e){if(e==null)return!0;if(S.isArray(e)||S.isString(e))return e.length===0;for(var t in e)if(S.has(e,t))return!1;return!0},S.isElement=function(e){return!!e&&e.nodeType==1},S.isArray=b||function(e){return a.call(e)=="[object Array]"},S.isObject=function(e){return e===Object(e)},S.isArguments=function(e){return a.call(e)=="[object Arguments]"},S.isArguments(arguments)||(S.isArguments=function(e){return!!e&&!!S.has(e,"callee")}),S.isFunction=function(e){return a.call(e)=="[object Function]"},S.isString=function(e){return a.call(e)=="[object String]"},S.isNumber=function(e){return a.call(e)=="[object Number]"},S.isFinite=function(e){return S.isNumber(e)&&isFinite(e)},S.isNaN=function(e){return e!==e},S.isBoolean=function(e){return e===!0||e===!1||a.call(e)=="[object Boolean]"},S.isDate=function(e){return a.call(e)=="[object Date]"},S.isRegExp=function(e){return a.call(e)=="[object RegExp]"},S.isNull=function(e){return e===null},S.isUndefined=function(e){return e===void 0},S.has=function(e,t){return f.call(e,t)},S.noConflict=function(){return e._=t,this},S.identity=function(e){return e},S.times=function(e,t,n){for(var r=0;r<e;r++)t.call(n,r)},S.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;")},S.result=function(e,t){if(e==null)return null;var n=e[t];return S.isFunction(n)?n.call(e):n},S.mixin=function(e){x(S.functions(e),function(t){B(t,S[t]=e[t])})};var k=0;S.uniqueId=function(e){var t=k++;return e?e+t:t},S.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var L=/.^/,A={"\\":"\\","'":"'",r:"\r",n:"\n",t:"	",u2028:"\u2028",u2029:"\u2029"};for(var O in A)A[A[O]]=O;var M=/\\|'|\r|\n|\t|\u2028|\u2029/g,_=/\\(\\|'|r|n|t|u2028|u2029)/g,D=function(e){return e.replace(_,function(e,t){return A[t]})};S.template=function(e,t,n){n=S.extend(S.templateSettings,n);var r="__p+='"+e.replace(M,function(e){return"\\"+A[e]}).replace(n.escape||L,function(e,t){return"'+\n_.escape("+D(t)+")+\n'"}).replace(n.interpolate||L,function(e,t){return"'+\n("+D(t)+")+\n'"}).replace(n.evaluate||L,function(e,t){return"';\n"+D(t)+"\n;__p+='"})+"';\n";n.variable||(r="with(obj||{}){\n"+r+"}\n"),r="var __p='';var print=function(){__p+=Array.prototype.join.call(arguments, '')};\n"+r+"return __p;\n";var i=new Function(n.variable||"obj","_",r);if(t)return i(t,S);var s=function(e){return i.call(this,e,S)};return s.source="function("+(n.variable||"obj")+"){\n"+r+"}",s},S.chain=function(e){return S(e).chain()};var P=function(e){this._wrapped=e};S.prototype=P.prototype;var H=function(e,t){return t?S(e).chain():e},B=function(e,t){P.prototype[e]=function(){var e=o.call(arguments);return u.call(e,this._wrapped),H(t.apply(S,e),this._chain)}};S.mixin(S),x(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=r[e];P.prototype[e]=function(){var n=this._wrapped;t.apply(n,arguments);var r=n.length;return(e=="shift"||e=="splice")&&r===0&&delete n[0],H(n,this._chain)}}),x(["concat","join","slice"],function(e){var t=r[e];P.prototype[e]=function(){return H(t.apply(this._wrapped,arguments),this._chain)}}),P.prototype.chain=function(){return this._chain=!0,this},P.prototype.value=function(){return this._wrapped}}).call(this),function(e,t){function u(e){var t=o[e]={},n,r;e=e.split(/\s+/);for(n=0,r=e.length;n<r;n++)t[e[n]]=!0;return t}function c(e,n,r){if(r===t&&e.nodeType===1){var i="data-"+n.replace(l,"-$1").toLowerCase();r=e.getAttribute(i);if(typeof r=="string"){try{r=r==="true"?!0:r==="false"?!1:r==="null"?null:s.isNumeric(r)?+r:f.test(r)?s.parseJSON(r):r}catch(o){}s.data(e,n,r)}else r=t}return r}function h(e){for(var t in e){if(t==="data"&&s.isEmptyObject(e[t]))continue;if(t!=="toJSON")return!1}return!0}function p(e,t,n){var r=t+"defer",i=t+"queue",o=t+"mark",u=s._data(e,r);u&&(n==="queue"||!s._data(e,i))&&(n==="mark"||!s._data(e,o))&&setTimeout(function(){!s._data(e,i)&&!s._data(e,o)&&(s.removeData(e,r,!0),u.fire())},0)}function H(){return!1}function B(){return!0}function W(e){return!e||!e.parentNode||e.parentNode.nodeType===11}function X(e,t,n){t=t||0;if(s.isFunction(t))return s.grep(e,function(e,r){var i=!!t.call(e,r,e);return i===n});if(t.nodeType)return s.grep(e,function(e,r){return e===t===n});if(typeof t=="string"){var r=s.grep(e,function(e){return e.nodeType===1});if(q.test(t))return s.filter(t,r,!n);t=s.filter(t,r)}return s.grep(e,function(e,r){return s.inArray(e,t)>=0===n})}function V(e){var t=$.split("|"),n=e.createDocumentFragment();if(n.createElement)while(t.length)n.createElement(t.pop());return n}function at(e,t){return s.nodeName(e,"table")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function ft(e,t){if(t.nodeType!==1||!s.hasData(e))return;var n,r,i,o=s._data(e),u=s._data(t,o),a=o.events;if(a){delete u.handle,u.events={};for(n in a)for(r=0,i=a[n].length;r<i;r++)s.event.add(t,n,a[n][r])}u.data&&(u.data=s.extend({},u.data))}function lt(e,t){var n;if(t.nodeType!==1)return;t.clearAttributes&&t.clearAttributes(),t.mergeAttributes&&t.mergeAttributes(e),n=t.nodeName.toLowerCase(),n==="object"?t.outerHTML=e.outerHTML:n!=="input"||e.type!=="checkbox"&&e.type!=="radio"?n==="option"?t.selected=e.defaultSelected:n==="input"||n==="textarea"?t.defaultValue=e.defaultValue:n==="script"&&t.text!==e.text&&(t.text=e.text):(e.checked&&(t.defaultChecked=t.checked=e.checked),t.value!==e.value&&(t.value=e.value)),t.removeAttribute(s.expando),t.removeAttribute("_submit_attached"),t.removeAttribute("_change_attached")}function ct(e){return typeof e.getElementsByTagName!="undefined"?e.getElementsByTagName("*"):typeof e.querySelectorAll!="undefined"?e.querySelectorAll("*"):[]}function ht(e){if(e.type==="checkbox"||e.type==="radio")e.defaultChecked=e.checked}function pt(e){var t=(e.nodeName||"").toLowerCase();t==="input"?ht(e):t!=="script"&&typeof e.getElementsByTagName!="undefined"&&s.grep(e.getElementsByTagName("input"),ht)}function dt(e){var t=n.createElement("div");return ut.appendChild(t),t.innerHTML=e.outerHTML,t.firstChild}function kt(e,t,n){var r=t==="width"?e.offsetWidth:e.offsetHeight,i=t==="width"?1:0,o=4;if(r>0){if(n!=="border")for(;i<o;i+=2)n||(r-=parseFloat(s.css(e,"padding"+xt[i]))||0),n==="margin"?r+=parseFloat(s.css(e,n+xt[i]))||0:r-=parseFloat(s.css(e,"border"+xt[i]+"Width"))||0;return r+"px"}r=Tt(e,t);if(r<0||r==null)r=e.style[t];if(bt.test(r))return r;r=parseFloat(r)||0;if(n)for(;i<o;i+=2)r+=parseFloat(s.css(e,"padding"+xt[i]))||0,n!=="padding"&&(r+=parseFloat(s.css(e,"border"+xt[i]+"Width"))||0),n==="margin"&&(r+=parseFloat(s.css(e,n+xt[i]))||0);return r+"px"}function Qt(e){return function(t,n){typeof t!="string"&&(n=t,t="*");if(s.isFunction(n)){var r=t.toLowerCase().split(qt),i=0,o=r.length,u,a,f;for(;i<o;i++)u=r[i],f=/^\+/.test(u),f&&(u=u.substr(1)||"*"),a=e[u]=e[u]||[],a[f?"unshift":"push"](n)}}}function Gt(e,n,r,i,s,o){s=s||n.dataTypes[0],o=o||{},o[s]=!0;var u=e[s],a=0,f=u?u.length:0,l=e===Wt,c;for(;a<f&&(l||!c);a++)c=u[a](n,r,i),typeof c=="string"&&(!l||o[c]?c=t:(n.dataTypes.unshift(c),c=Gt(e,n,r,i,c,o)));return(l||!c)&&!o["*"]&&(c=Gt(e,n,r,i,"*",o)),c}function Yt(e,n){var r,i,o=s.ajaxSettings.flatOptions||{};for(r in n)n[r]!==t&&((o[r]?e:i||(i={}))[r]=n[r]);i&&s.extend(!0,e,i)}function Zt(e,t,n,r){if(s.isArray(t))s.each(t,function(t,i){n||At.test(e)?r(e,i):Zt(e+"["+(typeof i=="object"?t:"")+"]",i,n,r)});else if(!n&&s.type(t)==="object")for(var i in t)Zt(e+"["+i+"]",t[i],n,r);else r(e,t)}function en(e,n,r){var i=e.contents,s=e.dataTypes,o=e.responseFields,u,a,f,l;for(a in o)a in r&&(n[o[a]]=r[a]);while(s[0]==="*")s.shift(),u===t&&(u=e.mimeType||n.getResponseHeader("content-type"));if(u)for(a in i)if(i[a]&&i[a].test(u)){s.unshift(a);break}if(s[0]in r)f=s[0];else{for(a in r){if(!s[0]||e.converters[a+" "+s[0]]){f=a;break}l||(l=a)}f=f||l}if(f)return f!==s[0]&&s.unshift(f),r[f]}function tn(e,n){e.dataFilter&&(n=e.dataFilter(n,e.dataType));var r=e.dataTypes,i={},o,u,a=r.length,f,l=r[0],c,h,p,d,v;for(o=1;o<a;o++){if(o===1)for(u in e.converters)typeof u=="string"&&(i[u.toLowerCase()]=e.converters[u]);c=l,l=r[o];if(l==="*")l=c;else if(c!=="*"&&c!==l){h=c+" "+l,p=i[h]||i["* "+l];if(!p){v=t;for(d in i){f=d.split(" ");if(f[0]===c||f[0]==="*"){v=i[f[1]+" "+l];if(v){d=i[d],d===!0?p=v:v===!0&&(p=d);break}}}}!p&&!v&&s.error("No conversion from "+h.replace(" "," to ")),p!==!0&&(n=p?p(n):v(d(n)))}}return n}function an(){try{return new e.XMLHttpRequest}catch(t){}}function fn(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function yn(){return setTimeout(bn,0),gn=s.now()}function bn(){gn=t}function wn(e,t){var n={};return s.each(mn.concat.apply([],mn.slice(0,t)),function(){n[this]=e}),n}function En(e){if(!ln[e]){var t=n.body,r=s("<"+e+">").appendTo(t),i=r.css("display");r.remove();if(i==="none"||i===""){cn||(cn=n.createElement("iframe"),cn.frameBorder=cn.width=cn.height=0),t.appendChild(cn);if(!hn||!cn.createElement)hn=(cn.contentWindow||cn.contentDocument).document,hn.write((s.support.boxModel?"<!doctype html>":"")+"<html><body>"),hn.close();r=hn.createElement(e),hn.body.appendChild(r),i=s.css(r,"display"),t.removeChild(cn)}ln[e]=i}return ln[e]}function Nn(e){return s.isWindow(e)?e:e.nodeType===9?e.defaultView||e.parentWindow:!1}var n=e.document,r=e.navigator,i=e.location,s=function(){function H(){if(i.isReady)return;try{n.documentElement.doScroll("left")}catch(e){setTimeout(H,1);return}i.ready()}var i=function(e,t){return new i.fn.init(e,t,u)},s=e.jQuery,o=e.$,u,a=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,f=/\S/,l=/^\s+/,c=/\s+$/,h=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,p=/^[\],:{}\s]*$/,d=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,v=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,m=/(?:^|:|,)(?:\s*\[)+/g,g=/(webkit)[ \/]([\w.]+)/,y=/(opera)(?:.*version)?[ \/]([\w.]+)/,b=/(msie) ([\w.]+)/,w=/(mozilla)(?:.*? rv:([\w.]+))?/,E=/-([a-z]|[0-9])/ig,S=/^-ms-/,x=function(e,t){return(t+"").toUpperCase()},T=r.userAgent,N,C,k,L=Object.prototype.toString,A=Object.prototype.hasOwnProperty,O=Array.prototype.push,M=Array.prototype.slice,_=String.prototype.trim,D=Array.prototype.indexOf,P={};return i.fn=i.prototype={constructor:i,init:function(e,r,s){var o,u,f,l;if(!e)return this;if(e.nodeType)return this.context=this[0]=e,this.length=1,this;if(e==="body"&&!r&&n.body)return this.context=n,this[0]=n.body,this.selector=e,this.length=1,this;if(typeof e=="string"){e.charAt(0)==="<"&&e.charAt(e.length-1)===">"&&e.length>=3?o=[null,e,null]:o=a.exec(e);if(o&&(o[1]||!r)){if(o[1])return r=r instanceof i?r[0]:r,l=r?r.ownerDocument||r:n,f=h.exec(e),f?i.isPlainObject(r)?(e=[n.createElement(f[1])],i.fn.attr.call(e,r,!0)):e=[l.createElement(f[1])]:(f=i.buildFragment([o[1]],[l]),e=(f.cacheable?i.clone(f.fragment):f.fragment).childNodes),i.merge(this,e);u=n.getElementById(o[2]);if(u&&u.parentNode){if(u.id!==o[2])return s.find(e);this.length=1,this[0]=u}return this.context=n,this.selector=e,this}return!r||r.jquery?(r||s).find(e):this.constructor(r).find(e)}return i.isFunction(e)?s.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),i.makeArray(e,this))},selector:"",jquery:"1.7.2",length:0,size:function(){return this.length},toArray:function(){return M.call(this,0)},get:function(e){return e==null?this.toArray():e<0?this[this.length+e]:this[e]},pushStack:function(e,t,n){var r=this.constructor();return i.isArray(e)?O.apply(r,e):i.merge(r,e),r.prevObject=this,r.context=this.context,t==="find"?r.selector=this.selector+(this.selector?" ":"")+n:t&&(r.selector=this.selector+"."+t+"("+n+")"),r},each:function(e,t){return i.each(this,e,t)},ready:function(e){return i.bindReady(),C.add(e),this},eq:function(e){return e=+e,e===-1?this.slice(e):this.slice(e,e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(M.apply(this,arguments),"slice",M.call(arguments).join(","))},map:function(e){return this.pushStack(i.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:O,sort:[].sort,splice:[].splice},i.fn.init.prototype=i.fn,i.extend=i.fn.extend=function(){var e,n,r,s,o,u,a=arguments[0]||{},f=1,l=arguments.length,c=!1;typeof a=="boolean"&&(c=a,a=arguments[1]||{},f=2),typeof a!="object"&&!i.isFunction(a)&&(a={}),l===f&&(a=this,--f);for(;f<l;f++)if((e=arguments[f])!=null)for(n in e){r=a[n],s=e[n];if(a===s)continue;c&&s&&(i.isPlainObject(s)||(o=i.isArray(s)))?(o?(o=!1,u=r&&i.isArray(r)?r:[]):u=r&&i.isPlainObject(r)?r:{},a[n]=i.extend(c,u,s)):s!==t&&(a[n]=s)}return a},i.extend({noConflict:function(t){return e.$===i&&(e.$=o),t&&e.jQuery===i&&(e.jQuery=s),i},isReady:!1,readyWait:1,holdReady:function(e){e?i.readyWait++:i.ready(!0)},ready:function(e){if(e===!0&&!--i.readyWait||e!==!0&&!i.isReady){if(!n.body)return setTimeout(i.ready,1);i.isReady=!0;if(e!==!0&&--i.readyWait>0)return;C.fireWith(n,[i]),i.fn.trigger&&i(n).trigger("ready").off("ready")}},bindReady:function(){if(C)return;C=i.Callbacks("once memory");if(n.readyState==="complete")return setTimeout(i.ready,1);if(n.addEventListener)n.addEventListener("DOMContentLoaded",k,!1),e.addEventListener("load",i.ready,!1);else if(n.attachEvent){n.attachEvent("onreadystatechange",k),e.attachEvent("onload",i.ready);var t=!1;try{t=e.frameElement==null}catch(r){}n.documentElement.doScroll&&t&&H()}},isFunction:function(e){return i.type(e)==="function"},isArray:Array.isArray||function(e){return i.type(e)==="array"},isWindow:function(e){return e!=null&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return e==null?String(e):P[L.call(e)]||"object"},isPlainObject:function(e){if(!e||i.type(e)!=="object"||e.nodeType||i.isWindow(e))return!1;try{if(e.constructor&&!A.call(e,"constructor")&&!A.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}var r;for(r in e);return r===t||A.call(e,r)},isEmptyObject:function(e){for(var t in e)return!1;return!0},error:function(e){throw new Error(e)},parseJSON:function(t){if(typeof t!="string"||!t)return null;t=i.trim(t);if(e.JSON&&e.JSON.parse)return e.JSON.parse(t);if(p.test(t.replace(d,"@").replace(v,"]").replace(m,"")))return(new Function("return "+t))();i.error("Invalid JSON: "+t)},parseXML:function(n){if(typeof n!="string"||!n)return null;var r,s;try{e.DOMParser?(s=new DOMParser,r=s.parseFromString(n,"text/xml")):(r=new ActiveXObject("Microsoft.XMLDOM"),r.async="false",r.loadXML(n))}catch(o){r=t}return(!r||!r.documentElement||r.getElementsByTagName("parsererror").length)&&i.error("Invalid XML: "+n),r},noop:function(){},globalEval:function(t){t&&f.test(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(S,"ms-").replace(E,x)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toUpperCase()===t.toUpperCase()},each:function(e,n,r){var s,o=0,u=e.length,a=u===t||i.isFunction(e);if(r){if(a){for(s in e)if(n.apply(e[s],r)===!1)break}else for(;o<u;)if(n.apply(e[o++],r)===!1)break}else if(a){for(s in e)if(n.call(e[s],s,e[s])===!1)break}else for(;o<u;)if(n.call(e[o],o,e[o++])===!1)break;return e},trim:_?function(e){return e==null?"":_.call(e)}:function(e){return e==null?"":e.toString().replace(l,"").replace(c,"")},makeArray:function(e,t){var n=t||[];if(e!=null){var r=i.type(e);e.length==null||r==="string"||r==="function"||r==="regexp"||i.isWindow(e)?O.call(n,e):i.merge(n,e)}return n},inArray:function(e,t,n){var r;if(t){if(D)return D.call(t,e,n);r=t.length,n=n?n<0?Math.max(0,r+n):n:0;for(;n<r;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var r=e.length,i=0;if(typeof n.length=="number")for(var s=n.length;i<s;i++)e[r++]=n[i];else while(n[i]!==t)e[r++]=n[i++];return e.length=r,e},grep:function(e,t,n){var r=[],i;n=!!n;for(var s=0,o=e.length;s<o;s++)i=!!t(e[s],s),n!==i&&r.push(e[s]);return r},map:function(e,n,r){var s,o,u=[],a=0,f=e.length,l=e instanceof i||f!==t&&typeof f=="number"&&(f>0&&e[0]&&e[f-1]||f===0||i.isArray(e));if(l)for(;a<f;a++)s=n(e[a],a,r),s!=null&&(u[u.length]=s);else for(o in e)s=n(e[o],o,r),s!=null&&(u[u.length]=s);return u.concat.apply([],u)},guid:1,proxy:function(e,n){if(typeof n=="string"){var r=e[n];n=e,e=r}if(!i.isFunction(e))return t;var s=M.call(arguments,2),o=function(){return e.apply(n,s.concat(M.call(arguments)))};return o.guid=e.guid=e.guid||o.guid||i.guid++,o},access:function(e,n,r,s,o,u,a){var f,l=r==null,c=0,h=e.length;if(r&&typeof r=="object"){for(c in r)i.access(e,n,c,r[c],1,u,s);o=1}else if(s!==t){f=a===t&&i.isFunction(s),l&&(f?(f=n,n=function(e,t,n){return f.call(i(e),n)}):(n.call(e,s),n=null));if(n)for(;c<h;c++)n(e[c],r,f?s.call(e[c],c,n(e[c],r)):s,a);o=1}return o?e:l?n.call(e):h?n(e[0],r):u},now:function(){return(new Date).getTime()},uaMatch:function(e){e=e.toLowerCase();var t=g.exec(e)||y.exec(e)||b.exec(e)||e.indexOf("compatible")<0&&w.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},sub:function(){function e(t,n){return new e.fn.init(t,n)}i.extend(!0,e,this),e.superclass=this,e.fn=e.prototype=this(),e.fn.constructor=e,e.sub=this.sub,e.fn.init=function(r,s){return s&&s instanceof i&&!(s instanceof e)&&(s=e(s)),i.fn.init.call(this,r,s,t)},e.fn.init.prototype=e.fn;var t=e(n);return e},browser:{}}),i.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(e,t){P["[object "+t+"]"]=t.toLowerCase()}),N=i.uaMatch(T),N.browser&&(i.browser[N.browser]=!0,i.browser.version=N.version),i.browser.webkit&&(i.browser.safari=!0),f.test(" ")&&(l=/^[\s\xA0]+/,c=/[\s\xA0]+$/),u=i(n),n.addEventListener?k=function(){n.removeEventListener("DOMContentLoaded",k,!1),i.ready()}:n.attachEvent&&(k=function(){n.readyState==="complete"&&(n.detachEvent("onreadystatechange",k),i.ready())}),i}(),o={};s.Callbacks=function(e){e=e?o[e]||u(e):{};var n=[],r=[],i,a,f,l,c,h,p=function(t){var r,i,o,u,a;for(r=0,i=t.length;r<i;r++)o=t[r],u=s.type(o),u==="array"?p(o):u==="function"&&(!e.unique||!v.has(o))&&n.push(o)},d=function(t,s){s=s||[],i=!e.memory||[t,s],a=!0,f=!0,h=l||0,l=0,c=n.length;for(;n&&h<c;h++)if(n[h].apply(t,s)===!1&&e.stopOnFalse){i=!0;break}f=!1,n&&(e.once?i===!0?v.disable():n=[]:r&&r.length&&(i=r.shift(),v.fireWith(i[0],i[1])))},v={add:function(){if(n){var e=n.length;p(arguments),f?c=n.length:i&&i!==!0&&(l=e,d(i[0],i[1]))}return this},remove:function(){if(n){var t=arguments,r=0,i=t.length;for(;r<i;r++)for(var s=0;s<n.length;s++)if(t[r]===n[s]){f&&s<=c&&(c--,s<=h&&h--),n.splice(s--,1);if(e.unique)break}}return this},has:function(e){if(n){var t=0,r=n.length;for(;t<r;t++)if(e===n[t])return!0}return!1},empty:function(){return n=[],this},disable:function(){return n=r=i=t,this},disabled:function(){return!n},lock:function(){return r=t,(!i||i===!0)&&v.disable(),this},locked:function(){return!r},fireWith:function(t,n){return r&&(f?e.once||r.push([t,n]):(!e.once||!i)&&d(t,n)),this},fire:function(){return v.fireWith(this,arguments),this},fired:function(){return!!a}};return v};var a=[].slice;s.extend({Deferred:function(e){var t=s.Callbacks("once memory"),n=s.Callbacks("once memory"),r=s.Callbacks("memory"),i="pending",o={resolve:t,reject:n,notify:r},u={done:t.add,fail:n.add,progress:r.add,state:function(){return i},isResolved:t.fired,isRejected:n.fired,then:function(e,t,n){return a.done(e).fail(t).progress(n),this},always:function(){return a.done.apply(a,arguments).fail.apply(a,arguments),this},pipe:function(e,t,n){return s.Deferred(function(r){s.each({done:[e,"resolve"],fail:[t,"reject"],progress:[n,"notify"]},function(e,t){var n=t[0],i=t[1],o;s.isFunction(n)?a[e](function(){o=n.apply(this,arguments),o&&s.isFunction(o.promise)?o.promise().then(r.resolve,r.reject,r.notify):r[i+"With"](this===a?r:this,[o])}):a[e](r[i])})}).promise()},promise:function(e){if(e==null)e=u;else for(var t in u)e[t]=u[t];return e}},a=u.promise({}),f;for(f in o)a[f]=o[f].fire,a[f+"With"]=o[f].fireWith;return a.done(function(){i="resolved"},n.disable,r.lock).fail(function(){i="rejected"},t.disable,r.lock),e&&e.call(a,a),a},when:function(e){function c(e){return function(n){t[e]=arguments.length>1?a.call(arguments,0):n,--o||f.resolveWith(f,t)}}function h(e){return function(t){i[e]=arguments.length>1?a.call(arguments,0):t,f.notifyWith(l,i)}}var t=a.call(arguments,0),n=0,r=t.length,i=new Array(r),o=r,u=r,f=r<=1&&e&&s.isFunction(e.promise)?e:s.Deferred(),l=f.promise();if(r>1){for(;n<r;n++)t[n]&&t[n].promise&&s.isFunction(t[n].promise)?t[n].promise().then(c(n),f.reject,h(n)):--o;o||f.resolveWith(f,t)}else f!==e&&f.resolveWith(f,r?[e]:[]);return l}}),s.support=function(){var t,r,i,o,u,a,f,l,c,h,p,d,v=n.createElement("div"),m=n.documentElement;v.setAttribute("className","t"),v.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>",r=v.getElementsByTagName("*"),i=v.getElementsByTagName("a")[0];if(!r||!r.length||!i)return{};o=n.createElement("select"),u=o.appendChild(n.createElement("option")),a=v.getElementsByTagName("input")[0],t={leadingWhitespace:v.firstChild.nodeType===3,tbody:!v.getElementsByTagName("tbody").length,htmlSerialize:!!v.getElementsByTagName("link").length,style:/top/.test(i.getAttribute("style")),hrefNormalized:i.getAttribute("href")==="/a",opacity:/^0.55/.test(i.style.opacity),cssFloat:!!i.style.cssFloat,checkOn:a.value==="on",optSelected:u.selected,getSetAttribute:v.className!=="t",enctype:!!n.createElement("form").enctype,html5Clone:n.createElement("nav").cloneNode(!0).outerHTML!=="<:nav></:nav>",submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,pixelMargin:!0},s.boxModel=t.boxModel=n.compatMode==="CSS1Compat",a.checked=!0,t.noCloneChecked=a.cloneNode(!0).checked,o.disabled=!0,t.optDisabled=!u.disabled;try{delete v.test}catch(g){t.deleteExpando=!1}!v.addEventListener&&v.attachEvent&&v.fireEvent&&(v.attachEvent("onclick",function(){t.noCloneEvent=!1}),v.cloneNode(!0).fireEvent("onclick")),a=n.createElement("input"),a.value="t",a.setAttribute("type","radio"),t.radioValue=a.value==="t",a.setAttribute("checked","checked"),a.setAttribute("name","t"),v.appendChild(a),f=n.createDocumentFragment(),f.appendChild(v.lastChild),t.checkClone=f.cloneNode(!0).cloneNode(!0).lastChild.checked,t.appendChecked=a.checked,f.removeChild(a),f.appendChild(v);if(v.attachEvent)for(p in{submit:1,change:1,focusin:1})h="on"+p,d=h in v,d||(v.setAttribute(h,"return;"),d=typeof v[h]=="function"),t[p+"Bubbles"]=d;return f.removeChild(v),f=o=u=v=a=null,s(function(){var r,i,o,u,a,f,c,h,p,m,g,y,b,w=n.getElementsByTagName("body")[0];if(!w)return;h=1,b="padding:0;margin:0;border:",g="position:absolute;top:0;left:0;width:1px;height:1px;",y=b+"0;visibility:hidden;",p="style='"+g+b+"5px solid #000;",m="<div "+p+"display:block;'><div style='"+b+"0;display:block;overflow:hidden;'></div></div>"+"<table "+
p+"' cellpadding='0' cellspacing='0'>"+"<tr><td></td></tr></table>",r=n.createElement("div"),r.style.cssText=y+"width:0;height:0;position:static;top:0;margin-top:"+h+"px",w.insertBefore(r,w.firstChild),v=n.createElement("div"),r.appendChild(v),v.innerHTML="<table><tr><td style='"+b+"0;display:none'></td><td>t</td></tr></table>",l=v.getElementsByTagName("td"),d=l[0].offsetHeight===0,l[0].style.display="",l[1].style.display="none",t.reliableHiddenOffsets=d&&l[0].offsetHeight===0,e.getComputedStyle&&(v.innerHTML="",c=n.createElement("div"),c.style.width="0",c.style.marginRight="0",v.style.width="2px",v.appendChild(c),t.reliableMarginRight=(parseInt((e.getComputedStyle(c,null)||{marginRight:0}).marginRight,10)||0)===0),typeof v.style.zoom!="undefined"&&(v.innerHTML="",v.style.width=v.style.padding="1px",v.style.border=0,v.style.overflow="hidden",v.style.display="inline",v.style.zoom=1,t.inlineBlockNeedsLayout=v.offsetWidth===3,v.style.display="block",v.style.overflow="visible",v.innerHTML="<div style='width:5px;'></div>",t.shrinkWrapBlocks=v.offsetWidth!==3),v.style.cssText=g+y,v.innerHTML=m,i=v.firstChild,o=i.firstChild,a=i.nextSibling.firstChild.firstChild,f={doesNotAddBorder:o.offsetTop!==5,doesAddBorderForTableAndCells:a.offsetTop===5},o.style.position="fixed",o.style.top="20px",f.fixedPosition=o.offsetTop===20||o.offsetTop===15,o.style.position=o.style.top="",i.style.overflow="hidden",i.style.position="relative",f.subtractsBorderForOverflowNotVisible=o.offsetTop===-5,f.doesNotIncludeMarginInBodyOffset=w.offsetTop!==h,e.getComputedStyle&&(v.style.marginTop="1%",t.pixelMargin=(e.getComputedStyle(v,null)||{marginTop:0}).marginTop!=="1%"),typeof r.style.zoom!="undefined"&&(r.style.zoom=1),w.removeChild(r),c=v=r=null,s.extend(t,f)}),t}();var f=/^(?:\{.*\}|\[.*\])$/,l=/([A-Z])/g;s.extend({cache:{},uuid:0,expando:"jQuery"+(s.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return e=e.nodeType?s.cache[e[s.expando]]:e[s.expando],!!e&&!h(e)},data:function(e,n,r,i){if(!s.acceptData(e))return;var o,u,a,f=s.expando,l=typeof n=="string",c=e.nodeType,h=c?s.cache:e,p=c?e[f]:e[f]&&f,d=n==="events";if((!p||!h[p]||!d&&!i&&!h[p].data)&&l&&r===t)return;p||(c?e[f]=p=++s.uuid:p=f),h[p]||(h[p]={},c||(h[p].toJSON=s.noop));if(typeof n=="object"||typeof n=="function")i?h[p]=s.extend(h[p],n):h[p].data=s.extend(h[p].data,n);return o=u=h[p],i||(u.data||(u.data={}),u=u.data),r!==t&&(u[s.camelCase(n)]=r),d&&!u[n]?o.events:(l?(a=u[n],a==null&&(a=u[s.camelCase(n)])):a=u,a)},removeData:function(e,t,n){if(!s.acceptData(e))return;var r,i,o,u=s.expando,a=e.nodeType,f=a?s.cache:e,l=a?e[u]:u;if(!f[l])return;if(t){r=n?f[l]:f[l].data;if(r){s.isArray(t)||(t in r?t=[t]:(t=s.camelCase(t),t in r?t=[t]:t=t.split(" ")));for(i=0,o=t.length;i<o;i++)delete r[t[i]];if(!(n?h:s.isEmptyObject)(r))return}}if(!n){delete f[l].data;if(!h(f[l]))return}s.support.deleteExpando||!f.setInterval?delete f[l]:f[l]=null,a&&(s.support.deleteExpando?delete e[u]:e.removeAttribute?e.removeAttribute(u):e[u]=null)},_data:function(e,t,n){return s.data(e,t,n,!0)},acceptData:function(e){if(e.nodeName){var t=s.noData[e.nodeName.toLowerCase()];if(t)return t!==!0&&e.getAttribute("classid")===t}return!0}}),s.fn.extend({data:function(e,n){var r,i,o,u,a,f=this[0],l=0,h=null;if(e===t){if(this.length){h=s.data(f);if(f.nodeType===1&&!s._data(f,"parsedAttrs")){o=f.attributes;for(a=o.length;l<a;l++)u=o[l].name,u.indexOf("data-")===0&&(u=s.camelCase(u.substring(5)),c(f,u,h[u]));s._data(f,"parsedAttrs",!0)}}return h}return typeof e=="object"?this.each(function(){s.data(this,e)}):(r=e.split(".",2),r[1]=r[1]?"."+r[1]:"",i=r[1]+"!",s.access(this,function(n){if(n===t)return h=this.triggerHandler("getData"+i,[r[0]]),h===t&&f&&(h=s.data(f,e),h=c(f,e,h)),h===t&&r[1]?this.data(r[0]):h;r[1]=n,this.each(function(){var t=s(this);t.triggerHandler("setData"+i,r),s.data(this,e,n),t.triggerHandler("changeData"+i,r)})},null,n,arguments.length>1,null,!1))},removeData:function(e){return this.each(function(){s.removeData(this,e)})}}),s.extend({_mark:function(e,t){e&&(t=(t||"fx")+"mark",s._data(e,t,(s._data(e,t)||0)+1))},_unmark:function(e,t,n){e!==!0&&(n=t,t=e,e=!1);if(t){n=n||"fx";var r=n+"mark",i=e?0:(s._data(t,r)||1)-1;i?s._data(t,r,i):(s.removeData(t,r,!0),p(t,n,"mark"))}},queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=s._data(e,t),n&&(!r||s.isArray(n)?r=s._data(e,t,s.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=s.queue(e,t),r=n.shift(),i={};r==="inprogress"&&(r=n.shift()),r&&(t==="fx"&&n.unshift("inprogress"),s._data(e,t+".run",i),r.call(e,function(){s.dequeue(e,t)},i)),n.length||(s.removeData(e,t+"queue "+t+".run",!0),p(e,t,"queue"))}}),s.fn.extend({queue:function(e,n){var r=2;return typeof e!="string"&&(n=e,e="fx",r--),arguments.length<r?s.queue(this[0],e):n===t?this:this.each(function(){var t=s.queue(this,e,n);e==="fx"&&t[0]!=="inprogress"&&s.dequeue(this,e)})},dequeue:function(e){return this.each(function(){s.dequeue(this,e)})},delay:function(e,t){return e=s.fx?s.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){function h(){--u||r.resolveWith(i,[i])}typeof e!="string"&&(n=e,e=t),e=e||"fx";var r=s.Deferred(),i=this,o=i.length,u=1,a=e+"defer",f=e+"queue",l=e+"mark",c;while(o--)if(c=s.data(i[o],a,t,!0)||(s.data(i[o],f,t,!0)||s.data(i[o],l,t,!0))&&s.data(i[o],a,s.Callbacks("once memory"),!0))u++,c.add(h);return h(),r.promise(n)}});var d=/[\n\t\r]/g,v=/\s+/,m=/\r/g,g=/^(?:button|input)$/i,y=/^(?:button|input|object|select|textarea)$/i,b=/^a(?:rea)?$/i,w=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,E=s.support.getSetAttribute,S,x,T;s.fn.extend({attr:function(e,t){return s.access(this,s.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){s.removeAttr(this,e)})},prop:function(e,t){return s.access(this,s.prop,e,t,arguments.length>1)},removeProp:function(e){return e=s.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,r,i,o,u,a;if(s.isFunction(e))return this.each(function(t){s(this).addClass(e.call(this,t,this.className))});if(e&&typeof e=="string"){t=e.split(v);for(n=0,r=this.length;n<r;n++){i=this[n];if(i.nodeType===1)if(!i.className&&t.length===1)i.className=e;else{o=" "+i.className+" ";for(u=0,a=t.length;u<a;u++)~o.indexOf(" "+t[u]+" ")||(o+=t[u]+" ");i.className=s.trim(o)}}}return this},removeClass:function(e){var n,r,i,o,u,a,f;if(s.isFunction(e))return this.each(function(t){s(this).removeClass(e.call(this,t,this.className))});if(e&&typeof e=="string"||e===t){n=(e||"").split(v);for(r=0,i=this.length;r<i;r++){o=this[r];if(o.nodeType===1&&o.className)if(e){u=(" "+o.className+" ").replace(d," ");for(a=0,f=n.length;a<f;a++)u=u.replace(" "+n[a]+" "," ");o.className=s.trim(u)}else o.className=""}}return this},toggleClass:function(e,t){var n=typeof e,r=typeof t=="boolean";return s.isFunction(e)?this.each(function(n){s(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if(n==="string"){var i,o=0,u=s(this),a=t,f=e.split(v);while(i=f[o++])a=r?a:!u.hasClass(i),u[a?"addClass":"removeClass"](i)}else if(n==="undefined"||n==="boolean")this.className&&s._data(this,"__className__",this.className),this.className=this.className||e===!1?"":s._data(this,"__className__")||""})},hasClass:function(e){var t=" "+e+" ",n=0,r=this.length;for(;n<r;n++)if(this[n].nodeType===1&&(" "+this[n].className+" ").replace(d," ").indexOf(t)>-1)return!0;return!1},val:function(e){var n,r,i,o=this[0];if(!arguments.length){if(o)return n=s.valHooks[o.type]||s.valHooks[o.nodeName.toLowerCase()],n&&"get"in n&&(r=n.get(o,"value"))!==t?r:(r=o.value,typeof r=="string"?r.replace(m,""):r==null?"":r);return}return i=s.isFunction(e),this.each(function(r){var o=s(this),u;if(this.nodeType!==1)return;i?u=e.call(this,r,o.val()):u=e,u==null?u="":typeof u=="number"?u+="":s.isArray(u)&&(u=s.map(u,function(e){return e==null?"":e+""})),n=s.valHooks[this.type]||s.valHooks[this.nodeName.toLowerCase()];if(!n||!("set"in n)||n.set(this,u,"value")===t)this.value=u})}}),s.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){var t,n,r,i,o=e.selectedIndex,u=[],a=e.options,f=e.type==="select-one";if(o<0)return null;n=f?o:0,r=f?o+1:a.length;for(;n<r;n++){i=a[n];if(i.selected&&(s.support.optDisabled?!i.disabled:i.getAttribute("disabled")===null)&&(!i.parentNode.disabled||!s.nodeName(i.parentNode,"optgroup"))){t=s(i).val();if(f)return t;u.push(t)}}return f&&!u.length&&a.length?s(a[o]).val():u},set:function(e,t){var n=s.makeArray(t);return s(e).find("option").each(function(){this.selected=s.inArray(s(this).val(),n)>=0}),n.length||(e.selectedIndex=-1),n}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(e,n,r,i){var o,u,a,f=e.nodeType;if(!e||f===3||f===8||f===2)return;if(i&&n in s.attrFn)return s(e)[n](r);if(typeof e.getAttribute=="undefined")return s.prop(e,n,r);a=f!==1||!s.isXMLDoc(e),a&&(n=n.toLowerCase(),u=s.attrHooks[n]||(w.test(n)?x:S));if(r!==t){if(r===null){s.removeAttr(e,n);return}return u&&"set"in u&&a&&(o=u.set(e,r,n))!==t?o:(e.setAttribute(n,""+r),r)}return u&&"get"in u&&a&&(o=u.get(e,n))!==null?o:(o=e.getAttribute(n),o===null?t:o)},removeAttr:function(e,t){var n,r,i,o,u,a=0;if(t&&e.nodeType===1){r=t.toLowerCase().split(v),o=r.length;for(;a<o;a++)i=r[a],i&&(n=s.propFix[i]||i,u=w.test(i),u||s.attr(e,i,""),e.removeAttribute(E?i:n),u&&n in e&&(e[n]=!1))}},attrHooks:{type:{set:function(e,t){if(g.test(e.nodeName)&&e.parentNode)s.error("type property can't be changed");else if(!s.support.radioValue&&t==="radio"&&s.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}},value:{get:function(e,t){return S&&s.nodeName(e,"button")?S.get(e,t):t in e?e.value:null},set:function(e,t,n){if(S&&s.nodeName(e,"button"))return S.set(e,t,n);e.value=t}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,n,r){var i,o,u,a=e.nodeType;if(!e||a===3||a===8||a===2)return;return u=a!==1||!s.isXMLDoc(e),u&&(n=s.propFix[n]||n,o=s.propHooks[n]),r!==t?o&&"set"in o&&(i=o.set(e,r,n))!==t?i:e[n]=r:o&&"get"in o&&(i=o.get(e,n))!==null?i:e[n]},propHooks:{tabIndex:{get:function(e){var n=e.getAttributeNode("tabindex");return n&&n.specified?parseInt(n.value,10):y.test(e.nodeName)||b.test(e.nodeName)&&e.href?0:t}}}}),s.attrHooks.tabindex=s.propHooks.tabIndex,x={get:function(e,n){var r,i=s.prop(e,n);return i===!0||typeof i!="boolean"&&(r=e.getAttributeNode(n))&&r.nodeValue!==!1?n.toLowerCase():t},set:function(e,t,n){var r;return t===!1?s.removeAttr(e,n):(r=s.propFix[n]||n,r in e&&(e[r]=!0),e.setAttribute(n,n.toLowerCase())),n}},E||(T={name:!0,id:!0,coords:!0},S=s.valHooks.button={get:function(e,n){var r;return r=e.getAttributeNode(n),r&&(T[n]?r.nodeValue!=="":r.specified)?r.nodeValue:t},set:function(e,t,r){var i=e.getAttributeNode(r);return i||(i=n.createAttribute(r),e.setAttributeNode(i)),i.nodeValue=t+""}},s.attrHooks.tabindex.set=S.set,s.each(["width","height"],function(e,t){s.attrHooks[t]=s.extend(s.attrHooks[t],{set:function(e,n){if(n==="")return e.setAttribute(t,"auto"),n}})}),s.attrHooks.contenteditable={get:S.get,set:function(e,t,n){t===""&&(t="false"),S.set(e,t,n)}}),s.support.hrefNormalized||s.each(["href","src","width","height"],function(e,n){s.attrHooks[n]=s.extend(s.attrHooks[n],{get:function(e){var r=e.getAttribute(n,2);return r===null?t:r}})}),s.support.style||(s.attrHooks.style={get:function(e){return e.style.cssText.toLowerCase()||t},set:function(e,t){return e.style.cssText=""+t}}),s.support.optSelected||(s.propHooks.selected=s.extend(s.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),s.support.enctype||(s.propFix.enctype="encoding"),s.support.checkOn||s.each(["radio","checkbox"],function(){s.valHooks[this]={get:function(e){return e.getAttribute("value")===null?"on":e.value}}}),s.each(["radio","checkbox"],function(){s.valHooks[this]=s.extend(s.valHooks[this],{set:function(e,t){if(s.isArray(t))return e.checked=s.inArray(s(e).val(),t)>=0}})});var N=/^(?:textarea|input|select)$/i,C=/^([^\.]*)?(?:\.(.+))?$/,k=/(?:^|\s)hover(\.\S+)?\b/,L=/^key/,A=/^(?:mouse|contextmenu)|click/,O=/^(?:focusinfocus|focusoutblur)$/,M=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,_=function(e){var t=M.exec(e);return t&&(t[1]=(t[1]||"").toLowerCase(),t[3]=t[3]&&new RegExp("(?:^|\\s)"+t[3]+"(?:\\s|$)")),t},D=function(e,t){var n=e.attributes||{};return(!t[1]||e.nodeName.toLowerCase()===t[1])&&(!t[2]||(n.id||{}).value===t[2])&&(!t[3]||t[3].test((n["class"]||{}).value))},P=function(e){return s.event.special.hover?e:e.replace(k,"mouseenter$1 mouseleave$1")};s.event={add:function(e,n,r,i,o){var u,a,f,l,c,h,p,d,v,m,g,y;if(e.nodeType===3||e.nodeType===8||!n||!r||!(u=s._data(e)))return;r.handler&&(v=r,r=v.handler,o=v.selector),r.guid||(r.guid=s.guid++),f=u.events,f||(u.events=f={}),a=u.handle,a||(u.handle=a=function(e){return typeof s=="undefined"||!!e&&s.event.triggered===e.type?t:s.event.dispatch.apply(a.elem,arguments)},a.elem=e),n=s.trim(P(n)).split(" ");for(l=0;l<n.length;l++){c=C.exec(n[l])||[],h=c[1],p=(c[2]||"").split(".").sort(),y=s.event.special[h]||{},h=(o?y.delegateType:y.bindType)||h,y=s.event.special[h]||{},d=s.extend({type:h,origType:c[1],data:i,handler:r,guid:r.guid,selector:o,quick:o&&_(o),namespace:p.join(".")},v),g=f[h];if(!g){g=f[h]=[],g.delegateCount=0;if(!y.setup||y.setup.call(e,i,p,a)===!1)e.addEventListener?e.addEventListener(h,a,!1):e.attachEvent&&e.attachEvent("on"+h,a)}y.add&&(y.add.call(e,d),d.handler.guid||(d.handler.guid=r.guid)),o?g.splice(g.delegateCount++,0,d):g.push(d),s.event.global[h]=!0}e=null},global:{},remove:function(e,t,n,r,i){var o=s.hasData(e)&&s._data(e),u,a,f,l,c,h,p,d,v,m,g,y;if(!o||!(d=o.events))return;t=s.trim(P(t||"")).split(" ");for(u=0;u<t.length;u++){a=C.exec(t[u])||[],f=l=a[1],c=a[2];if(!f){for(f in d)s.event.remove(e,f+t[u],n,r,!0);continue}v=s.event.special[f]||{},f=(r?v.delegateType:v.bindType)||f,g=d[f]||[],h=g.length,c=c?new RegExp("(^|\\.)"+c.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):null;for(p=0;p<g.length;p++)y=g[p],(i||l===y.origType)&&(!n||n.guid===y.guid)&&(!c||c.test(y.namespace))&&(!r||r===y.selector||r==="**"&&y.selector)&&(g.splice(p--,1),y.selector&&g.delegateCount--,v.remove&&v.remove.call(e,y));g.length===0&&h!==g.length&&((!v.teardown||v.teardown.call(e,c)===!1)&&s.removeEvent(e,f,o.handle),delete d[f])}s.isEmptyObject(d)&&(m=o.handle,m&&(m.elem=null),s.removeData(e,["events","handle"],!0))},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(n,r,i,o){if(!i||i.nodeType!==3&&i.nodeType!==8){var u=n.type||n,a=[],f,l,c,h,p,d,v,m,g,y;if(O.test(u+s.event.triggered))return;u.indexOf("!")>=0&&(u=u.slice(0,-1),l=!0),u.indexOf(".")>=0&&(a=u.split("."),u=a.shift(),a.sort());if((!i||s.event.customEvent[u])&&!s.event.global[u])return;n=typeof n=="object"?n[s.expando]?n:new s.Event(u,n):new s.Event(u),n.type=u,n.isTrigger=!0,n.exclusive=l,n.namespace=a.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+a.join("\\.(?:.*\\.)?")+"(\\.|$)"):null,d=u.indexOf(":")<0?"on"+u:"";if(!i){f=s.cache;for(c in f)f[c].events&&f[c].events[u]&&s.event.trigger(n,r,f[c].handle.elem,!0);return}n.result=t,n.target||(n.target=i),r=r!=null?s.makeArray(r):[],r.unshift(n),v=s.event.special[u]||{};if(v.trigger&&v.trigger.apply(i,r)===!1)return;g=[[i,v.bindType||u]];if(!o&&!v.noBubble&&!s.isWindow(i)){y=v.delegateType||u,h=O.test(y+u)?i:i.parentNode,p=null;for(;h;h=h.parentNode)g.push([h,y]),p=h;p&&p===i.ownerDocument&&g.push([p.defaultView||p.parentWindow||e,y])}for(c=0;c<g.length&&!n.isPropagationStopped();c++)h=g[c][0],n.type=g[c][1],m=(s._data(h,"events")||{})[n.type]&&s._data(h,"handle"),m&&m.apply(h,r),m=d&&h[d],m&&s.acceptData(h)&&m.apply(h,r)===!1&&n.preventDefault();return n.type=u,!o&&!n.isDefaultPrevented()&&(!v._default||v._default.apply(i.ownerDocument,r)===!1)&&(u!=="click"||!s.nodeName(i,"a"))&&s.acceptData(i)&&d&&i[u]&&(u!=="focus"&&u!=="blur"||n.target.offsetWidth!==0)&&!s.isWindow(i)&&(p=i[d],p&&(i[d]=null),s.event.triggered=u,i[u](),s.event.triggered=t,p&&(i[d]=p)),n.result}return},dispatch:function(n){n=s.event.fix(n||e.event);var r=(s._data(this,"events")||{})[n.type]||[],i=r.delegateCount,o=[].slice.call(arguments,0),u=!n.exclusive&&!n.namespace,a=s.event.special[n.type]||{},f=[],l,c,h,p,d,v,m,g,y,b,w;o[0]=n,n.delegateTarget=this;if(a.preDispatch&&a.preDispatch.call(this,n)===!1)return;if(i&&(!n.button||n.type!=="click")){p=s(this),p.context=this.ownerDocument||this;for(h=n.target;h!=this;h=h.parentNode||this)if(h.disabled!==!0){v={},g=[],p[0]=h;for(l=0;l<i;l++)y=r[l],b=y.selector,v[b]===t&&(v[b]=y.quick?D(h,y.quick):p.is(b)),v[b]&&g.push(y);g.length&&f.push({elem:h,matches:g})}}r.length>i&&f.push({elem:this,matches:r.slice(i)});for(l=0;l<f.length&&!n.isPropagationStopped();l++){m=f[l],n.currentTarget=m.elem;for(c=0;c<m.matches.length&&!n.isImmediatePropagationStopped();c++){y=m.matches[c];if(u||!n.namespace&&!y.namespace||n.namespace_re&&n.namespace_re.test(y.namespace))n.data=y.data,n.handleObj=y,d=((s.event.special[y.origType]||{}).handle||y.handler).apply(m.elem,o),d!==t&&(n.result=d,d===!1&&(n.preventDefault(),n.stopPropagation()))}}return a.postDispatch&&a.postDispatch.call(this,n),n.result},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return e.which==null&&(e.which=t.charCode!=null?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,r){var i,s,o,u=r.button,a=r.fromElement;return e.pageX==null&&r.clientX!=null&&(i=e.target.ownerDocument||n,s=i.documentElement,o=i.body,e.pageX=r.clientX+(s&&s.scrollLeft||o&&o.scrollLeft||0)-(s&&s.clientLeft||o&&o.clientLeft||0),e.pageY=r.clientY+(s&&s.scrollTop||o&&o.scrollTop||0)-(s&&s.clientTop||o&&o.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?r.toElement:a),!e.which&&u!==t&&(e.which=u&1?1:u&2?3:u&4?2:0),e}},fix:function(e){if(e[s.expando])return e;var r,i,o=e,u=s.event.fixHooks[e.type]||{},a=u.props?this.props.concat(u.props):this.props;e=s.Event(o);for(r=a.length;r;)i=a[--r],e[i]=o[i];return e.target||(e.target=o.srcElement||n),e.target.nodeType===3&&(e.target=e.target.parentNode),e.metaKey===t&&(e.metaKey=e.ctrlKey),u.filter?u.filter(e,o):e},special:{ready:{setup:s.bindReady},load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(e,t,n){s.isWindow(this)&&(this.onbeforeunload=n)},teardown:function(e,t){this.onbeforeunload===t&&(this.onbeforeunload=null)}}},simulate:function(e,t,n,r){var i=s.extend(new s.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?s.event.trigger(i,null,t):s.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},s.event.handle=s.event.dispatch,s.removeEvent=n.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){e.detachEvent&&e.detachEvent("on"+t,n)},s.Event=function(e,t){if(!(this instanceof s.Event))return new s.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?B:H):this.type=e,t&&s.extend(this,t),this.timeStamp=e&&e.timeStamp||s.now(),this[s.expando]=!0},s.Event.prototype={preventDefault:function(){this.isDefaultPrevented=B;var e=this.originalEvent;if(!e)return;e.preventDefault?e.preventDefault():e.returnValue=!1},stopPropagation:function(){this.isPropagationStopped=B;var e=this.originalEvent;if(!e)return;e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=B,this.stopPropagation()},isDefaultPrevented:H,isPropagationStopped:H,isImmediatePropagationStopped:H},s.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){s.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n=this,r=e.relatedTarget,i=e.handleObj,o=i.selector,u;if(!r||r!==n&&!s.contains(n,r))e.type=i.origType,u=i.handler.apply(this,arguments),e.type=t;return u}}}),s.support.submitBubbles||(s.event.special.submit={setup:function(){if(s.nodeName(this,"form"))return!1;s.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,r=s.nodeName(n,"input")||s.nodeName(n,"button")?n.form:t;r&&!r._submit_attached&&(s.event.add(r,"submit._submit",function(e){e._submit_bubble=!0}),r._submit_attached=!0)})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&s.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){if(s.nodeName(this,"form"))return!1;s.event.remove(this,"._submit")}}),s.support.changeBubbles||(s.event.special.change={setup:function(){if(N.test(this.nodeName)){if(this.type==="checkbox"||this.type==="radio")s.event.add(this,"propertychange._change",function(e){e.originalEvent.propertyName==="checked"&&(this._just_changed=!0)}),s.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1,s.event.simulate("change",this,e,!0))});return!1}s.event.add(this,"beforeactivate._change",function(e){var t=e.target;N.test(t.nodeName)&&!t._change_attached&&(s.event.add(t,"change._change",function(e){this.parentNode&&!e.isSimulated&&!e.isTrigger&&s.event.simulate("change",this.parentNode,e,!0)}),t._change_attached=!0)})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||t.type!=="radio"&&t.type!=="checkbox")return e.handleObj.handler.apply(this,arguments)},teardown:function(){return s.event.remove(this,"._change"),N.test(this.nodeName)}}),s.support.focusinBubbles||s.each({focus:"focusin",blur:"focusout"},function(e,t){var r=0,i=function(e){s.event.simulate(t,e.target,s.event.fix(e),!0)};s.event.special[t]={setup:function(){r++===0&&n.addEventListener(e,i,!0)},teardown:function(){--r===0&&n.removeEventListener(e,i,!0)}}}),s.fn.extend({on:function(e,n,r,i,o){var u,a;if(typeof e=="object"){typeof n!="string"&&(r=r||n,n=t);for(a in e)this.on(a,n,r,e[a],o);return this}r==null&&i==null?(i=n,r=n=t):i==null&&(typeof n=="string"?(i=r,r=t):(i=r,r=n,n=t));if(i===!1)i=H;else if(!i)return this;return o===1&&(u=i,i=function(e){return s().off(e),u.apply(this,arguments)},i.guid=u.guid||(u.guid=s.guid++)),this.each(function(){s.event.add(this,e,i,r,n)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,n,r){if(e&&e.preventDefault&&e.handleObj){var i=e.handleObj;return s(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this}if(typeof e=="object"){for(var o in e)this.off(o,n,e[o]);return this}if(n===!1||typeof n=="function")r=n,n=t;return r===!1&&(r=H),this.each(function(){s.event.remove(this,e,r,n)})},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},live:function(e,t,n){return s(this.context).on(e,this.selector,t,n),this},die:function(e,t){return s(this.context).off(e,this.selector||"**",t),this},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return arguments.length==1?this.off(e,"**"):this.off(t,e,n)},trigger:function(e,t){return this.each(function(){s.event.trigger(e,t,this)})},triggerHandler:function(e,t){if(this[0])return s.event.trigger(e,t,this[0],!0)},toggle:function(e){var t=arguments,n=e.guid||s.guid++,r=0,i=function(n){var i=(s._data(this,"lastToggle"+e.guid)||0)%r;return s._data(this,"lastToggle"+e.guid,i+1),n.preventDefault(),t[i].apply(this,arguments)||!1};i.guid=n;while(r<t.length)t[r++].guid=n;return this.click(i)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),s.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){s.fn[t]=function(e,n){return n==null&&(n=e,e=null),arguments.length>0?this.on(t,null,e,n):this.trigger(t)},s.attrFn&&(s.attrFn[t]=!0),L.test(t)&&(s.event.fixHooks[t]=s.event.keyHooks),A.test(t)&&(s.event.fixHooks[t]=s.event.mouseHooks)}),function(){function S(e,t,n,i,s,o){for(var u=0,a=i.length;u<a;u++){var f=i[u];if(f){var l=!1;f=f[e];while(f){if(f[r]===n){l=i[f.sizset];break}f.nodeType===1&&!o&&(f[r]=n,f.sizset=u);if(f.nodeName.toLowerCase()===t){l=f;break}f=f[e]}i[u]=l}}}function x(e,t,n,i,s,o){for(var u=0,a=i.length;u<a;u++){var f=i[u];if(f){var l=!1;f=f[e];while(f){if(f[r]===n){l=i[f.sizset];break}if(f.nodeType===1){o||(f[r]=n,f.sizset=u);if(typeof t!="string"){if(f===t){l=!0;break}}else if(h.filter(t,[f]).length>0){l=f;break}}f=f[e]}i[u]=l}}}var e=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,r="sizcache"+(Math.random()+"").replace(".",""),i=0,o=Object.prototype.toString,u=!1,a=!0,f=/\\/g,l=/\r\n/g,c=/\W/;[0,0].sort(function(){return a=!1,0});var h=function(t,r,i,s){i=i||[],r=r||n;var u=r;if(r.nodeType!==1&&r.nodeType!==9)return[];if(!t||typeof t!="string")return i;var a,f,l,c,p,m,g,b,w=!0,E=h.isXML(r),S=[],x=t;do{e.exec(""),a=e.exec(x);if(a){x=a[3],S.push(a[1]);if(a[2]){c=a[3];break}}}while(a);if(S.length>1&&v.exec(t))if(S.length===2&&d.relative[S[0]])f=T(S[0]+S[1],r,s);else{f=d.relative[S[0]]?[r]:h(S.shift(),r);while(S.length)t=S.shift(),d.relative[t]&&(t+=S.shift()),f=T(t,f,s)}else{!s&&S.length>1&&r.nodeType===9&&!E&&d.match.ID.test(S[0])&&!d.match.ID.test(S[S.length-1])&&(p=h.find(S.shift(),r,E),r=p.expr?h.filter(p.expr,p.set)[0]:p.set[0]);if(r){p=s?{expr:S.pop(),set:y(s)}:h.find(S.pop(),S.length!==1||S[0]!=="~"&&S[0]!=="+"||!r.parentNode?r:r.parentNode,E),f=p.expr?h.filter(p.expr,p.set):p.set,S.length>0?l=y(f):w=!1;while(S.length)m=S.pop(),g=m,d.relative[m]?g=S.pop():m="",g==null&&(g=r),d.relative[m](l,g,E)}else l=S=[]}l||(l=f),l||h.error(m||t);if(o.call(l)==="[object Array]")if(!w)i.push.apply(i,l);else if(r&&r.nodeType===1)for(b=0;l[b]!=null;b++)l[b]&&(l[b]===!0||l[b].nodeType===1&&h.contains(r,l[b]))&&i.push(f[b]);else for(b=0;l[b]!=null;b++)l[b]&&l[b].nodeType===1&&i.push(f[b]);else y(l,i);return c&&(h(c,u,i,s),h.uniqueSort(i)),i};h.uniqueSort=function(e){if(w){u=a,e.sort(w);if(u)for(var t=1;t<e.length;t++)e[t]===e[t-1]&&e.splice(t--,1)}return e},h.matches=function(e,t){return h(e,null,null,t)},h.matchesSelector=function(e,t){return h(t,null,null,[e]).length>0},h.find=function(e,t,n){var r,i,s,o,u,a;if(!e)return[];for(i=0,s=d.order.length;i<s;i++){u=d.order[i];if(o=d.leftMatch[u].exec(e)){a=o[1],o.splice(1,1);if(a.substr(a.length-1)!=="\\"){o[1]=(o[1]||"").replace(f,""),r=d.find[u](o,t,n);if(r!=null){e=e.replace(d.match[u],"");break}}}}return r||(r=typeof t.getElementsByTagName!="undefined"?t.getElementsByTagName("*"):[]),{set:r,expr:e}},h.filter=function(e,n,r,i){var s,o,u,a,f,l,c,p,v,m=e,g=[],y=n,b=n&&n[0]&&h.isXML(n[0]);while(e&&n.length){for(u in d.filter)if((s=d.leftMatch[u].exec(e))!=null&&s[2]){l=d.filter[u],c=s[1],o=!1,s.splice(1,1);if(c.substr(c.length-1)==="\\")continue;y===g&&(g=[]);if(d.preFilter[u]){s=d.preFilter[u](s,y,r,g,i,b);if(!s)o=a=!0;else if(s===!0)continue}if(s)for(p=0;(f=y[p])!=null;p++)f&&(a=l(f,s,p,y),v=i^a,r&&a!=null?v?o=!0:y[p]=!1:v&&(g.push(f),o=!0));if(a!==t){r||(y=g),e=e.replace(d.match[u],"");if(!o)return[];break}}if(e===m){if(o!=null)break;h.error(e)}m=e}return y},h.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)};var p=h.getText=function(e){var t,n,r=e.nodeType,i="";if(r){if(r===1||r===9||r===11){if(typeof e.textContent=="string")return e.textContent;if(typeof e.innerText=="string")return e.innerText.replace(l,"");for(e=e.firstChild;e;e=e.nextSibling)i+=p(e)}else if(r===3||r===4)return e.nodeValue}else for(t=0;n=e[t];t++)n.nodeType!==8&&(i+=p(n));return i},d=h.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(e){return e.getAttribute("href")},type:function(e){return e.getAttribute("type")}},relative:{"+":function(e,t){var n=typeof t=="string",r=n&&!c.test(t),i=n&&!r;r&&(t=t.toLowerCase());for(var s=0,o=e.length,u;s<o;s++)if(u=e[s]){while((u=u.previousSibling)&&u.nodeType!==1);e[s]=i||u&&u.nodeName.toLowerCase()===t?u||!1:u===t}i&&h.filter(t,e,!0)},">":function(e,t){var n,r=typeof t=="string",i=0,s=e.length;if(r&&!c.test(t)){t=t.toLowerCase();for(;i<s;i++){n=e[i];if(n){var o=n.parentNode;e[i]=o.nodeName.toLowerCase()===t?o:!1}}}else{for(;i<s;i++)n=e[i],n&&(e[i]=r?n.parentNode:n.parentNode===t);r&&h.filter(t,e,!0)}},"":function(e,t,n){var r,s=i++,o=x;typeof t=="string"&&!c.test(t)&&(t=t.toLowerCase(),r=t,o=S),o("parentNode",t,s,e,r,n)},"~":function(e,t,n){var r,s=i++,o=x;typeof t=="string"&&!c.test(t)&&(t=t.toLowerCase(),r=t,o=S),o("previousSibling",t,s,e,r,n)}},find:{ID:function(e,t,n){if(typeof t.getElementById!="undefined"&&!n){var r=t.getElementById(e[1]);return r&&r.parentNode?[r]:[]}},NAME:function(e,t){if(typeof t.getElementsByName!="undefined"){var n=[],r=t.getElementsByName(e[1]);for(var i=0,s=r.length;i<s;i++)r[i].getAttribute("name")===e[1]&&n.push(r[i]);return n.length===0?null:n}},TAG:function(e,t){if(typeof t.getElementsByTagName!="undefined")return t.getElementsByTagName(e[1])}},preFilter:{CLASS:function(e,t,n,r,i,s){e=" "+e[1].replace(f,"")+" ";if(s)return e;for(var o=0,u;(u=t[o])!=null;o++)u&&(i^(u.className&&(" "+u.className+" ").replace(/[\t\n\r]/g," ").indexOf(e)>=0)?n||r.push(u):n&&(t[o]=!1));return!1},ID:function(e){return e[1].replace(f,"")},TAG:function(e,t){return e[1].replace(f,"").toLowerCase()},CHILD:function(e){if(e[1]==="nth"){e[2]||h.error(e[0]),e[2]=e[2].replace(/^\+|\s*/g,"");var t=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec(e[2]==="even"&&"2n"||e[2]==="odd"&&"2n+1"||!/\D/.test(e[2])&&"0n+"+e[2]||e[2]);e[2]=t[1]+(t[2]||1)-0,e[3]=t[3]-0}else e[2]&&h.error(e[0]);return e[0]=i++,e},ATTR:function(e,t,n,r,i,s){var o=e[1]=e[1].replace(f,"");return!s&&d.attrMap[o]&&(e[1]=d.attrMap[o]),e[4]=(e[4]||e[5]||"").replace(f,""),e[2]==="~="&&(e[4]=" "+e[4]+" "),e},PSEUDO:function(t,n,r,i,s){if(t[1]==="not"){if(!((e.exec(t[3])||"").length>1||/^\w/.test(t[3]))){var o=h.filter(t[3],n,r,!0^s);return r||i.push.apply(i,o),!1}t[3]=h(t[3],null,null,n)}else if(d.match.POS.test(t[0])||d.match.CHILD.test(t[0]))return!0;return t},POS:function(e){return e.unshift(!0),e}},filters:{enabled:function(e){return e.disabled===!1&&e.type!=="hidden"},disabled:function(e){return e.disabled===!0},checked:function(e){return e.checked===!0},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},parent:function(e){return!!e.firstChild},empty:function(e){return!e.firstChild},has:function(e,t,n){return!!h(n[3],e).length},header:function(e){return/h\d/i.test(e.nodeName)},text:function(e){var t=e.getAttribute("type"),n=e.type;return e.nodeName.toLowerCase()==="input"&&"text"===n&&(t===n||t===null)},radio:function(e){return e.nodeName.toLowerCase()==="input"&&"radio"===e.type},checkbox:function(e){return e.nodeName.toLowerCase()==="input"&&"checkbox"===e.type},file:function(e){return e.nodeName.toLowerCase()==="input"&&"file"===e.type},password:function(e){return e.nodeName.toLowerCase()==="input"&&"password"===e.type},submit:function(e){var t=e.nodeName.toLowerCase();return(t==="input"||t==="button")&&"submit"===e.type},image:function(e){return e.nodeName.toLowerCase()==="input"&&"image"===e.type},reset:function(e){var t=e.nodeName.toLowerCase();return(t==="input"||t==="button")&&"reset"===
e.type},button:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&"button"===e.type||t==="button"},input:function(e){return/input|select|textarea|button/i.test(e.nodeName)},focus:function(e){return e===e.ownerDocument.activeElement}},setFilters:{first:function(e,t){return t===0},last:function(e,t,n,r){return t===r.length-1},even:function(e,t){return t%2===0},odd:function(e,t){return t%2===1},lt:function(e,t,n){return t<n[3]-0},gt:function(e,t,n){return t>n[3]-0},nth:function(e,t,n){return n[3]-0===t},eq:function(e,t,n){return n[3]-0===t}},filter:{PSEUDO:function(e,t,n,r){var i=t[1],s=d.filters[i];if(s)return s(e,n,t,r);if(i==="contains")return(e.textContent||e.innerText||p([e])||"").indexOf(t[3])>=0;if(i==="not"){var o=t[3];for(var u=0,a=o.length;u<a;u++)if(o[u]===e)return!1;return!0}h.error(i)},CHILD:function(e,t){var n,i,s,o,u,a,f,l=t[1],c=e;switch(l){case"only":case"first":while(c=c.previousSibling)if(c.nodeType===1)return!1;if(l==="first")return!0;c=e;case"last":while(c=c.nextSibling)if(c.nodeType===1)return!1;return!0;case"nth":n=t[2],i=t[3];if(n===1&&i===0)return!0;s=t[0],o=e.parentNode;if(o&&(o[r]!==s||!e.nodeIndex)){a=0;for(c=o.firstChild;c;c=c.nextSibling)c.nodeType===1&&(c.nodeIndex=++a);o[r]=s}return f=e.nodeIndex-i,n===0?f===0:f%n===0&&f/n>=0}},ID:function(e,t){return e.nodeType===1&&e.getAttribute("id")===t},TAG:function(e,t){return t==="*"&&e.nodeType===1||!!e.nodeName&&e.nodeName.toLowerCase()===t},CLASS:function(e,t){return(" "+(e.className||e.getAttribute("class"))+" ").indexOf(t)>-1},ATTR:function(e,t){var n=t[1],r=h.attr?h.attr(e,n):d.attrHandle[n]?d.attrHandle[n](e):e[n]!=null?e[n]:e.getAttribute(n),i=r+"",s=t[2],o=t[4];return r==null?s==="!=":!s&&h.attr?r!=null:s==="="?i===o:s==="*="?i.indexOf(o)>=0:s==="~="?(" "+i+" ").indexOf(o)>=0:o?s==="!="?i!==o:s==="^="?i.indexOf(o)===0:s==="$="?i.substr(i.length-o.length)===o:s==="|="?i===o||i.substr(0,o.length+1)===o+"-":!1:i&&r!==!1},POS:function(e,t,n,r){var i=t[2],s=d.setFilters[i];if(s)return s(e,n,t,r)}}},v=d.match.POS,m=function(e,t){return"\\"+(t-0+1)};for(var g in d.match)d.match[g]=new RegExp(d.match[g].source+/(?![^\[]*\])(?![^\(]*\))/.source),d.leftMatch[g]=new RegExp(/(^(?:.|\r|\n)*?)/.source+d.match[g].source.replace(/\\(\d+)/g,m));d.match.globalPOS=v;var y=function(e,t){return e=Array.prototype.slice.call(e,0),t?(t.push.apply(t,e),t):e};try{Array.prototype.slice.call(n.documentElement.childNodes,0)[0].nodeType}catch(b){y=function(e,t){var n=0,r=t||[];if(o.call(e)==="[object Array]")Array.prototype.push.apply(r,e);else if(typeof e.length=="number")for(var i=e.length;n<i;n++)r.push(e[n]);else for(;e[n];n++)r.push(e[n]);return r}}var w,E;n.documentElement.compareDocumentPosition?w=function(e,t){return e===t?(u=!0,0):!e.compareDocumentPosition||!t.compareDocumentPosition?e.compareDocumentPosition?-1:1:e.compareDocumentPosition(t)&4?-1:1}:(w=function(e,t){if(e===t)return u=!0,0;if(e.sourceIndex&&t.sourceIndex)return e.sourceIndex-t.sourceIndex;var n,r,i=[],s=[],o=e.parentNode,a=t.parentNode,f=o;if(o===a)return E(e,t);if(!o)return-1;if(!a)return 1;while(f)i.unshift(f),f=f.parentNode;f=a;while(f)s.unshift(f),f=f.parentNode;n=i.length,r=s.length;for(var l=0;l<n&&l<r;l++)if(i[l]!==s[l])return E(i[l],s[l]);return l===n?E(e,s[l],-1):E(i[l],t,1)},E=function(e,t,n){if(e===t)return n;var r=e.nextSibling;while(r){if(r===t)return-1;r=r.nextSibling}return 1}),function(){var e=n.createElement("div"),r="script"+(new Date).getTime(),i=n.documentElement;e.innerHTML="<a name='"+r+"'/>",i.insertBefore(e,i.firstChild),n.getElementById(r)&&(d.find.ID=function(e,n,r){if(typeof n.getElementById!="undefined"&&!r){var i=n.getElementById(e[1]);return i?i.id===e[1]||typeof i.getAttributeNode!="undefined"&&i.getAttributeNode("id").nodeValue===e[1]?[i]:t:[]}},d.filter.ID=function(e,t){var n=typeof e.getAttributeNode!="undefined"&&e.getAttributeNode("id");return e.nodeType===1&&n&&n.nodeValue===t}),i.removeChild(e),i=e=null}(),function(){var e=n.createElement("div");e.appendChild(n.createComment("")),e.getElementsByTagName("*").length>0&&(d.find.TAG=function(e,t){var n=t.getElementsByTagName(e[1]);if(e[1]==="*"){var r=[];for(var i=0;n[i];i++)n[i].nodeType===1&&r.push(n[i]);n=r}return n}),e.innerHTML="<a href='#'></a>",e.firstChild&&typeof e.firstChild.getAttribute!="undefined"&&e.firstChild.getAttribute("href")!=="#"&&(d.attrHandle.href=function(e){return e.getAttribute("href",2)}),e=null}(),n.querySelectorAll&&function(){var e=h,t=n.createElement("div"),r="__sizzle__";t.innerHTML="<p class='TEST'></p>";if(t.querySelectorAll&&t.querySelectorAll(".TEST").length===0)return;h=function(t,i,s,o){i=i||n;if(!o&&!h.isXML(i)){var u=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(t);if(u&&(i.nodeType===1||i.nodeType===9)){if(u[1])return y(i.getElementsByTagName(t),s);if(u[2]&&d.find.CLASS&&i.getElementsByClassName)return y(i.getElementsByClassName(u[2]),s)}if(i.nodeType===9){if(t==="body"&&i.body)return y([i.body],s);if(u&&u[3]){var a=i.getElementById(u[3]);if(!a||!a.parentNode)return y([],s);if(a.id===u[3])return y([a],s)}try{return y(i.querySelectorAll(t),s)}catch(f){}}else if(i.nodeType===1&&i.nodeName.toLowerCase()!=="object"){var l=i,c=i.getAttribute("id"),p=c||r,v=i.parentNode,m=/^\s*[+~]/.test(t);c?p=p.replace(/'/g,"\\$&"):i.setAttribute("id",p),m&&v&&(i=i.parentNode);try{if(!m||v)return y(i.querySelectorAll("[id='"+p+"'] "+t),s)}catch(g){}finally{c||l.removeAttribute("id")}}}return e(t,i,s,o)};for(var i in e)h[i]=e[i];t=null}(),function(){var e=n.documentElement,t=e.matchesSelector||e.mozMatchesSelector||e.webkitMatchesSelector||e.msMatchesSelector;if(t){var r=!t.call(n.createElement("div"),"div"),i=!1;try{t.call(n.documentElement,"[test!='']:sizzle")}catch(s){i=!0}h.matchesSelector=function(e,n){n=n.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']");if(!h.isXML(e))try{if(i||!d.match.PSEUDO.test(n)&&!/!=/.test(n)){var s=t.call(e,n);if(s||!r||e.document&&e.document.nodeType!==11)return s}}catch(o){}return h(n,null,null,[e]).length>0}}}(),function(){var e=n.createElement("div");e.innerHTML="<div class='test e'></div><div class='test'></div>";if(!e.getElementsByClassName||e.getElementsByClassName("e").length===0)return;e.lastChild.className="e";if(e.getElementsByClassName("e").length===1)return;d.order.splice(1,0,"CLASS"),d.find.CLASS=function(e,t,n){if(typeof t.getElementsByClassName!="undefined"&&!n)return t.getElementsByClassName(e[1])},e=null}(),n.documentElement.contains?h.contains=function(e,t){return e!==t&&(e.contains?e.contains(t):!0)}:n.documentElement.compareDocumentPosition?h.contains=function(e,t){return!!(e.compareDocumentPosition(t)&16)}:h.contains=function(){return!1},h.isXML=function(e){var t=(e?e.ownerDocument||e:0).documentElement;return t?t.nodeName!=="HTML":!1};var T=function(e,t,n){var r,i=[],s="",o=t.nodeType?[t]:t;while(r=d.match.PSEUDO.exec(e))s+=r[0],e=e.replace(d.match.PSEUDO,"");e=d.relative[e]?e+"*":e;for(var u=0,a=o.length;u<a;u++)h(e,o[u],i,n);return h.filter(s,i)};h.attr=s.attr,h.selectors.attrMap={},s.find=h,s.expr=h.selectors,s.expr[":"]=s.expr.filters,s.unique=h.uniqueSort,s.text=h.getText,s.isXMLDoc=h.isXML,s.contains=h.contains}();var j=/Until$/,F=/^(?:parents|prevUntil|prevAll)/,I=/,/,q=/^.[^:#\[\.,]*$/,R=Array.prototype.slice,U=s.expr.match.globalPOS,z={children:!0,contents:!0,next:!0,prev:!0};s.fn.extend({find:function(e){var t=this,n,r;if(typeof e!="string")return s(e).filter(function(){for(n=0,r=t.length;n<r;n++)if(s.contains(t[n],this))return!0});var i=this.pushStack("","find",e),o,u,a;for(n=0,r=this.length;n<r;n++){o=i.length,s.find(e,this[n],i);if(n>0)for(u=o;u<i.length;u++)for(a=0;a<o;a++)if(i[a]===i[u]){i.splice(u--,1);break}}return i},has:function(e){var t=s(e);return this.filter(function(){for(var e=0,n=t.length;e<n;e++)if(s.contains(this,t[e]))return!0})},not:function(e){return this.pushStack(X(this,e,!1),"not",e)},filter:function(e){return this.pushStack(X(this,e,!0),"filter",e)},is:function(e){return!!e&&(typeof e=="string"?U.test(e)?s(e,this.context).index(this[0])>=0:s.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){var n=[],r,i,o=this[0];if(s.isArray(e)){var u=1;while(o&&o.ownerDocument&&o!==t){for(r=0;r<e.length;r++)s(o).is(e[r])&&n.push({selector:e[r],elem:o,level:u});o=o.parentNode,u++}return n}var a=U.test(e)||typeof e!="string"?s(e,t||this.context):0;for(r=0,i=this.length;r<i;r++){o=this[r];while(o){if(a?a.index(o)>-1:s.find.matchesSelector(o,e)){n.push(o);break}o=o.parentNode;if(!o||!o.ownerDocument||o===t||o.nodeType===11)break}}return n=n.length>1?s.unique(n):n,this.pushStack(n,"closest",e)},index:function(e){return e?typeof e=="string"?s.inArray(this[0],s(e)):s.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(e,t){var n=typeof e=="string"?s(e,t):s.makeArray(e&&e.nodeType?[e]:e),r=s.merge(this.get(),n);return this.pushStack(W(n[0])||W(r[0])?r:s.unique(r))},andSelf:function(){return this.add(this.prevObject)}}),s.each({parent:function(e){var t=e.parentNode;return t&&t.nodeType!==11?t:null},parents:function(e){return s.dir(e,"parentNode")},parentsUntil:function(e,t,n){return s.dir(e,"parentNode",n)},next:function(e){return s.nth(e,2,"nextSibling")},prev:function(e){return s.nth(e,2,"previousSibling")},nextAll:function(e){return s.dir(e,"nextSibling")},prevAll:function(e){return s.dir(e,"previousSibling")},nextUntil:function(e,t,n){return s.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return s.dir(e,"previousSibling",n)},siblings:function(e){return s.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return s.sibling(e.firstChild)},contents:function(e){return s.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:s.makeArray(e.childNodes)}},function(e,t){s.fn[e]=function(n,r){var i=s.map(this,t,n);return j.test(e)||(r=n),r&&typeof r=="string"&&(i=s.filter(r,i)),i=this.length>1&&!z[e]?s.unique(i):i,(this.length>1||I.test(r))&&F.test(e)&&(i=i.reverse()),this.pushStack(i,e,R.call(arguments).join(","))}}),s.extend({filter:function(e,t,n){return n&&(e=":not("+e+")"),t.length===1?s.find.matchesSelector(t[0],e)?[t[0]]:[]:s.find.matches(e,t)},dir:function(e,n,r){var i=[],o=e[n];while(o&&o.nodeType!==9&&(r===t||o.nodeType!==1||!s(o).is(r)))o.nodeType===1&&i.push(o),o=o[n];return i},nth:function(e,t,n,r){t=t||1;var i=0;for(;e;e=e[n])if(e.nodeType===1&&++i===t)break;return e},sibling:function(e,t){var n=[];for(;e;e=e.nextSibling)e.nodeType===1&&e!==t&&n.push(e);return n}});var $="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",J=/ jQuery\d+="(?:\d+|null)"/g,K=/^\s+/,Q=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/ig,G=/<([\w:]+)/,Y=/<tbody/i,Z=/<|&#?\w+;/,et=/<(?:script|style)/i,tt=/<(?:script|object|embed|option|style)/i,nt=new RegExp("<(?:"+$+")[\\s/>]","i"),rt=/checked\s*(?:[^=]|=\s*.checked.)/i,it=/\/(java|ecma)script/i,st=/^\s*<!(?:\[CDATA\[|\-\-)/,ot={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},ut=V(n);ot.optgroup=ot.option,ot.tbody=ot.tfoot=ot.colgroup=ot.caption=ot.thead,ot.th=ot.td,s.support.htmlSerialize||(ot._default=[1,"div<div>","</div>"]),s.fn.extend({text:function(e){return s.access(this,function(e){return e===t?s.text(this):this.empty().append((this[0]&&this[0].ownerDocument||n).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(s.isFunction(e))return this.each(function(t){s(this).wrapAll(e.call(this,t))});if(this[0]){var t=s(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstChild&&e.firstChild.nodeType===1)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return s.isFunction(e)?this.each(function(t){s(this).wrapInner(e.call(this,t))}):this.each(function(){var t=s(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=s.isFunction(e);return this.each(function(n){s(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){s.nodeName(this,"body")||s(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){this.nodeType===1&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){this.nodeType===1&&this.insertBefore(e,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this)});if(arguments.length){var e=s.clean(arguments);return e.push.apply(e,this.toArray()),this.pushStack(e,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this.nextSibling)});if(arguments.length){var e=this.pushStack(this,"after",arguments);return e.push.apply(e,s.clean(arguments)),e}},remove:function(e,t){for(var n=0,r;(r=this[n])!=null;n++)if(!e||s.filter(e,[r]).length)!t&&r.nodeType===1&&(s.cleanData(r.getElementsByTagName("*")),s.cleanData([r])),r.parentNode&&r.parentNode.removeChild(r);return this},empty:function(){for(var e=0,t;(t=this[e])!=null;e++){t.nodeType===1&&s.cleanData(t.getElementsByTagName("*"));while(t.firstChild)t.removeChild(t.firstChild)}return this},clone:function(e,t){return e=e==null?!1:e,t=t==null?e:t,this.map(function(){return s.clone(this,e,t)})},html:function(e){return s.access(this,function(e){var n=this[0]||{},r=0,i=this.length;if(e===t)return n.nodeType===1?n.innerHTML.replace(J,""):null;if(typeof e=="string"&&!et.test(e)&&(s.support.leadingWhitespace||!K.test(e))&&!ot[(G.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(Q,"<$1></$2>");try{for(;r<i;r++)n=this[r]||{},n.nodeType===1&&(s.cleanData(n.getElementsByTagName("*")),n.innerHTML=e);n=0}catch(o){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){return this[0]&&this[0].parentNode?s.isFunction(e)?this.each(function(t){var n=s(this),r=n.html();n.replaceWith(e.call(this,t,r))}):(typeof e!="string"&&(e=s(e).detach()),this.each(function(){var t=this.nextSibling,n=this.parentNode;s(this).remove(),t?s(t).before(e):s(n).append(e)})):this.length?this.pushStack(s(s.isFunction(e)?e():e),"replaceWith",e):this},detach:function(e){return this.remove(e,!0)},domManip:function(e,n,r){var i,o,u,a,f=e[0],l=[];if(!s.support.checkClone&&arguments.length===3&&typeof f=="string"&&rt.test(f))return this.each(function(){s(this).domManip(e,n,r,!0)});if(s.isFunction(f))return this.each(function(i){var o=s(this);e[0]=f.call(this,i,n?o.html():t),o.domManip(e,n,r)});if(this[0]){a=f&&f.parentNode,s.support.parentNode&&a&&a.nodeType===11&&a.childNodes.length===this.length?i={fragment:a}:i=s.buildFragment(e,this,l),u=i.fragment,u.childNodes.length===1?o=u=u.firstChild:o=u.firstChild;if(o){n=n&&s.nodeName(o,"tr");for(var c=0,h=this.length,p=h-1;c<h;c++)r.call(n?at(this[c],o):this[c],i.cacheable||h>1&&c<p?s.clone(u,!0,!0):u)}l.length&&s.each(l,function(e,t){t.src?s.ajax({type:"GET",global:!1,url:t.src,async:!1,dataType:"script"}):s.globalEval((t.text||t.textContent||t.innerHTML||"").replace(st,"/*$0*/")),t.parentNode&&t.parentNode.removeChild(t)})}return this}}),s.buildFragment=function(e,t,r){var i,o,u,a,f=e[0];return t&&t[0]&&(a=t[0].ownerDocument||t[0]),a.createDocumentFragment||(a=n),e.length===1&&typeof f=="string"&&f.length<512&&a===n&&f.charAt(0)==="<"&&!tt.test(f)&&(s.support.checkClone||!rt.test(f))&&(s.support.html5Clone||!nt.test(f))&&(o=!0,u=s.fragments[f],u&&u!==1&&(i=u)),i||(i=a.createDocumentFragment(),s.clean(e,a,i,r)),o&&(s.fragments[f]=u?i:1),{fragment:i,cacheable:o}},s.fragments={},s.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){s.fn[e]=function(n){var r=[],i=s(n),o=this.length===1&&this[0].parentNode;if(o&&o.nodeType===11&&o.childNodes.length===1&&i.length===1)return i[t](this[0]),this;for(var u=0,a=i.length;u<a;u++){var f=(u>0?this.clone(!0):this).get();s(i[u])[t](f),r=r.concat(f)}return this.pushStack(r,e,i.selector)}}),s.extend({clone:function(e,t,n){var r,i,o,u=s.support.html5Clone||s.isXMLDoc(e)||!nt.test("<"+e.nodeName+">")?e.cloneNode(!0):dt(e);if((!s.support.noCloneEvent||!s.support.noCloneChecked)&&(e.nodeType===1||e.nodeType===11)&&!s.isXMLDoc(e)){lt(e,u),r=ct(e),i=ct(u);for(o=0;r[o];++o)i[o]&&lt(r[o],i[o])}if(t){ft(e,u);if(n){r=ct(e),i=ct(u);for(o=0;r[o];++o)ft(r[o],i[o])}}return r=i=null,u},clean:function(e,t,r,i){var o,u,a,f=[];t=t||n,typeof t.createElement=="undefined"&&(t=t.ownerDocument||t[0]&&t[0].ownerDocument||n);for(var l=0,c;(c=e[l])!=null;l++){typeof c=="number"&&(c+="");if(!c)continue;if(typeof c=="string")if(!Z.test(c))c=t.createTextNode(c);else{c=c.replace(Q,"<$1></$2>");var h=(G.exec(c)||["",""])[1].toLowerCase(),p=ot[h]||ot._default,d=p[0],v=t.createElement("div"),m=ut.childNodes,g;t===n?ut.appendChild(v):V(t).appendChild(v),v.innerHTML=p[1]+c+p[2];while(d--)v=v.lastChild;if(!s.support.tbody){var y=Y.test(c),b=h==="table"&&!y?v.firstChild&&v.firstChild.childNodes:p[1]==="<table>"&&!y?v.childNodes:[];for(a=b.length-1;a>=0;--a)s.nodeName(b[a],"tbody")&&!b[a].childNodes.length&&b[a].parentNode.removeChild(b[a])}!s.support.leadingWhitespace&&K.test(c)&&v.insertBefore(t.createTextNode(K.exec(c)[0]),v.firstChild),c=v.childNodes,v&&(v.parentNode.removeChild(v),m.length>0&&(g=m[m.length-1],g&&g.parentNode&&g.parentNode.removeChild(g)))}var w;if(!s.support.appendChecked)if(c[0]&&typeof (w=c.length)=="number")for(a=0;a<w;a++)pt(c[a]);else pt(c);c.nodeType?f.push(c):f=s.merge(f,c)}if(r){o=function(e){return!e.type||it.test(e.type)};for(l=0;f[l];l++){u=f[l];if(i&&s.nodeName(u,"script")&&(!u.type||it.test(u.type)))i.push(u.parentNode?u.parentNode.removeChild(u):u);else{if(u.nodeType===1){var E=s.grep(u.getElementsByTagName("script"),o);f.splice.apply(f,[l+1,0].concat(E))}r.appendChild(u)}}}return f},cleanData:function(e){var t,n,r=s.cache,i=s.event.special,o=s.support.deleteExpando;for(var u=0,a;(a=e[u])!=null;u++){if(a.nodeName&&s.noData[a.nodeName.toLowerCase()])continue;n=a[s.expando];if(n){t=r[n];if(t&&t.events){for(var f in t.events)i[f]?s.event.remove(a,f):s.removeEvent(a,f,t.handle);t.handle&&(t.handle.elem=null)}o?delete a[s.expando]:a.removeAttribute&&a.removeAttribute(s.expando),delete r[n]}}}});var vt=/alpha\([^)]*\)/i,mt=/opacity=([^)]*)/,gt=/([A-Z]|^ms)/g,yt=/^[\-+]?(?:\d*\.)?\d+$/i,bt=/^-?(?:\d*\.)?\d+(?!px)[^\d\s]+$/i,wt=/^([\-+])=([\-+.\de]+)/,Et=/^margin/,St={position:"absolute",visibility:"hidden",display:"block"},xt=["Top","Right","Bottom","Left"],Tt,Nt,Ct;s.fn.css=function(e,n){return s.access(this,function(e,n,r){return r!==t?s.style(e,n,r):s.css(e,n)},e,n,arguments.length>1)},s.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Tt(e,"opacity");return n===""?"1":n}return e.style.opacity}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":s.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,r,i){if(!e||e.nodeType===3||e.nodeType===8||!e.style)return;var o,u,a=s.camelCase(n),f=e.style,l=s.cssHooks[a];n=s.cssProps[a]||a;if(r===t)return l&&"get"in l&&(o=l.get(e,!1,i))!==t?o:f[n];u=typeof r,u==="string"&&(o=wt.exec(r))&&(r=+(o[1]+1)*+o[2]+parseFloat(s.css(e,n)),u="number");if(r==null||u==="number"&&isNaN(r))return;u==="number"&&!s.cssNumber[a]&&(r+="px");if(!l||!("set"in l)||(r=l.set(e,r))!==t)try{f[n]=r}catch(c){}},css:function(e,n,r){var i,o;n=s.camelCase(n),o=s.cssHooks[n],n=s.cssProps[n]||n,n==="cssFloat"&&(n="float");if(o&&"get"in o&&(i=o.get(e,!0,r))!==t)return i;if(Tt)return Tt(e,n)},swap:function(e,t,n){var r={},i,s;for(s in t)r[s]=e.style[s],e.style[s]=t[s];i=n.call(e);for(s in t)e.style[s]=r[s];return i}}),s.curCSS=s.css,n.defaultView&&n.defaultView.getComputedStyle&&(Nt=function(e,t){var n,r,i,o,u=e.style;return t=t.replace(gt,"-$1").toLowerCase(),(r=e.ownerDocument.defaultView)&&(i=r.getComputedStyle(e,null))&&(n=i.getPropertyValue(t),n===""&&!s.contains(e.ownerDocument.documentElement,e)&&(n=s.style(e,t))),!s.support.pixelMargin&&i&&Et.test(t)&&bt.test(n)&&(o=u.width,u.width=n,n=i.width,u.width=o),n}),n.documentElement.currentStyle&&(Ct=function(e,t){var n,r,i,s=e.currentStyle&&e.currentStyle[t],o=e.style;return s==null&&o&&(i=o[t])&&(s=i),bt.test(s)&&(n=o.left,r=e.runtimeStyle&&e.runtimeStyle.left,r&&(e.runtimeStyle.left=e.currentStyle.left),o.left=t==="fontSize"?"1em":s,s=o.pixelLeft+"px",o.left=n,r&&(e.runtimeStyle.left=r)),s===""?"auto":s}),Tt=Nt||Ct,s.each(["height","width"],function(e,t){s.cssHooks[t]={get:function(e,n,r){if(n)return e.offsetWidth!==0?kt(e,t,r):s.swap(e,St,function(){return kt(e,t,r)})},set:function(e,t){return yt.test(t)?t+"px":t}}}),s.support.opacity||(s.cssHooks.opacity={get:function(e,t){return mt.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?parseFloat(RegExp.$1)/100+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=s.isNumeric(t)?"alpha(opacity="+t*100+")":"",o=r&&r.filter||n.filter||"";n.zoom=1;if(t>=1&&s.trim(o.replace(vt,""))===""){n.removeAttribute("filter");if(r&&!r.filter)return}n.filter=vt.test(o)?o.replace(vt,i):o+" "+i}}),s(function(){s.support.reliableMarginRight||(s.cssHooks.marginRight={get:function(e,t){return s.swap(e,{display:"inline-block"},function(){return t?Tt(e,"margin-right"):e.style.marginRight})}})}),s.expr&&s.expr.filters&&(s.expr.filters.hidden=function(e){var t=e.offsetWidth,n=e.offsetHeight;return t===0&&n===0||!s.support.reliableHiddenOffsets&&(e.style&&e.style.display||s.css(e,"display"))==="none"},s.expr.filters.visible=function(e){return!s.expr.filters.hidden(e)}),s.each({margin:"",padding:"",border:"Width"},function(e,t){s.cssHooks[e+t]={expand:function(n){var r,i=typeof n=="string"?n.split(" "):[n],s={};for(r=0;r<4;r++)s[e+xt[r]+t]=i[r]||i[r-2]||i[0];return s}}});var Lt=/%20/g,At=/\[\]$/,Ot=/\r?\n/g,Mt=/#.*$/,_t=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,Dt=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,Pt=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,Ht=/^(?:GET|HEAD)$/,Bt=/^\/\//,jt=/\?/,Ft=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,It=/^(?:select|textarea)/i,qt=/\s+/,Rt=/([?&])_=[^&]*/,Ut=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,zt=s.fn.load,Wt={},Xt={},Vt,$t,Jt=["*/"]+["*"];try{Vt=i.href}catch(Kt){Vt=n.createElement("a"),Vt.href="",Vt=Vt.href}$t=Ut.exec(Vt.toLowerCase())||[],s.fn.extend({load:function(e,n,r){if(typeof e!="string"&&zt)return zt.apply(this,arguments);if(!this.length)return this;var i=e.indexOf(" ");if(i>=0){var o=e.slice(i,e.length);e=e.slice(0,i)}var u="GET";n&&(s.isFunction(n)?(r=n,n=t):typeof n=="object"&&(n=s.param(n,s.ajaxSettings.traditional),u="POST"));var a=this;return s.ajax({url:e,type:u,dataType:"html",data:n,complete:function(e,t,n){n=e.responseText,e.isResolved()&&(e.done(function(e){n=e}),a.html(o?s("<div>").append(n.replace(Ft,"")).find(o):n)),r&&a.each(r,[n,t,e])}}),this},serialize:function(){return s.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?s.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||It.test(this.nodeName)||Dt.test(this.type))}).map(function(e,t){var n=s(this).val();return n==null?null:s.isArray(n)?s.map(n,function(e,n){return{name:t.name,value:e.replace(Ot,"\r\n")}}):{name:t.name,value:n.replace(Ot,"\r\n")}}).get()}}),s.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(e,t){s.fn[t]=function(e){return this.on(t,e)}}),s.each(["get","post"],function(e,n){s[n]=function(e,r,i,o){return s.isFunction(r)&&(o=o||i,i=r,r=t),s.ajax({type:n,url:e,data:r,success:i,dataType:o})}}),s.extend({getScript:function(e,n){return s.get(e,t,n,"script")},getJSON:function(e,t,n){return s.get(e,t,n,"json")},ajaxSetup:function(e,t){return t?Yt(e,s.ajaxSettings):(t=e,e=s.ajaxSettings),Yt(e,t),e},ajaxSettings:{url:Vt,isLocal:Pt.test($t[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":Jt},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":!0,"text json":s.parseJSON,"text xml":s.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:Qt(Wt),ajaxTransport:Qt(Xt),ajax:function(e,n){function S(e,n,c,h){if(y===2)return;y=2,m&&clearTimeout(m),v=t,p=h||"",E.readyState=e>0?4:0;var d,g,w,S=n,x=c?en(r,E,c):t,T,N;if(e>=200&&e<300||e===304){if(r.ifModified){if(T=E.getResponseHeader("Last-Modified"))s.lastModified[l]=T;if(N=E.getResponseHeader("Etag"))s.etag[l]=N}if(e===304)S="notmodified",d=!0;else try{g=tn(r,x),S="success",d=!0}catch(C){S="parsererror",w=C}}else{w=S;if(!S||e)S="error",e<0&&(e=0)}E.status=e,E.statusText=""+(n||S),d?u.resolveWith(i,[g,S,E]):u.rejectWith(i,[E,S,w]),E.statusCode(f),f=t,b&&o.trigger("ajax"+(d?"Success":"Error"),[E,r,d?g:w]),a.fireWith(i,[E,S]),b&&(o.trigger("ajaxComplete",[E,r]),--s.active||s.event.trigger("ajaxStop"))}typeof e=="object"&&(n=e,e=t),n=n||{};var r=s.ajaxSetup({},n),i=r.context||r,o=i!==r&&(i.nodeType||i instanceof s)?s(i):s.event,u=s.Deferred(),a=s.Callbacks("once memory"),f=r.statusCode||{},l,c={},h={},p,d,v,m,g,y=0,b,w,E={readyState:0,setRequestHeader:function(e,t){if(!y){var n=e.toLowerCase();e=h[n]=h[n]||e,c[e]=t}return this},getAllResponseHeaders:function(){return y===2?p:null},getResponseHeader:function(e){var n;if(y===2){if(!d){d={};while(n=_t.exec(p))d[n[1].toLowerCase()]=n[2]}n=d[e.toLowerCase()]}return n===t?null:n},overrideMimeType:function(e){return y||(r.mimeType=e),this},abort:function(e){return e=e||"abort",v&&v.abort(e),S(0,e),this}};u.promise(E),E.success=E.done,E.error=E.fail,E.complete=a.add,E.statusCode=function(e){if(e){var t;if(y<2)for(t in e)f[t]=[f[t],e[t]];else t=e[E.status],E.then(t,t)}return this},r.url=((e||r.url)+"").replace(Mt,"").replace(Bt,$t[1]+"//"),r.dataTypes=s.trim(r.dataType||"*").toLowerCase().split(qt),r.crossDomain==null&&(g=Ut.exec(r.url.toLowerCase()),r.crossDomain=!(!g||g[1]==$t[1]&&g[2]==$t[2]&&(g[3]||(g[1]==="http:"?80:443))==($t[3]||($t[1]==="http:"?80:443)))),r.data&&r.processData&&typeof r.data!="string"&&(r.data=s.param(r.data,r.traditional)),Gt(Wt,r,n,E);if(y===2)return!1;b=r.global,r.type=r.type.toUpperCase(),r.hasContent=!Ht.test(r.type),b&&s.active++===0&&s.event.trigger("ajaxStart");if(!r.hasContent){r.data&&(r.url+=(jt.test(r.url)?"&":"?")+r.data,delete r.data),l=r.url;if(r.cache===!1){var x=s.now(),T=r.url.replace(Rt,"$1_="+x);r.url=T+(T===r.url?(jt.test(r.url)?"&":"?")+"_="+x:"")}}(r.data&&r.hasContent&&r.contentType!==!1||n.contentType)&&E.setRequestHeader("Content-Type",r.contentType),r.ifModified&&(l=l||r.url,s.lastModified[l]&&E.setRequestHeader("If-Modified-Since",s.lastModified[l]),s.etag[l]&&E.setRequestHeader("If-None-Match",s.etag[l])),E.setRequestHeader("Accept",r.dataTypes[0]&&r.accepts[r.dataTypes[0]]?r.accepts[r.dataTypes[0]]+(r.dataTypes[0]!=="*"?", "+Jt+"; q=0.01":""):r.accepts["*"]);for(w in r.headers)E.setRequestHeader(w,r.headers[w]);if(!r.beforeSend||r.beforeSend.call(i,E,r)!==!1&&y!==2){for(w in{success:1,error:1,complete:1})E[w](r[w]);v=Gt(Xt,r,n,E);if(!v)S(-1,"No Transport");else{E.readyState=1,b&&o.trigger("ajaxSend",[E,r]),r.async&&r.timeout>0&&(m=setTimeout(function(){E.abort("timeout")},r.timeout));try{y=1,v.send(c,S)}catch(N){if(!(y<2))throw N;S(-1,N)}}return E}return E.abort(),!1},param:function(e,n){var r=[],i=function(e,t){t=s.isFunction(t)?t():t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};n===t&&(n=s.ajaxSettings.traditional);if(s.isArray(e)||e.jquery&&!s.isPlainObject(e))s.each(e,function(){i(this.name,this.value)});else for(var o in e)Zt(o,e[o],n,i);return r.join("&").replace(Lt,"+")}}),s.extend({active:0,lastModified:{},etag:{}});var nn=s.now(),rn=/(\=)\?(&|$)|\?\?/i;s.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return s.expando+"_"+nn++}}),s.ajaxPrefilter("json jsonp",function(t,n,r){var i=typeof t.data=="string"&&/^application\/x\-www\-form\-urlencoded/.test(t.contentType);if(t.dataTypes[0]==="jsonp"||t.jsonp!==!1&&(rn.test(t.url)||i&&rn.test(t.data))){var o,u=t.jsonpCallback=s.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a=e[u],f=t.url,l=t.data,c="$1"+u+"$2";return t.jsonp!==!1&&(f=f.replace(rn,c),t.url===f&&(i&&(l=l.replace(rn,c)),t.data===l&&(f+=(/\?/.test(f)?"&":"?")+t.jsonp+"="+u))),t.url=f,t.data=l,e[u]=function(e){o=[e]},r.always(function(){e[u]=a,o&&s.isFunction(a)&&e[u](o[0])}),t.converters["script json"]=function(){return o||s.error(u+" was not called"),o[0]},t.dataTypes[0]="json","script"}}),s.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(e){return s.globalEval(e),e}}}),s.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),s.ajaxTransport("script",function(e){if(e.crossDomain){var r,i=n.head||n.getElementsByTagName("head")[0]||n.documentElement;return{send:function(s,o){r=n.createElement("script"),r.async="async",e.scriptCharset&&(r.charset=e.scriptCharset),r.src=e.url,r.onload=r.onreadystatechange=function(e,n){if(n||!r.readyState||/loaded|complete/.test(r.readyState))r.onload=r.onreadystatechange=null,i&&r.parentNode&&i.removeChild(r),r=t,n||o(200,"success")},i.insertBefore(r,i.firstChild)},abort:function(){r&&r.onload(0,1)}}}});var sn=e.ActiveXObject?function(){for(var e in un)un[e](0,1)}:!1,on=0,un;s.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&an()||fn()}:an,function(e){s.extend(s.support,{ajax:!!e,cors:!!e&&"withCredentials"in e})}(s.ajaxSettings.xhr()),s.support.ajax&&s.ajaxTransport(function(n){if(!n.crossDomain||s.support.cors){var r;return{send:function(i,o){var u=n.xhr(),a,f;n.username?u.open(n.type,n.url,n.async,n.username,n.password):u.open(n.type,n.url,n.async);if(n.xhrFields)for(f in n.xhrFields)u[f]=n.xhrFields[f];n.mimeType&&u.overrideMimeType&&u.overrideMimeType(n.mimeType),!n.crossDomain&&!i["X-Requested-With"]&&(i["X-Requested-With"]="XMLHttpRequest");try{for(f in i)u.setRequestHeader(f,i[f])}catch(l){}u.send(n.hasContent&&n.data||null),r=function(e,i){var f,l,c,h,p;try{if(r&&(i||u.readyState===4)){r=t,a&&(u.onreadystatechange=s.noop,sn&&delete un[a]);if(i)u.readyState!==4&&u.abort();else{f=u.status,c=u.getAllResponseHeaders(),h={},p=u.responseXML,p&&p.documentElement&&(h.xml=p);try{h.text=u.responseText}catch(e){}try{l=u.statusText}catch(d){l=""}!f&&n.isLocal&&!n.crossDomain?f=h.text?200:404:f===1223&&(f=204)}}}catch(v){i||o(-1,v)}h&&o(f,l,h,c)},!n.async||u.readyState===4?r():(a=++on,sn&&(un||(un={},s(e).unload(sn)),un[a]=r),u.onreadystatechange=r)},abort:function(){r&&r(0,1)}}}});var ln={},cn,hn,pn=/^(?:toggle|show|hide)$/,dn=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,vn,mn=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]],gn;s.fn.extend({show:function(e,t,n){var r,i;if(e||e===0)return this.animate(wn("show",3),e,t,n);for(var o=0,u=this.length;o<u;o++)r=this[o],r.style&&(i=r.style.display,!s._data(r,"olddisplay")&&i==="none"&&(i=r.style.display=""),(i===""&&s.css(r,"display")==="none"||!s.contains(r.ownerDocument.documentElement,r))&&s._data(r,"olddisplay",En(r.nodeName)));for(o=0;o<u;o++){r=this[o];if(r.style){i=r.style.display;if(i===""||i==="none")r.style.display=s._data(r,"olddisplay")||""}}return this},hide:function(e,t,n){if(e||e===0)return this.animate(wn("hide",3),e,t,n);var r,i,o=0,u=this.length;for(;o<u;o++)r=this[o],r.style&&(i=s.css(r,"display"),i!=="none"&&!s._data(r,"olddisplay")&&s._data(r,"olddisplay",i));for(o=0;o<u;o++)this[o].style&&(this[o].style.display="none");return this},_toggle:s.fn.toggle,toggle:function(e,t,n){var r=typeof e=="boolean";return s.isFunction(e)&&s.isFunction(t)?this._toggle.apply(this,arguments):e==null||r?this.each(function(){var t=r?e:s(this).is(":hidden");s(this)[t?"show":"hide"]()}):this.animate(wn("toggle",3),e,t,n),this},fadeTo:function(e,t,n,r){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){function o(){i.queue===!1&&s._mark(this);var t=s.extend({},i),n=this.nodeType===1,r=
n&&s(this).is(":hidden"),o,u,a,f,l,c,h,p,d,v,m;t.animatedProperties={};for(a in e){o=s.camelCase(a),a!==o&&(e[o]=e[a],delete e[a]);if((l=s.cssHooks[o])&&"expand"in l){c=l.expand(e[o]),delete e[o];for(a in c)a in e||(e[a]=c[a])}}for(o in e){u=e[o],s.isArray(u)?(t.animatedProperties[o]=u[1],u=e[o]=u[0]):t.animatedProperties[o]=t.specialEasing&&t.specialEasing[o]||t.easing||"swing";if(u==="hide"&&r||u==="show"&&!r)return t.complete.call(this);n&&(o==="height"||o==="width")&&(t.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],s.css(this,"display")==="inline"&&s.css(this,"float")==="none"&&(!s.support.inlineBlockNeedsLayout||En(this.nodeName)==="inline"?this.style.display="inline-block":this.style.zoom=1))}t.overflow!=null&&(this.style.overflow="hidden");for(a in e)f=new s.fx(this,t,a),u=e[a],pn.test(u)?(m=s._data(this,"toggle"+a)||(u==="toggle"?r?"show":"hide":0),m?(s._data(this,"toggle"+a,m==="show"?"hide":"show"),f[m]()):f[u]()):(h=dn.exec(u),p=f.cur(),h?(d=parseFloat(h[2]),v=h[3]||(s.cssNumber[a]?"":"px"),v!=="px"&&(s.style(this,a,(d||1)+v),p=(d||1)/f.cur()*p,s.style(this,a,p+v)),h[1]&&(d=(h[1]==="-="?-1:1)*d+p),f.custom(p,d,v)):f.custom(p,u,""));return!0}var i=s.speed(t,n,r);return s.isEmptyObject(e)?this.each(i.complete,[!1]):(e=s.extend({},e),i.queue===!1?this.each(o):this.queue(i.queue,o))},stop:function(e,n,r){return typeof e!="string"&&(r=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){function u(e,t,n){var i=t[n];s.removeData(e,n,!0),i.stop(r)}var t,n=!1,i=s.timers,o=s._data(this);r||s._unmark(!0,this);if(e==null)for(t in o)o[t]&&o[t].stop&&t.indexOf(".run")===t.length-4&&u(this,o,t);else o[t=e+".run"]&&o[t].stop&&u(this,o,t);for(t=i.length;t--;)i[t].elem===this&&(e==null||i[t].queue===e)&&(r?i[t](!0):i[t].saveState(),n=!0,i.splice(t,1));(!r||!n)&&s.dequeue(this,e)})}}),s.each({slideDown:wn("show",1),slideUp:wn("hide",1),slideToggle:wn("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){s.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),s.extend({speed:function(e,t,n){var r=e&&typeof e=="object"?s.extend({},e):{complete:n||!n&&t||s.isFunction(e)&&e,duration:e,easing:n&&t||t&&!s.isFunction(t)&&t};r.duration=s.fx.off?0:typeof r.duration=="number"?r.duration:r.duration in s.fx.speeds?s.fx.speeds[r.duration]:s.fx.speeds._default;if(r.queue==null||r.queue===!0)r.queue="fx";return r.old=r.complete,r.complete=function(e){s.isFunction(r.old)&&r.old.call(this),r.queue?s.dequeue(this,r.queue):e!==!1&&s._unmark(this)},r},easing:{linear:function(e){return e},swing:function(e){return-Math.cos(e*Math.PI)/2+.5}},timers:[],fx:function(e,t,n){this.options=t,this.elem=e,this.prop=n,t.orig=t.orig||{}}}),s.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this),(s.fx.step[this.prop]||s.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]==null||!!this.elem.style&&this.elem.style[this.prop]!=null){var e,t=s.css(this.elem,this.prop);return isNaN(e=parseFloat(t))?!t||t==="auto"?0:t:e}return this.elem[this.prop]},custom:function(e,n,r){function u(e){return i.step(e)}var i=this,o=s.fx;this.startTime=gn||yn(),this.end=n,this.now=this.start=e,this.pos=this.state=0,this.unit=r||this.unit||(s.cssNumber[this.prop]?"":"px"),u.queue=this.options.queue,u.elem=this.elem,u.saveState=function(){s._data(i.elem,"fxshow"+i.prop)===t&&(i.options.hide?s._data(i.elem,"fxshow"+i.prop,i.start):i.options.show&&s._data(i.elem,"fxshow"+i.prop,i.end))},u()&&s.timers.push(u)&&!vn&&(vn=setInterval(o.tick,o.interval))},show:function(){var e=s._data(this.elem,"fxshow"+this.prop);this.options.orig[this.prop]=e||s.style(this.elem,this.prop),this.options.show=!0,e!==t?this.custom(this.cur(),e):this.custom(this.prop==="width"||this.prop==="height"?1:0,this.cur()),s(this.elem).show()},hide:function(){this.options.orig[this.prop]=s._data(this.elem,"fxshow"+this.prop)||s.style(this.elem,this.prop),this.options.hide=!0,this.custom(this.cur(),0)},step:function(e){var t,n,r,i=gn||yn(),o=!0,u=this.elem,a=this.options;if(e||i>=a.duration+this.startTime){this.now=this.end,this.pos=this.state=1,this.update(),a.animatedProperties[this.prop]=!0;for(t in a.animatedProperties)a.animatedProperties[t]!==!0&&(o=!1);if(o){a.overflow!=null&&!s.support.shrinkWrapBlocks&&s.each(["","X","Y"],function(e,t){u.style["overflow"+t]=a.overflow[e]}),a.hide&&s(u).hide();if(a.hide||a.show)for(t in a.animatedProperties)s.style(u,t,a.orig[t]),s.removeData(u,"fxshow"+t,!0),s.removeData(u,"toggle"+t,!0);r=a.complete,r&&(a.complete=!1,r.call(u))}return!1}return a.duration==Infinity?this.now=i:(n=i-this.startTime,this.state=n/a.duration,this.pos=s.easing[a.animatedProperties[this.prop]](this.state,n,0,1,a.duration),this.now=this.start+(this.end-this.start)*this.pos),this.update(),!0}},s.extend(s.fx,{tick:function(){var e,t=s.timers,n=0;for(;n<t.length;n++)e=t[n],!e()&&t[n]===e&&t.splice(n--,1);t.length||s.fx.stop()},interval:13,stop:function(){clearInterval(vn),vn=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(e){s.style(e.elem,"opacity",e.now)},_default:function(e){e.elem.style&&e.elem.style[e.prop]!=null?e.elem.style[e.prop]=e.now+e.unit:e.elem[e.prop]=e.now}}}),s.each(mn.concat.apply([],mn),function(e,t){t.indexOf("margin")&&(s.fx.step[t]=function(e){s.style(e.elem,t,Math.max(0,e.now)+e.unit)})}),s.expr&&s.expr.filters&&(s.expr.filters.animated=function(e){return s.grep(s.timers,function(t){return e===t.elem}).length});var Sn,xn=/^t(?:able|d|h)$/i,Tn=/^(?:body|html)$/i;"getBoundingClientRect"in n.documentElement?Sn=function(e,t,n,r){try{r=e.getBoundingClientRect()}catch(i){}if(!r||!s.contains(n,e))return r?{top:r.top,left:r.left}:{top:0,left:0};var o=t.body,u=Nn(t),a=n.clientTop||o.clientTop||0,f=n.clientLeft||o.clientLeft||0,l=u.pageYOffset||s.support.boxModel&&n.scrollTop||o.scrollTop,c=u.pageXOffset||s.support.boxModel&&n.scrollLeft||o.scrollLeft,h=r.top+l-a,p=r.left+c-f;return{top:h,left:p}}:Sn=function(e,t,n){var r,i=e.offsetParent,o=e,u=t.body,a=t.defaultView,f=a?a.getComputedStyle(e,null):e.currentStyle,l=e.offsetTop,c=e.offsetLeft;while((e=e.parentNode)&&e!==u&&e!==n){if(s.support.fixedPosition&&f.position==="fixed")break;r=a?a.getComputedStyle(e,null):e.currentStyle,l-=e.scrollTop,c-=e.scrollLeft,e===i&&(l+=e.offsetTop,c+=e.offsetLeft,s.support.doesNotAddBorder&&(!s.support.doesAddBorderForTableAndCells||!xn.test(e.nodeName))&&(l+=parseFloat(r.borderTopWidth)||0,c+=parseFloat(r.borderLeftWidth)||0),o=i,i=e.offsetParent),s.support.subtractsBorderForOverflowNotVisible&&r.overflow!=="visible"&&(l+=parseFloat(r.borderTopWidth)||0,c+=parseFloat(r.borderLeftWidth)||0),f=r}if(f.position==="relative"||f.position==="static")l+=u.offsetTop,c+=u.offsetLeft;return s.support.fixedPosition&&f.position==="fixed"&&(l+=Math.max(n.scrollTop,u.scrollTop),c+=Math.max(n.scrollLeft,u.scrollLeft)),{top:l,left:c}},s.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){s.offset.setOffset(this,e,t)});var n=this[0],r=n&&n.ownerDocument;return r?n===r.body?s.offset.bodyOffset(n):Sn(n,r,r.documentElement):null},s.offset={bodyOffset:function(e){var t=e.offsetTop,n=e.offsetLeft;return s.support.doesNotIncludeMarginInBodyOffset&&(t+=parseFloat(s.css(e,"marginTop"))||0,n+=parseFloat(s.css(e,"marginLeft"))||0),{top:t,left:n}},setOffset:function(e,t,n){var r=s.css(e,"position");r==="static"&&(e.style.position="relative");var i=s(e),o=i.offset(),u=s.css(e,"top"),a=s.css(e,"left"),f=(r==="absolute"||r==="fixed")&&s.inArray("auto",[u,a])>-1,l={},c={},h,p;f?(c=i.position(),h=c.top,p=c.left):(h=parseFloat(u)||0,p=parseFloat(a)||0),s.isFunction(t)&&(t=t.call(e,n,o)),t.top!=null&&(l.top=t.top-o.top+h),t.left!=null&&(l.left=t.left-o.left+p),"using"in t?t.using.call(e,l):i.css(l)}},s.fn.extend({position:function(){if(!this[0])return null;var e=this[0],t=this.offsetParent(),n=this.offset(),r=Tn.test(t[0].nodeName)?{top:0,left:0}:t.offset();return n.top-=parseFloat(s.css(e,"marginTop"))||0,n.left-=parseFloat(s.css(e,"marginLeft"))||0,r.top+=parseFloat(s.css(t[0],"borderTopWidth"))||0,r.left+=parseFloat(s.css(t[0],"borderLeftWidth"))||0,{top:n.top-r.top,left:n.left-r.left}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||n.body;while(e&&!Tn.test(e.nodeName)&&s.css(e,"position")==="static")e=e.offsetParent;return e})}}),s.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var r=/Y/.test(n);s.fn[e]=function(i){return s.access(this,function(e,i,o){var u=Nn(e);if(o===t)return u?n in u?u[n]:s.support.boxModel&&u.document.documentElement[i]||u.document.body[i]:e[i];u?u.scrollTo(r?s(u).scrollLeft():o,r?o:s(u).scrollTop()):e[i]=o},e,i,arguments.length,null)}}),s.each({Height:"height",Width:"width"},function(e,n){var r="client"+e,i="scroll"+e,o="offset"+e;s.fn["inner"+e]=function(){var e=this[0];return e?e.style?parseFloat(s.css(e,n,"padding")):this[n]():null},s.fn["outer"+e]=function(e){var t=this[0];return t?t.style?parseFloat(s.css(t,n,e?"margin":"border")):this[n]():null},s.fn[n]=function(e){return s.access(this,function(e,n,u){var a,f,l,c;if(s.isWindow(e))return a=e.document,f=a.documentElement[r],s.support.boxModel&&f||a.body&&a.body[r]||f;if(e.nodeType===9)return a=e.documentElement,a[r]>=a[i]?a[r]:Math.max(e.body[i],a[i],e.body[o],a[o]);if(u===t)return l=s.css(e,n),c=parseFloat(l),s.isNumeric(c)?c:l;s(e).css(n,u)},n,e,arguments.length,null)}}),e.jQuery=e.$=s,typeof define=="function"&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return s})}(window);var Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var t="",n,r,i,s,o,u,a=0;for(e=Base64._utf8_encode(e);a<e.length;)n=e.charCodeAt(a++),r=e.charCodeAt(a++),i=e.charCodeAt(a++),s=n>>2,n=(n&3)<<4|r>>4,o=(r&15)<<2|i>>6,u=i&63,isNaN(r)?o=u=64:isNaN(i)&&(u=64),t=t+this._keyStr.charAt(s)+this._keyStr.charAt(n)+this._keyStr.charAt(o)+this._keyStr.charAt(u);return t},decode:function(e){var t="",n,r,i,s,o,u=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");u<e.length;)n=this._keyStr.indexOf(e.charAt(u++)),r=this._keyStr.indexOf(e.charAt(u++)),s=this._keyStr.indexOf(e.charAt(u++)),o=this._keyStr.indexOf(e.charAt(u++)),n=n<<2|r>>4,r=(r&15)<<4|s>>2,i=(s&3)<<6|o,t+=String.fromCharCode(n),s!=64&&(t+=String.fromCharCode(r)),o!=64&&(t+=String.fromCharCode(i));return t=Base64._utf8_decode(t)},_utf8_encode:function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t+=String.fromCharCode(r):(r>127&&r<2048?t+=String.fromCharCode(r>>6|192):(t+=String.fromCharCode(r>>12|224),t+=String.fromCharCode(r>>6&63|128)),t+=String.fromCharCode(r&63|128))}return t},_utf8_decode:function(e){for(var t="",n=0,r=c1=c2=0;n<e.length;)r=e.charCodeAt(n),r<128?(t+=String.fromCharCode(r),n++):r>191&&r<224?(c2=e.charCodeAt(n+1),t+=String.fromCharCode((r&31)<<6|c2&63),n+=2):(c2=e.charCodeAt(n+1),c3=e.charCodeAt(n+2),t+=String.fromCharCode((r&15)<<12|(c2&63)<<6|c3&63),n+=3);return t}};(function(){function wt(e,t){var n;e||(e={});for(n in t)e[n]=t[n];return e}function Et(){var e=0,t=arguments,n=t.length,r={};for(;e<n;e++)r[t[e++]]=t[e];return r}function St(e,t){return parseInt(e,t||10)}function xt(e){return typeof e=="string"}function Tt(e){return typeof e=="object"}function Nt(e){return Object.prototype.toString.call(e)==="[object Array]"}function Ct(e){return typeof e=="number"}function kt(e){return r.log(e)/r.LN10}function Lt(e){return r.pow(10,e)}function At(e,t){var n=e.length;while(n--)if(e[n]===t){e.splice(n,1);break}}function Ot(t){return t!==e&&t!==null}function Mt(e,t,n){var r,i="setAttribute",s;if(xt(t))Ot(n)?e[i](t,n):e&&e.getAttribute&&(s=e.getAttribute(t));else if(Ot(t)&&Tt(t))for(r in t)e[i](r,t[r]);return s}function _t(e){return Nt(e)?e:[e]}function Dt(){var e=arguments,t,n,r=e.length;for(t=0;t<r;t++){n=e[t];if(typeof n!="undefined"&&n!==null)return n}}function Pt(t,n){v&&n&&n.opacity!==e&&(n.filter="alpha(opacity="+n.opacity*100+")"),wt(t.style,n)}function Ht(e,n,r,i,s){var o=t.createElement(e);return n&&wt(o,n),s&&Pt(o,{padding:0,border:R,margin:0}),r&&Pt(o,r),i&&i.appendChild(o),o}function Bt(e,t){var n=function(){};return n.prototype=new e,wt(n.prototype,t),n}function jt(e){return e=(e||0).toString(),e.indexOf(".")>-1?e.split(".")[1].length:0}function Ft(e,t,n,r){var i=L.lang,s=e,o=t===-1?jt(e):isNaN(t=f(t))?2:t,u=n===undefined?i.decimalPoint:n,a=r===undefined?i.thousandsSep:r,l=s<0?"-":"",c=String(St(s=f(+s||0).toFixed(o))),h=c.length>3?c.length%3:0;return l+(h?c.substr(0,h)+a:"")+c.substr(h).replace(/(\d{3})(?=\d)/g,"$1"+a)+(o?u+f(s-c).toFixed(o).slice(2):"")}function It(e,t){return(new Array((t||2)+1-String(e).length)).join(0)+e}function qt(e,t,n,r){var i,s;n=Dt(n,1),i=e/n,t||(t=[1,2,2.5,5,10],r&&r.allowDecimals===!1&&(n===1?t=[1,2,5,10]:n<=.1&&(t=[1/n])));for(s=0;s<t.length;s++){e=t[s];if(i<=(t[s]+(t[s+1]||t[s]))/2)break}return e*=n,e}function Rt(e,t){var n=t||[[J,[1,2,5,10,20,25,50,100,200,500]],[K,[1,2,5,10,15,30]],[Q,[1,2,5,10,15,30]],[G,[1,2,3,4,6,8,12]],[Y,[1,2]],[Z,[1,2]],[et,[1,2,3,4,6]],[tt,null]],r=n[n.length-1],i=_[r[0]],s=r[1],o,u;for(u=0;u<n.length;u++){r=n[u],i=_[r[0]],s=r[1];if(n[u+1]){var a=(i*s[s.length-1]+_[n[u+1][0]])/2;if(e<=a)break}}return i===_[tt]&&e<5*i&&(s=[1,2,5]),i===_[tt]&&e<5*i&&(s=[1,2,5]),o=qt(e/i,s),{unitRange:i,count:o,unitName:r[0]}}function Ut(e,t,n,r){var i=[],o,u={},a=L.global.useUTC,f,l=new Date(t),c=e.unitRange,h=e.count;c>=_[K]&&(l.setMilliseconds(0),l.setSeconds(c>=_[Q]?0:h*s(l.getSeconds()/h))),c>=_[Q]&&l[dt](c>=_[G]?0:h*s(l[at]()/h)),c>=_[G]&&l[vt](c>=_[Y]?0:h*s(l[ft]()/h)),c>=_[Y]&&l[mt](c>=_[et]?1:h*s(l[ct]()/h)),c>=_[et]&&(l[gt](c>=_[tt]?0:h*s(l[ht]()/h)),f=l[pt]()),c>=_[tt]&&(f-=f%h,l[yt](f)),c===_[Z]&&l[mt](l[ct]()-l[lt]()+Dt(r,1)),o=1,f=l[pt]();var p=l.getTime(),d=l[ht](),v=l[ct](),m=a?0:(864e5+l.getTimezoneOffset()*60*1e3)%864e5;while(p<n)i.push(p),c===_[tt]?p=ut(f+o*h,0):c===_[et]?p=ut(f,d+o*h):!!a||c!==_[Y]&&c!==_[Z]?(p+=c*h,c<=_[G]&&p%_[Y]===m&&(u[p]=Y)):p=ut(f,d,v+o*h*(c===_[Y]?1:7)),o++;return i.push(p),i.info=wt(e,{higherRanks:u,totalRange:c*h}),i}function zt(){this.color=0,this.symbol=0}function Wt(e,t){var n=e.length,r,i;for(i=0;i<n;i++)e[i].ss_i=i;e.sort(function(e,n){return r=t(e,n),r===0?e.ss_i-n.ss_i:r});for(i=0;i<n;i++)delete e[i].ss_i}function Xt(e){var t=e.length,n=e[0];while(t--)e[t]<n&&(n=e[t]);return n}function Vt(e){var t=e.length,n=e[0];while(t--)e[t]>n&&(n=e[t]);return n}function $t(e,t){var n;for(n in e)e[n]&&e[n]!==t&&e[n].destroy&&e[n].destroy(),delete e[n]}function Jt(e){k||(k=Ht(P)),e&&k.appendChild(e),k.innerHTML=""}function Kt(e,t){var r="Highcharts error #"+e+": www.highcharts.com/errors/"+e;if(t)throw r;n.console&&console.log(r)}function Qt(e){return parseFloat(e.toPrecision(14))}function Gt(e,t){O=Dt(e,t.animation)}function wn(){var e=L.global.useUTC,t=e?"getUTC":"get",n=e?"setUTC":"set";ut=e?Date.UTC:function(e,t,n,r,i,s){return(new Date(e,t,Dt(n,1),Dt(r,0),Dt(i,0),Dt(s,0))).getTime()},at=t+"Minutes",ft=t+"Hours",lt=t+"Day",ct=t+"Date",ht=t+"Month",pt=t+"FullYear",dt=n+"Minutes",vt=n+"Hours",mt=n+"Date",gt=n+"Month",yt=n+"FullYear"}function En(e){return L=un(L,e),wn(),L}function Sn(){return L}function Tn(){}function Mn(e,t,n){this.axis=e,this.pos=t,this.type=n||"",this.isNew=!0,n||this.addLabel()}function _n(e,t){return this.axis=e,t&&(this.options=t,this.id=t.id),this}function Dn(e,t,n,r,i){var s=e.chart.inverted;this.axis=e,this.isNegative=n,this.options=t,this.x=r,this.stack=i,this.alignOptions={align:t.align||(s?n?"left":"right":"center"),verticalAlign:t.verticalAlign||(s?"middle":n?"bottom":"top"),y:Dt(t.y,s?4:n?14:-6),x:Dt(t.x,s?n?-6:6:0)},this.textAlign=t.textAlign||(s?n?"right":"left":"center")}function Pn(){this.init.apply(this,arguments)}function Hn(e,t){var n=t.borderWidth,r=t.style,i=t.shared,s=St(r.padding);this.chart=e,this.options=t,this.crosshairs=[],this.currentX=0,this.currentY=0,this.tooltipIsHidden=!0,this.label=e.renderer.label("",0,0,null,null,null,t.useHTML,null,"tooltip").attr({padding:s,fill:t.backgroundColor,"stroke-width":n,r:t.borderRadius,zIndex:8}).css(r).hide().add(),S||this.label.shadow(t.shadow),this.shared=i}function Bn(e,t){var n=S?"":t.chart.zoomType;this.zoomX=/x/.test(n),this.zoomY=/y/.test(n),this.options=t,this.chart=e,this.init(e,t.tooltip)}function jn(e){this.init(e)}function Fn(e,t){var n,r=e.series;e.series=null,n=un(L,e),n.series=e.series=r;var i=n.chart,s=i.margin,o=Tt(s)?s:[s,s,s,s];this.optionsMarginTop=Dt(i.marginTop,o[0]),this.optionsMarginRight=Dt(i.marginRight,o[1]),this.optionsMarginBottom=Dt(i.marginBottom,o[2]),this.optionsMarginLeft=Dt(i.marginLeft,o[3]);var u=i.events;this.runChartClick=u&&!!u.click,this.callback=t,this.isResizing=0,this.options=n,this.axes=[],this.series=[],this.hasCartesianSeries=i.showAxes,this.init(u)}function mr(e){var t=e.options,n=t.navigator,r=n.enabled,i=t.scrollbar,s=i.enabled,o=r?n.height:0,u=s?i.height:0,a=n.baseSeries;this.baseSeries=e.series[a]||typeof a=="string"&&e.get(a)||e.series[0],this.handles=[],this.scrollbarButtons=[],this.elementsToDestroy=[],e.resetZoomEnabled=!1,this.chart=e,this.height=o,this.scrollbarHeight=u,this.scrollbarEnabled=s,this.navigatorEnabled=r,this.navigatorOptions=n,this.scrollbarOptions=i,this.outlineHeight=o+u,this.init()}function gr(e){var t=[{type:"month",count:1,text:"1m"},{type:"month",count:3,text:"3m"},{type:"month",count:6,text:"6m"},{type:"ytd",text:"YTD"},{type:"year",count:1,text:"1y"},{type:"all",text:"All"}];e.resetZoomEnabled=!1,this.chart=e,this.buttons=[],this.boxSpanElements={},this.init(t)}var e,t=document,n=window,r=Math,i=r.round,s=r.floor,o=r.ceil,u=r.max,a=r.min,f=r.abs,l=r.cos,c=r.sin,h=r.PI,p=h*2/360,d=navigator.userAgent,v=/msie/i.test(d)&&!n.opera,m=t.documentMode===8,g=/AppleWebKit/.test(d),y=/Firefox/.test(d),b="http://www.w3.org/2000/svg",w=!!t.createElementNS&&!!t.createElementNS(b,"svg").createSVGRect,E=y&&parseInt(d.split("Firefox/")[1],10)<4,S=!w&&!v&&!!t.createElement("canvas").getContext,x,T=t.documentElement.ontouchstart!==e,N={},C=0,k,L,A,O,M,_,D=function(){},P="div",H="absolute",B="relative",j="hidden",F="highcharts-",I="visible",q="px",R="none",U="M",z="L",W="rgba(192,192,192,"+(w?1e-6:.002)+")",X="",V="hover",$="select",J="millisecond",K="second",Q="minute",G="hour",Y="day",Z="week",et="month",tt="year",nt="fill",rt="linearGradient",it="stops",st="stroke",ot="stroke-width",ut,at,ft,lt,ct,ht,pt,dt,vt,mt,gt,yt,bt={};n.Highcharts={},A=function(e,t,n){if(!Ot(t)||isNaN(t))return"Invalid date";e=Dt(e,"%Y-%m-%d %H:%M:%S");var r=new Date(t),s,o=r[ft](),u=r[lt](),a=r[ct](),f=r[ht](),l=r[pt](),c=L.lang,h=c.weekdays,p={a:h[u].substr(0,3),A:h[u],d:It(a),e:a,b:c.shortMonths[f],B:c.months[f],m:It(f+1),y:l.toString().substr(2,2),Y:l,H:It(o),I:It(o%12||12),l:o%12||12,M:It(r[at]()),p:o<12?"AM":"PM",P:o<12?"am":"pm",S:It(r.getSeconds()),L:It(i(t%1e3),3)};for(s in p)e=e.replace("%"+s,p[s]);return n?e.substr(0,1).toUpperCase()+e.substr(1):e},zt.prototype={wrapColor:function(e){this.color>=e&&(this.color=0)},wrapSymbol:function(e){this.symbol>=e&&(this.symbol=0)}},_=Et(J,1,K,1e3,Q,6e4,G,36e5,Y,864e5,Z,6048e5,et,2592e6,tt,31556952e3),M={init:function(e,t,n){t=t||"";var r=e.shift,i=t.indexOf("C")>-1,s=i?7:3,o,u,a,f=t.split(" "),l=[].concat(n),c,h,p=function(e){a=e.length;while(a--)e[a]===U&&e.splice(a+1,0,e[a+1],e[a+2],e[a+1],e[a+2])};i&&(p(f),p(l)),e.isArea&&(c=f.splice(f.length-6,6),h=l.splice(l.length-6,6));if(r<=l.length/s)while(r--)l=[].concat(l).splice(0,s).concat(l);e.shift=0;if(f.length){o=l.length;while(f.length<o)u=[].concat(f).splice(f.length-s,s),i&&(u[s-6]=u[s-2],u[s-5]=u[s-1]),f=f.concat(u)}return c&&(f=f.concat(c),l=l.concat(h)),[f,l]},step:function(e,t,n,r){var i=[],s=e.length,o;if(n===1)i=r;else if(s===t.length&&n<1)while(s--)o=parseFloat(e[s]),i[s]=isNaN(o)?e[s]:n*parseFloat(t[s]-o)+o;else i=t;return i}};var Yt=n.HighchartsAdapter,Zt=Yt||{},en=Zt.adapterRun,tn=Zt.getScript,nn=Zt.each,rn=Zt.grep,sn=Zt.offset,on=Zt.map,un=Zt.merge,an=Zt.addEvent,fn=Zt.removeEvent,ln=Zt.fireEvent,cn=Zt.washMouseEvent,hn=Zt.animate,pn=Zt.stop;Yt&&Yt.init&&Yt.init(M);if(!Yt&&n.jQuery){var dn=jQuery;tn=dn.getScript,en=function(e,t){return dn(e)[t]()},nn=function(e,t){var n=0,r=e.length;for(;n<r;n++)if(t.call(e[n],e[n],n,e)===!1)return n},rn=dn.grep,on=function(e,t){var n=[],r=0,i=e.length;for(;r<i;r++)n[r]=t.call(e[r],e[r],r,e);return n},un=function(){var e=arguments;return dn.extend(!0,null,e[0],e[1],e[2],e[3])},sn=function(e){return dn(e).offset()},an=function(e,t,n){dn(e).bind(t,n)},fn=function(e,n,r){var i=t.removeEventListener?"removeEventListener":"detachEvent";t[i]&&!e[i]&&(e[i]=function(){}),dn(e).unbind(n,r)},ln=function(e,t,n,r){var i=dn.Event(t),s="detached"+t,o;!v&&n&&(delete n.layerX,delete n.layerY),wt(i,n),e[t]&&(e[s]=e[t],e[t]=null),nn(["preventDefault","stopPropagation"],function(e){var t=i[e];i[e]=function(){try{t.call(i)}catch(n){e==="preventDefault"&&(o=!0)}}}),dn(e).trigger(i),e[s]&&(e[t]=e[s],e[s]=null),r&&!i.isDefaultPrevented()&&!o&&r(i)},cn=function(e){return e},hn=function(e,t,n){var r=dn(e);t.d&&(e.toD=t.d,t.d=1),r.stop(),r.animate(t,n)},pn=function(e){dn(e).stop()},dn.extend(dn.easing,{easeOutQuad:function(e,t,n,r,i){return-r*(t/=i)*(t-2)+n}});var vn=dn.fx,mn=vn.step;nn(["cur","_default","width","height"],function(t,n){var r=mn,i,s;t==="cur"?r=vn.prototype:t==="_default"&&dn.Tween&&(r=dn.Tween.propHooks[t],t="set"),i=r[t],i&&(r[t]=function(r){return r=n?r:this,s=r.elem,s.attr?s.attr(r.prop,t==="cur"?e:r.now):i.apply(this,arguments)})}),mn.d=function(e){var t=e.elem;if(!e.started){var n=M.init(t,t.d,t.toD);e.start=n[0],e.end=n[1],e.started=!0}t.attr("d",M.step(e.start,e.end,e.pos,t.toD))}}var gn={enabled:!0,align:"center",x:0,y:15,style:{color:"#666",fontSize:"11px",lineHeight:"14px"}};L={colors:["#4572A7","#AA4643","#89A54E","#80699B","#3D96AE","#DB843D","#92A8CD","#A47D7C","#B5CA92"],symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],decimalPoint:".",resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:","},global:{useUTC:!0,canvasToolsURL:"http://code.highcharts.com/stock/1.1.6/modules/canvas-tools.js"},chart:{borderColor:"#4572A7",borderRadius:5,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacingTop:10,spacingRight:10,spacingBottom:15,spacingLeft:10,style:{fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Verdana, Arial, Helvetica, sans-serif',fontSize:"12px"},backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",y:15,style:{color:"#3E576F",fontSize:"16px"}},subtitle:{text:"",align:"center",y:30,style:{color:"#6D869F"}},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:2,shadow:!0,marker:{enabled:!0,lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:un(gn,{enabled:!1,y:-6,formatter:function(){return this.y}}),cropThreshold:300,pointRange:0,showInLegend:!0,states:{hover:{marker:{}},select:{marker:{}}},stickyTracking:!0}},labels:{style:{position:H,color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderWidth:1,borderColor:"#909090",borderRadius:5,navigation:{activeColor:"#3E576F",inactiveColor:"#CCC"},shadow:!1,itemStyle:{cursor:"pointer",color:"#3E576F",fontSize:"12px"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:H,width:"13px",height:"13px"},symbolWidth:16,symbolPadding:5,verticalAlign:"bottom",x:0,y:0},loading:{labelStyle:{fontWeight:"bold",position:B,top:"1em"},style:{position:H,backgroundColor:"white",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,backgroundColor:"rgba(255, 255, 255, .85)",borderWidth:2,borderRadius:5,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{series.color}">{series.name}</span>: <b>{point.y}</b><br/>',shadow:!0,shared:S,snap:T?25:10,style:{color:"#333333",fontSize:"12px",padding:"5px",whiteSpace:"nowrap"}},credits:{enabled:!0,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"10px"}}};var yn=L.plotOptions,bn=yn.line;wn();var xn=function(e){function r(e){n=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/.exec(e),n?t=[St(n[1]),St(n[2]),St(n[3]),parseFloat(n[4],10)]:(n=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(e),n&&(t=[St(n[1],16),St(n[2],16),St(n[3],16),1]))}function i(n){var r;return t&&!isNaN(t[0])?n==="rgb"?r="rgb("+t[0]+","+t[1]+","+t[2]+")":n==="a"?r=t[3]:r="rgba("+t.join(",")+")":r=e,r}function s(e){if(Ct(e)&&e!==0){var n;for(n=0;n<3;n++)t[n]+=St(e*255),t[n]<0&&(t[n]=0),t[n]>255&&(t[n]=255)}return this}function o(e){return t[3]=e,this}var t=[],n;return r(e),{get:i,brighten:s,setOpacity:o}};Tn.prototype={init:function(e,n){var r=this;r.element=n==="span"?Ht(n):t.createElementNS(b,n),r.renderer=e,r.attrSetters={}},animate:function(e,t,n){var r=Dt(t,O,!0);pn(this),r?(r=un(r),n&&(r.complete=n),hn(this,e,r)):(this.attr(e),n&&n())},attr:function(n,r){var i=this,s,o,a,f,l,c=i.element,h=c.nodeName,p=i.renderer,v,m,y=i.attrSetters,w=i.shadows,E,S,x=i;xt(n)&&Ot(r)&&(s=n,n={},n[s]=r);if(xt(n))s=n,h==="circle"?s={x:"cx",y:"cy"}[s]||s:s==="strokeWidth"&&(s="stroke-width"),x=Mt(c,s)||i[s]||0,s!=="d"&&s!=="visibility"&&(x=parseFloat(x));else for(s in n){v=!1,o=n[s],a=y[s]&&y[s](o,s);if(a!==!1){a!==e&&(o=a);if(s==="d")o&&o.join&&(o=o.join(" ")),/(NaN| {2}|^$)/.test(o)&&(o="M 0 0");else if(s==="x"&&h==="text"){for(f=0;f<c.childNodes.length;f++)l=c.childNodes[f],Mt(l,"x")===Mt(c,"x")&&Mt(l,"x",o);i.rotation&&Mt(c,"transform","rotate("+i.rotation+" "+o+" "+St(n.y||Mt(c,"y"))+")")}else if(s==="fill")o=p.color(o,c,s);else if(h!=="circle"||s!=="x"&&s!=="y")if(h==="rect"&&s==="r")Mt(c,{rx:o,ry:o}),v=!0;else if(s==="translateX"||s==="translateY"||s==="rotation"||s==="verticalAlign")S=!0,v=!0;else if(s==="stroke")o=p.color(o,c,s);else if(s==="dashstyle"){s="stroke-dasharray",o=o&&o.toLowerCase();if(o==="solid")o=R;else if(o){o=o.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(","),f=o.length;while(f--)o[f]=St(o[f])*n["stroke-width"];o=o.join(",")}}else s==="isTracker"?i[s]=o:s==="width"?o=St(o):s==="align"?(s="text-anchor",o={left:"start",center:"middle",right:"end"}[o]):s==="title"&&(m=c.getElementsByTagName("title")[0],m||(m=t.createElementNS(b,"title"),c.appendChild(m)),m.textContent=o);else s={x:"cx",y:"cy"}[s]||s;s==="strokeWidth"&&(s="stroke-width"),g&&s==="stroke-width"&&o===0&&(o=1e-6),i.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(s)&&(E||(i.symbolAttr(n),E=!0),v=!0);if(w&&/^(width|height|visibility|x|y|d|transform)$/.test(s)){f=w.length;while(f--)Mt(w[f],s,s==="height"?u(o-(w[f].cutHeight||0),0):o)}(s==="width"||s==="height")&&h==="rect"&&o<0&&(o=0),i[s]=o,S&&i.updateTransform(),s==="text"?(i.textStr=o,i.added&&p.buildText(i)):v||Mt(c,s,o)}}if(g&&/Chrome\/(18|19)/.test(d)&&h==="text"&&(n.x!==e||n.y!==e)){var T=c.parentNode,N=c.nextSibling;T&&(T.removeChild(c),N?T.insertBefore(c,N):T.appendChild(c))}return x},symbolAttr:function(e){var t=this;nn(["x","y","r","start","end","width","height","innerR","anchorX","anchorY"],function(n){t[n]=Dt(e[n],t[n])}),t.attr({d:t.renderer.symbols[t.symbolName](t.x,t.y,t.width,t.height,t)})},clip:function(e){return this.attr("clip-path","url("+this.renderer.url+"#"+e.id+")")},crisp:function(e,t,n,r,o){var u=this,a,f={},l={},c;e=e||u.strokeWidth||u.attr&&u.attr("stroke-width")||0,c=i(e)%2/2,l.x=s(t||u.x||0)+c,l.y=s(n||u.y||0)+c,l.width=s((r||u.width||0)-2*c),l.height=s((o||u.height||0)-2*c),l.strokeWidth=e;for(a in l)u[a]!==l[a]&&(u[a]=f[a]=l[a]);return f},css:function(e){var t=this,n=t.element,r=e&&e.width&&n.nodeName==="text",i,s="",o=function(e,t){return"-"+t.toLowerCase()};e&&e.color&&(e.fill=e.color),e=wt(t.styles,e),t.styles=e;if(v&&!w)r&&delete e.width,Pt(t.element,e);else{for(i in e)s+=i.replace(/([A-Z])/g,o)+":"+e[i]+";";t.attr({style:s})}return r&&t.added&&t.renderer.buildText(t),t},on:function(e,t){var n=t;return T&&e==="click"&&(e="touchstart",n=function(e){e.preventDefault(),t()}),this.element["on"+e]=n,this},setRadialReference:function(e){return this.element.radialReference=e,this},translate:function(e,t){return this.attr({translateX:e,translateY:t})},invert:function(){var e=this;return e.inverted=!0,e.updateTransform(),e},htmlCss:function(e){var t=this,n=t.element,r=e&&n.tagName==="SPAN"&&e.width;return r&&(delete e.width,t.textWidth=r,t.updateTransform()),t.styles=wt(t.styles,e),Pt(t.element,e),t},htmlGetBBox:function(e){var t=this,n=t.element,r=t.bBox;if(!r||e)n.nodeName==="text"&&(n.style.position=H),r=t.bBox={x:n.offsetLeft,y:n.offsetTop,width:n.offsetWidth,height:n.offsetHeight};return r},htmlUpdateTransform:function(){if(!this.added){this.alignOnAdd=!0;return}var e=this,t=e.renderer,n=e.element,r=e.translateX||0,i=e.translateY||0,s=e.x||0,o=e.y||0,u=e.textAlign||"left",a={left:0,center:.5,right:1}[u],f=u&&u!=="left",h=e.shadows;if(r||i)Pt(n,{marginLeft:r,marginTop:i}),h&&nn(h,function(e){Pt(e,{marginLeft:r+1,marginTop:i+1})});e.inverted&&nn(n.childNodes,function(e){t.invertChild(e,n)});if(n.tagName==="SPAN"){var d,v,m=e.rotation,g,y=0,b=1,w=0,E,S=St(e.textWidth),x=e.xCorr||0,T=e.yCorr||0,N=[m,u,n.innerHTML,e.textWidth].join(",");N!==e.cTT&&(Ot(m)&&(y=m*p,b=l(y),w=c(y),Pt(n,{filter:m?["progid:DXImageTransform.Microsoft.Matrix(M11=",b,", M12=",-w,", M21=",w,", M22=",b,", sizingMethod='auto expand')"].join(""):R})),d=Dt(e.elemWidth,n.offsetWidth),v=Dt(e.elemHeight,n.offsetHeight),d>S&&/[ \-]/.test(n.innerText)&&(Pt(n,{width:S+q,display:"block",whiteSpace:"normal"}),d=S),g=t.fontMetrics(n.style.fontSize).b,x=b<0&&-d,T=w<0&&-v,E=b*w<0,x+=w*g*(E?1-a:a),T-=b*g*(m?E?a:1-a:1),f&&(x-=d*a*(b<0?-1:1),m&&(T-=v*a*(w<0?-1:1)),Pt(n,{textAlign:u})),e.xCorr=x,e.yCorr=T),Pt(n,{left:s+x+q,top:o+T+q}),e.cTT=N}},updateTransform:function(){var e=this,t=e.translateX||0,n=e.translateY||0,r=e.inverted,i=e.rotation,s=[];r&&(t+=e.attr("width"),n+=e.attr("height")),(t||n)&&s.push("translate("+t+","+n+")"),r?s.push("rotate(90) scale(-1,1)"):i&&s.push("rotate("+i+" "+(e.x||0)+" "+(e.y||0)+")"),s.length&&Mt(e.element,"transform",s.join(" "))},toFront:function(){var e=this.element;return e.parentNode.appendChild(e),this},align:function(e,t,n){var r=this;e?(r.alignOptions=e,r.alignByTranslate=t,n||r.renderer.alignedObjects.push(r)):(e=r.alignOptions,t=r.alignByTranslate),n=Dt(n,r.renderer);var s=e.align,o=e.verticalAlign,u=(n.x||0)+(e.x||0),a=(n.y||0)+(e.y||0),f={};return/^(right|center)$/.test(s)&&(u+=(n.width-(e.width||0))/{right:1,center:2}[s]),f[t?"translateX":"x"]=i(u),/^(bottom|middle)$/.test(o)&&(a+=(n.height-(e.height||0))/({bottom:1,middle:2}[o]||1)),f[t?"translateY":"y"]=i(a),r[r.placed?"animate":"attr"](f),r.placed=!0,r.alignAttr=f,r},getBBox:function(e){var t=this,n,r,i,s=t.rotation,o=t.element,u=s*p;if(o.namespaceURI===b||t.renderer.forExport){try{n=o.getBBox?wt({},o.getBBox()):{width:o.offsetWidth,height:o.offsetHeight}}catch(a){}if(!n||n.width<0)n={width:0,height:0};r=n.width,i=n.height,s&&(n.width=f(i*c(u))+f(r*l(u)),n.height=f(i*l(u))+f(r*c(u)))}else n=t.htmlGetBBox(e);return n},show:function(){return this.attr({visibility:I})},hide:function(){return this.attr({visibility:j})},add:function(e){var t=this.renderer,n=e||t,r=n.element||t.box,i=r.childNodes,s=this.element,o=Mt(s,"zIndex"),u,a,f,l;this.parentInverted=e&&e.inverted,this.textStr!==undefined&&t.buildText(this),o&&(n.handleZ=!0,o=St(o));if(n.handleZ)for(f=0;f<i.length;f++){u=i[f],a=Mt(u,"zIndex");if(u!==s&&(St(a)>o||!Ot(o)&&Ot(a))){r.insertBefore(s,u),l=!0;break}}return l||r.appendChild(s),this.added=!0,ln(this,"add"),this},safeRemoveChild:function(e){var t=e.parentNode;t&&t.removeChild(e)},destroy:function(){var e=this,t=e.element||{},n=e.shadows,r=e.box,i,s;t.onclick=t.onmouseout=
t.onmouseover=t.onmousemove=null,pn(e),e.clipPath&&(e.clipPath=e.clipPath.destroy());if(e.stops){for(s=0;s<e.stops.length;s++)e.stops[s]=e.stops[s].destroy();e.stops=null}e.safeRemoveChild(t),n&&nn(n,function(t){e.safeRemoveChild(t)}),r&&r.destroy(),At(e.renderer.alignedObjects,e);for(i in e)delete e[i];return null},empty:function(){var e=this.element,t=e.childNodes,n=t.length;while(n--)e.removeChild(t[n])},shadow:function(e,t,n){var r=[],i,s,o=this.element,a,f=this.parentInverted?"(-1,-1)":"(1,1)";if(e){for(i=1;i<=3;i++)s=o.cloneNode(0),a=7-2*i,Mt(s,{isShadow:"true",stroke:"rgb(0, 0, 0)","stroke-opacity":.05*i,"stroke-width":a,transform:"translate"+f,fill:R}),n&&(Mt(s,"height",u(Mt(s,"height")-a,0)),s.cutHeight=a),t?t.element.appendChild(s):o.parentNode.insertBefore(s,o),r.push(s);this.shadows=r}return this}};var Nn=function(){this.init.apply(this,arguments)};Nn.prototype={Element:Tn,init:function(e,t,r,i){var s=this,u=location,a;a=s.createElement("svg").attr({xmlns:b,version:"1.1"}),e.appendChild(a.element),s.isSVG=!0,s.box=a.element,s.boxWrapper=a,s.alignedObjects=[],s.url=v?"":u.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1"),s.defs=this.createElement("defs").add(),s.forExport=i,s.gradients={},s.setSize(t,r,!1);var f,l;y&&e.getBoundingClientRect&&(s.subPixelFix=f=function(){Pt(e,{left:0,top:0}),l=e.getBoundingClientRect(),Pt(e,{left:o(l.left)-l.left+q,top:o(l.top)-l.top+q})},f(),an(n,"resize",f))},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var e=this,t=e.defs;return e.box=null,e.boxWrapper=e.boxWrapper.destroy(),$t(e.gradients||{}),e.gradients=null,t&&(e.defs=t.destroy()),e.subPixelFix&&fn(n,"resize",e.subPixelFix),e.alignedObjects=null,null},createElement:function(e){var t=new this.Element;return t.init(this,e),t},draw:function(){},buildText:function(e){function g(e){return m[e]=r.getBBox().height,i(m[e]-(m[e-1]||0))}var r=e.element,s=Dt(e.textStr,"").toString().replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g),o=r.childNodes,u=/style="([^"]+)"/,a=/href="([^"]+)"/,f=Mt(r,"x"),l=e.styles,c=l&&St(l.width),h=l&&l.lineHeight,p,d="getComputedStyle",v=o.length,m=[];while(v--)r.removeChild(o[v]);c&&!e.added&&this.box.appendChild(r),s[s.length-1]===""&&s.pop(),nn(s,function(i,s){var o,l=0,v;i=i.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||"),o=i.split("|||"),nn(o,function(i){if(i!==""||o.length===1){var m={},y=t.createElementNS(b,"tspan");u.test(i)&&Mt(y,"style",i.match(u)[1].replace(/(;| |^)color([ :])/,"$1fill$2")),a.test(i)&&(Mt(y,"onclick",'location.href="'+i.match(a)[1]+'"'),Pt(y,{cursor:"pointer"})),i=(i.replace(/<(.|\n)*?>/g,"")||" ").replace(/&lt;/g,"<").replace(/&gt;/g,">"),y.appendChild(t.createTextNode(i)),l?m.dx=3:m.x=f;if(!l){if(s){!w&&e.renderer.forExport&&Pt(y,{display:"block"}),v=n[d]&&St(n[d](p,null).getPropertyValue("line-height"));if(!v||isNaN(v))v=h||p.offsetHeight||g(s)||18;Mt(y,"dy",v)}p=y}Mt(y,m),r.appendChild(y),l++;if(c){var E=i.replace(/-/g,"- ").split(" "),S,x,T=[];while(E.length||T.length)x=e.getBBox().width,S=x>c,!S||E.length===1?(E=T,T=[],E.length&&(y=t.createElementNS(b,"tspan"),Mt(y,{dy:h||16,x:f}),r.appendChild(y),x>c&&(c=x))):(y.removeChild(y.firstChild),T.unshift(E.pop())),E.length&&y.appendChild(t.createTextNode(E.join(" ").replace(/- /g,"-")))}}})})},button:function(e,t,n,r,i,s,o){var u=this.label(e,t,n),a=0,f,l,c,h,p,d="style",v={x1:0,y1:0,x2:0,y2:1};return i=un(Et(ot,1,st,"#999",nt,Et(rt,v,it,[[0,"#FFF"],[1,"#DDD"]]),"r",3,"padding",3,d,Et("color","black")),i),c=i[d],delete i[d],s=un(i,Et(st,"#68A",nt,Et(rt,v,it,[[0,"#FFF"],[1,"#ACF"]])),s),h=s[d],delete s[d],o=un(i,Et(st,"#68A",nt,Et(rt,v,it,[[0,"#9BD"],[1,"#CDF"]])),o),p=o[d],delete o[d],an(u.element,"mouseenter",function(){u.attr(s).css(h)}),an(u.element,"mouseleave",function(){f=[i,s,o][a],l=[c,h,p][a],u.attr(f).css(l)}),u.setState=function(e){a=e,e?e===2&&u.attr(o).css(p):u.attr(i).css(c)},u.on("click",function(){r.call(u)}).attr(i).css(wt({cursor:"default"},c))},crispLine:function(e,t){return e[1]===e[4]&&(e[1]=e[4]=i(e[1])+t%2/2),e[2]===e[5]&&(e[2]=e[5]=i(e[2])+t%2/2),e},path:function(e){var t={fill:R};return Nt(e)?t.d=e:Tt(e)&&wt(t,e),this.createElement("path").attr(t)},circle:function(e,t,n){var r=Tt(e)?e:{x:e,y:t,r:n};return this.createElement("circle").attr(r)},arc:function(e,t,n,r,i,s){return Tt(e)&&(t=e.y,n=e.r,r=e.innerR,i=e.start,s=e.end,e=e.x),this.symbol("arc",e||0,t||0,n||0,n||0,{innerR:r||0,start:i||0,end:s||0})},rect:function(e,t,n,r,i,s){i=Tt(e)?e.r:i;var o=this.createElement("rect").attr({rx:i,ry:i,fill:R});return o.attr(Tt(e)?e:o.crisp(s,e,t,u(n,0),u(r,0)))},setSize:function(e,t,n){var r=this,i=r.alignedObjects,s=i.length;r.width=e,r.height=t,r.boxWrapper[Dt(n,!0)?"animate":"attr"]({width:e,height:t});while(s--)i[s].align()},g:function(e){var t=this.createElement("g");return Ot(e)?t.attr({"class":F+e}):t},image:function(e,t,n,r,i){var s={preserveAspectRatio:R},o;return arguments.length>1&&wt(s,{x:t,y:n,width:r,height:i}),o=this.createElement("image").attr(s),o.element.setAttributeNS?o.element.setAttributeNS("http://www.w3.org/1999/xlink","href",e):o.element.setAttribute("hc-svg-href",e),o},symbol:function(e,t,n,r,s,o){var u,a=this.symbols[e],f=a&&a(i(t),i(n),r,s,o),l=/^url\((.*?)\)$/,c,h,p;return f?(u=this.path(f),wt(u,{symbolName:e,x:t,y:n,width:r,height:s}),o&&wt(u,o)):l.test(e)&&(p=function(e,t){e.attr({width:t[0],height:t[1]}),e.alignByTranslate||e.translate(-i(t[0]/2),-i(t[1]/2))},c=e.match(l)[1],h=N[c],u=this.image(c).attr({x:t,y:n}),h?p(u,h):(u.attr({width:0,height:0}),Ht("img",{onload:function(){var e=this;p(u,N[c]=[e.width,e.height])},src:c}))),u},symbols:{circle:function(e,t,n,r){var i=.166*n;return[U,e+n/2,t,"C",e+n+i,t,e+n+i,t+r,e+n/2,t+r,"C",e-i,t+r,e-i,t,e+n/2,t,"Z"]},square:function(e,t,n,r){return[U,e,t,z,e+n,t,e+n,t+r,e,t+r,"Z"]},triangle:function(e,t,n,r){return[U,e+n/2,t,z,e+n,t+r,e,t+r,"Z"]},"triangle-down":function(e,t,n,r){return[U,e,t,z,e+n,t,e+n/2,t+r,"Z"]},diamond:function(e,t,n,r){return[U,e+n/2,t,z,e+n,t+r/2,e+n/2,t+r,e,t+r/2,"Z"]},arc:function(e,t,n,r,i){var s=i.start,o=i.r||n||r,u=i.end-1e-6,a=i.innerR,f=i.open,p=l(s),d=c(s),v=l(u),m=c(u),g=i.end-s<h?0:1;return[U,e+o*p,t+o*d,"A",o,o,0,g,1,e+o*v,t+o*m,f?U:z,e+a*v,t+a*m,"A",a,a,0,g,0,e+a*p,t+a*d,f?"":"Z"]}},clipRect:function(e,t,n,r){var i,s=F+C++,o=this.createElement("clipPath").attr({id:s}).add(this.defs);return i=this.rect(e,t,n,r,0).add(o),i.id=s,i.clipPath=o,i},color:function(e,t,n){var r=this,i,s=/^rgba/,o;e&&e.linearGradient?o="linearGradient":e&&e.radialGradient&&(o="radialGradient");if(o){var u=e[o],a=r.gradients,f,l,c,h=t.radialReference;if(!u.id||!a[u.id])Nt(u)&&(e[o]=u={x1:u[0],y1:u[1],x2:u[2],y2:u[3],gradientUnits:"userSpaceOnUse"}),o==="radialGradient"&&h&&!Ot(u.gradientUnits)&&wt(u,{cx:h[0]-h[2]/2+u.cx*h[2],cy:h[1]-h[2]/2+u.cy*h[2],r:u.r*h[2],gradientUnits:"userSpaceOnUse"}),u.id=F+C++,a[u.id]=f=r.createElement(o).attr(u).add(r.defs),f.stops=[],nn(e.stops,function(e){var t;s.test(e[1])?(i=xn(e[1]),l=i.get("rgb"),c=i.get("a")):(l=e[1],c=1),t=r.createElement("stop").attr({offset:e[0],"stop-color":l,"stop-opacity":c}).add(f),f.stops.push(t)});return"url("+r.url+"#"+u.id+")"}return s.test(e)?(i=xn(e),Mt(t,n+"-opacity",i.get("a")),i.get("rgb")):(t.removeAttribute(n+"-opacity"),e)},text:function(e,t,n,r){var s=this,o=L.chart.style,u;return r&&!s.forExport?s.html(e,t,n):(t=i(Dt(t,0)),n=i(Dt(n,0)),u=s.createElement("text").attr({x:t,y:n,text:e}).css({fontFamily:o.fontFamily,fontSize:o.fontSize}),u.x=t,u.y=n,u)},html:function(e,t,n){var r=L.chart.style,s=this.createElement("span"),o=s.attrSetters,u=s.element,a=s.renderer;return o.text=function(e){return u.innerHTML=e,!1},o.x=o.y=o.align=function(e,t){return t==="align"&&(t="textAlign"),s[t]=e,s.htmlUpdateTransform(),!1},s.attr({text:e,x:i(t),y:i(n)}).css({position:H,whiteSpace:"nowrap",fontFamily:r.fontFamily,fontSize:r.fontSize}),s.css=s.htmlCss,a.isSVG&&(s.add=function(e){var t,n,r=a.box.parentNode;return e?(t=e.div,t||(t=e.div=Ht(P,{className:Mt(e.element,"class")},{position:H,left:e.attr("translateX")+q,top:e.attr("translateY")+q},r),n=t.style,wt(e.attrSetters,{translateX:function(e){n.left=e+q},translateY:function(e){n.top=e+q},visibility:function(e,t){n[t]=e}}))):t=r,t.appendChild(u),s.added=!0,s.alignOnAdd&&s.htmlUpdateTransform(),s}),s},fontMetrics:function(e){e=St(e||11);var t=e<24?e+4:i(e*1.2),n=i(t*.8);return{h:t,b:n}},label:function(t,n,r,s,o,u,a,f,l){function C(){var e,t=p.element.style;v=(y===undefined||b===undefined||h.styles.textAlign)&&p.getBBox(!0),h.width=(y||v.width||0)+2*g,h.height=(b||v.height||0)+2*g,T=g+c.fontMetrics(t&&t.fontSize).b,d||(e=f?-T:0,h.box=d=s?c.symbol(s,-m*g,e,h.width,h.height):c.rect(-m*g,e,h.width,h.height,0,x[ot]),d.add(h)),d.attr(un({width:h.width,height:h.height},x)),x=null}function k(){var e=h.styles,t=e&&e.textAlign,n=g*(1-m),r;r=f?0:T,Ot(y)&&(t==="center"||t==="right")&&(n+={center:.5,right:1}[t]*(y-v.width)),(n!==p.x||r!==p.y)&&p.attr({x:n,y:r}),p.x=n,p.y=r}function L(e,t){d?d.attr(e,t):x[e]=t}function A(){h.attr({text:t,x:n,y:r}),Ot(o)&&h.attr({anchorX:o,anchorY:u})}var c=this,h=c.g(l),p=c.text("",0,0,a).attr({zIndex:1}).add(h),d,v,m=0,g=3,y,b,w,E,S=0,x={},T,N=h.attrSetters;an(h,"add",A),N.width=function(e){return y=e,!1},N.height=function(e){return b=e,!1},N.padding=function(e){return Ot(e)&&e!==g&&(g=e,k()),!1},N.align=function(e){return m={left:0,center:.5,right:1}[e],!1},N.text=function(e,t){return p.attr(t,e),C(),k(),!1},N[ot]=function(e,t){return S=e%2/2,L(t,e),!1},N.stroke=N.fill=N.r=function(e,t){return L(t,e),!1},N.anchorX=function(e,t){return o=e,L(t,e+S-w),!1},N.anchorY=function(e,t){return u=e,L(t,e-E),!1},N.x=function(e){return h.x=e,e-=m*((y||v.width)+g),w=i(e),h.attr("translateX",w),!1},N.y=function(e){return E=h.y=i(e),h.attr("translateY",e),!1};var O=h.css;return wt(h,{css:function(t){if(t){var n={};t=un({},t),nn(["fontSize","fontWeight","fontFamily","color","lineHeight","width"],function(r){t[r]!==e&&(n[r]=t[r],delete t[r])}),p.css(n)}return O.call(h,t)},getBBox:function(){return d.getBBox()},shadow:function(e){return d.shadow(e),h},destroy:function(){fn(h,"add",A),fn(h.element,"mouseenter"),fn(h.element,"mouseleave"),p&&(p=p.destroy()),Tn.prototype.destroy.call(h)}})}},x=Nn;var Cn;if(!w&&!S){var kn={init:function(e,t){var n=this,r=["<",t,' filled="f" stroked="f"'],i=["position: ",H,";"];(t==="shape"||t===P)&&i.push("left:0;top:0;width:1px;height:1px;"),m&&i.push("visibility: ",t===P?j:I),r.push(' style="',i.join(""),'"/>'),t&&(r=t===P||t==="span"||t==="img"?r.join(""):e.prepVML(r),n.element=Ht(r)),n.renderer=e,n.attrSetters={}},add:function(e){var t=this,n=t.renderer,r=t.element,i=n.box,s=e&&e.inverted,o=e?e.element||e:i;return s&&n.invertChild(r,o),m&&o.gVis===j&&Pt(r,{visibility:j}),o.appendChild(r),t.added=!0,t.alignOnAdd&&!t.deferUpdateTransform&&t.updateTransform(),ln(t,"add"),t},toggleChildren:function(e,t){var n=e.childNodes,r=n.length;while(r--)Pt(n[r],{visibility:t}),n[r].nodeName==="DIV"&&this.toggleChildren(n[r],t)},updateTransform:Tn.prototype.htmlUpdateTransform,attr:function(t,n){var r=this,s,o,a,f,l=r.element||{},c=l.style,h=l.nodeName,p=r.renderer,d=r.symbolName,v,g=r.shadows,y,b=r.attrSetters,w=r;xt(t)&&Ot(n)&&(s=t,t={},t[s]=n);if(xt(t))s=t,s==="strokeWidth"||s==="stroke-width"?w=r.strokeweight:w=r[s];else for(s in t){o=t[s],y=!1,f=b[s]&&b[s](o,s);if(f!==!1&&o!==null){f!==e&&(o=f);if(d&&/^(x|y|r|start|end|width|height|innerR|anchorX|anchorY)/.test(s))v||(r.symbolAttr(t),v=!0),y=!0;else if(s==="d"){o=o||[],r.d=o.join(" "),a=o.length;var E=[];while(a--)Ct(o[a])?E[a]=i(o[a]*10)-5:o[a]==="Z"?E[a]="x":E[a]=o[a];o=E.join(" ")||"x",l.path=o;if(g){a=g.length;while(a--)g[a].path=g[a].cutOff?this.cutOffPath(o,g[a].cutOff):o}y=!0}else if(s==="zIndex"||s==="visibility")m&&s==="visibility"&&h==="DIV"&&(l.gVis=o,r.toggleChildren(l,o),o===I&&(o=null)),o&&(c[s]=o),y=!0;else if(s==="width"||s==="height")o=u(0,o),this[s]=o,r.updateClipping?(r[s]=o,r.updateClipping()):c[s]=o,y=!0;else if(s==="x"||s==="y")r[s]=o,c[{x:"left",y:"top"}[s]]=o;else if(s==="class")l.className=o;else if(s==="stroke")o=p.color(o,l,s),s="strokecolor";else if(s==="stroke-width"||s==="strokeWidth")l.stroked=o?!0:!1,s="strokeweight",r[s]=o,Ct(o)&&(o+=q);else if(s==="dashstyle"){var S=l.getElementsByTagName("stroke")[0]||Ht(p.prepVML(["<stroke/>"]),null,null,l);S[s]=o||"solid",r.dashstyle=o,y=!0}else s==="fill"?h==="SPAN"?c.color=o:(l.filled=o!==R?!0:!1,o=p.color(o,l,s),s="fillcolor"):h==="shape"&&s==="rotation"?r[s]=o:s==="translateX"||s==="translateY"||s==="rotation"?(r[s]=o,r.updateTransform(),y=!0):s==="text"&&(this.bBox=null,l.innerHTML=o,y=!0);if(g&&s==="visibility"){a=g.length;while(a--)g[a].style[s]=o}y||(m?l[s]=o:Mt(l,s,o))}}return w},clip:function(e){var t=this,n=e.members,r=t.element,i=r.parentNode;return n.push(t),t.destroyClip=function(){At(n,t)},i&&i.className==="highcharts-tracker"&&!m&&Pt(r,{visibility:j}),t.css(e.getCSS(t))},css:Tn.prototype.htmlCss,safeRemoveChild:function(e){var t=e.parentNode;t&&Jt(e)},destroy:function(){var e=this;return e.destroyClip&&e.destroyClip(),Tn.prototype.destroy.apply(e)},empty:function(){var e=this.element,t=e.childNodes,n=t.length,r;while(n--)r=t[n],r.parentNode.removeChild(r)},on:function(e,t){return this.element["on"+e]=function(){var e=n.event;e.target=e.srcElement,t(e)},this},cutOffPath:function(e,t){var n;e=e.split(/[ ,]/),n=e.length;if(n===9||n===11)e[n-4]=e[n-2]=St(e[n-2])-10*t;return e.join(" ")},shadow:function(e,t,n){var r=[],i,s=this.element,o=this.renderer,u,a=s.style,f,l=s.path,c,h;l&&typeof l.value!="string"&&(l="x"),h=l;if(e){for(i=1;i<=3;i++)c=7-2*i,n&&(h=this.cutOffPath(l.value,c+.5)),f=['<shape isShadow="true" strokeweight="',7-2*i,'" filled="false" path="',h,'" coordsize="10 10" style="',s.style.cssText,'" />'],u=Ht(o.prepVML(f),null,{left:St(a.left)+1,top:St(a.top)+1}),n&&(u.cutOff=c+1),f=['<stroke color="black" opacity="',.05*i,'"/>'],Ht(o.prepVML(f),null,null,u),t?t.element.appendChild(u):s.parentNode.insertBefore(u,s),r.push(u);this.shadows=r}return this}};kn=Bt(Tn,kn);var Ln={Element:kn,isIE8:d.indexOf("MSIE 8.0")>-1,init:function(e,n,r){var i=this,s,o;i.alignedObjects=[],s=i.createElement(P),o=s.element,o.style.position=B,e.appendChild(s.element),i.box=o,i.boxWrapper=s,i.setSize(n,r,!1),t.namespaces.hcv||(t.namespaces.add("hcv","urn:schemas-microsoft-com:vml"),t.createStyleSheet().cssText="hcv\\:fill, hcv\\:path, hcv\\:shape, hcv\\:stroke{ behavior:url(#default#VML); display: inline-block; } ")},isHidden:function(){return!this.box.offsetWidth},clipRect:function(e,t,n,r){var s=this.createElement();return wt(s,{members:[],left:e,top:t,width:n,height:r,getCSS:function(e){var t=e.inverted,n=this,r=n.top,s=n.left,o=s+n.width,u=r+n.height,a={clip:"rect("+i(t?s:r)+"px,"+i(t?u:o)+"px,"+i(t?o:u)+"px,"+i(t?r:s)+"px)"};return!t&&m&&e.element.nodeName!=="IMG"&&wt(a,{width:o+q,height:u+q}),a},updateClipping:function(){nn(s.members,function(e){e.css(s.getCSS(e))})}})},color:function(e,t,n){var i,s=/^rgba/,o,u,a=R;e&&e.linearGradient?u="gradient":e&&e.radialGradient&&(u="pattern");if(u){var f,l,c=e.linearGradient||e.radialGradient,p,d,v,m,g,y,b,w,E,S="",x=e.stops,T,N,C=[];T=x[0],N=x[x.length-1],T[0]>0&&x.unshift([0,T[1]]),N[0]<1&&x.push([1,N[1]]),nn(x,function(e,t){s.test(e[1])?(i=xn(e[1]),f=i.get("rgb"),l=i.get("a")):(f=e[1],l=1),C.push(e[0]*100+"% "+f),t?(b=l,w=f):(y=l,E=f)});if(u==="gradient")p=c.x1||c[0]||0,d=c.y1||c[1]||0,v=c.x2||c[2]||0,m=c.y2||c[3]||0,g=90-r.atan((m-d)/(v-p))*180/h;else{var k=c.r,L=k*2,A=c.cx,O=c.cy;S='src="http://code.highcharts.com/gfx/radial-gradient.png" size="'+L+","+L+'" '+'origin="0.5,0.5" '+'position="'+A+","+O+'" '+'color2="'+E+'" ',a=w}n==="fill"?(o=['<fill colors="'+C.join(",")+'" angle="',g,'" opacity="',b,'" o:opacity2="',y,'" type="',u,'" ',S,'focus="100%" method="any" />'],Ht(this.prepVML(o),null,null,t)):a=f}else if(s.test(e)&&t.tagName!=="IMG")i=xn(e),o=["<",n,' opacity="',i.get("a"),'"/>'],Ht(this.prepVML(o),null,null,t),a=i.get("rgb");else{var M=t.getElementsByTagName(n);M.length&&(M[0].opacity=1),a=e}return a},prepVML:function(e){var t="display:inline-block;behavior:url(#default#VML);",n=this.isIE8;return e=e.join(""),n?(e=e.replace("/>",' xmlns="urn:schemas-microsoft-com:vml" />'),e.indexOf('style="')===-1?e=e.replace("/>",' style="'+t+'" />'):e=e.replace('style="','style="'+t)):e=e.replace("<","<hcv:"),e},text:Nn.prototype.html,path:function(e){var t={coordsize:"10 10"};return Nt(e)?t.d=e:Tt(e)&&wt(t,e),this.createElement("shape").attr(t)},circle:function(e,t,n){return this.symbol("circle").attr({x:e-n,y:t-n,width:2*n,height:2*n})},g:function(e){var t,n;return e&&(n={className:F+e,"class":F+e}),t=this.createElement(P).attr(n),t},image:function(e,t,n,r,i){var s=this.createElement("img").attr({src:e});return arguments.length>1&&s.css({left:t,top:n,width:r,height:i}),s},rect:function(e,t,n,r,i,s){Tt(e)&&(t=e.y,n=e.width,r=e.height,s=e.strokeWidth,e=e.x);var o=this.symbol("rect");return o.r=i,o.attr(o.crisp(s,e,t,u(n,0),u(r,0)))},invertChild:function(e,t){var n=t.style;Pt(e,{flip:"x",left:St(n.width)-1,top:St(n.height)-1,rotation:-90})},symbols:{arc:function(e,t,n,r,i){var s=i.start,o=i.end,u=i.r||n||r,a=l(s),f=c(s),p=l(o),d=c(o),v=i.innerR,m=.08/u,g=v&&.1/v||0,y;return o-s===0?["x"]:(2*h-o+s<m?p=-m:o-s<g&&(p=l(s+g)),y=["wa",e-u,t-u,e+u,t+u,e+u*a,t+u*f,e+u*p,t+u*d],i.open&&y.push(U,e-v,t-v),y.push("at",e-v,t-v,e+v,t+v,e+v*p,t+v*d,e+v*a,t+v*f,"x","e"),y)},circle:function(e,t,n,r){return["wa",e,t,e+n,t+r,e+n,t+r/2,e+n,t+r/2,"e"]},rect:function(e,t,n,r,i){var s=e+n,o=t+r,u,f;return!Ot(i)||!i.r?u=Nn.prototype.symbols.square.apply(0,arguments):(f=a(i.r,n,r),u=[U,e+f,t,z,s-f,t,"wa",s-2*f,t,s,t+2*f,s-f,t,s,t+f,z,s,o-f,"wa",s-2*f,o-2*f,s,o,s,o-f,s-f,o,z,e+f,o,"wa",e,o-2*f,e+2*f,o,e+f,o,e,o-f,z,e,t+f,"wa",e,t,e+2*f,t+2*f,e,t+f,e+f,t,"x","e"]),u}}};Cn=function(){this.init.apply(this,arguments)},Cn.prototype=un(Nn.prototype,Ln),x=Cn}var An,On;S&&(An=function(){},An.prototype.symbols={},On=function(){function t(){var t=e.length,n;for(n=0;n<t;n++)e[n]();e=[]}var e=[];return{push:function(n,r){e.length===0&&tn(r,t),e.push(n)}}}()),x=Cn||An||Nn,Mn.prototype={addLabel:function(){var e=this,t=e.axis,n=t.options,r=t.chart,s=t.horiz,o=t.categories,a=e.pos,f=n.labels,l,c=t.tickPositions,h=o&&s&&o.length&&!f.step&&!f.staggerLines&&!f.rotation&&r.plotWidth/c.length||!s&&r.plotWidth/2,p=a===c[0],d=a===c[c.length-1],v,m,g=o&&Ot(o[a])?o[a]:a,y=e.label,b=c.info,w;t.isDatetimeAxis&&b&&(w=n.dateTimeLabelFormats[b.higherRanks[a]||b.unitName]),e.isFirst=p,e.isLast=d,l=t.labelFormatter.call({axis:t,chart:r,isFirst:p,isLast:d,dateTimeLabelFormat:w,value:t.isLog?Qt(Lt(g)):g}),v=h&&{width:u(1,i(h-2*(f.padding||10)))+q},v=wt(v,f.style),Ot(y)?y&&y.attr({text:l}).css(v):(m={align:f.align},Ct(f.rotation)&&(m.rotation=f.rotation),e.label=Ot(l)&&f.enabled?r.renderer.text(l,0,0,f.useHTML).attr(m).css(v).add(t.axisGroup):null)},getLabelSize:function(){var e=this.label,t=this.axis;return e?(this.labelBBox=e.getBBox(!0))[t.horiz?"height":"width"]:0},getLabelSides:function(){var e=this.labelBBox,t=this.axis,n=t.options,r=n.labels,i=e.width,s=i*{left:0,center:.5,right:1}[r.align]-r.x;return[-s,i-s]},handleOverflow:function(e,t){var n=!0,r=this.axis,i=r.chart,s=this.isFirst,o=this.isLast,u=t.x,a=r.reversed,f=r.tickPositions;if(s||o){var l=this.getLabelSides(),c=l[0],h=l[1],p=i.plotLeft,d=p+r.len,v=r.ticks[f[e+(s?1:-1)]],m=v&&v.label.xy.x+v.getLabelSides()[s?0:1];s&&!a||o&&a?u+c<p&&(u=p-c,v&&u+h>m&&(n=!1)):u+h>d&&(u=d-h,v&&u+c<m&&(n=!1)),t.x=u}return n},getPosition:function(e,t,n,r){var i=this.axis,s=i.chart,o=r&&s.oldChartHeight||s.chartHeight;return{x:e?i.translate(t+n,null,null,r)+i.transB:i.left+i.offset+(i.opposite?(r&&s.oldChartWidth||s.chartWidth)-i.right-i.left:0),y:e?o-i.bottom+i.offset-(i.opposite?i.height:0):o-i.translate(t+n,null,null,r)-i.transB}},getLabelPosition:function(e,t,n,r,i,s,o,u){var a=this.axis,f=a.transA,l=a.reversed,c=a.staggerLines;return e=e+i.x-(s&&r?s*f*(l?-1:1):0),t=t+i.y-(s&&!r?s*f*(l?1:-1):0),Ot(i.y)||(t+=St(n.styles.lineHeight)*.9-n.getBBox().height/2),c&&(t+=o/(u||1)%c*16),{x:e,y:t}},getMarkPath:function(e,t,n,r,i,s){return s.crispLine([U,e,t,z,e+(i?0:-n),t+(i?n:0)],r)},render:function(t,n){var r=this,i=r.axis,s=i.options,o=i.chart,u=o.renderer,a=i.horiz,f=r.type,l=r.label,c=r.pos,h=s.labels,p=r.gridLine,d=f?f+"Grid":"grid",v=f?f+"Tick":"tick",m=s[d+"LineWidth"],g=s[d+"LineColor"],y=s[d+"LineDashStyle"],b=s[v+"Length"],w=s[v+"Width"]||0,E=s[v+"Color"],S=s[v+"Position"],x,T=r.mark,N,C=h.step,k,L=!0,A=s.categories&&s.tickmarkPlacement==="between"?.5:0,O=r.getPosition(a,c,A,n),M=O.x,_=O.y,D=i.staggerLines;m&&(x=i.getPlotLinePath(c+A,m,n),p===e&&(k={stroke:g,"stroke-width":m},y&&(k.dashstyle=y),f||(k.zIndex=1),r.gridLine=p=m?u.path(x).attr(k).add(i.gridGroup):null),!n&&p&&x&&p[r.isNew?"attr":"animate"]({d:x})),w&&(S==="inside"&&(b=-b),i.opposite&&(b=-b),N=r.getMarkPath(M,_,b,w,a,u),T?T.animate({d:N}):r.mark=u.path(N).attr({stroke:E,"stroke-width":w}).add(i.axisGroup)),l&&!isNaN(M)&&(l.xy=O=r.getLabelPosition(M,_,l,a,h,A,t,C),r.isFirst&&!Dt(s.showFirstLabel,1)||r.isLast&&!Dt(s.showLastLabel,1)?L=!1:!D&&a&&h.overflow==="justify"&&!r.handleOverflow(t,O)&&(L=!1),C&&t%C&&(L=!1),L?(l[r.isNew?"attr":"animate"](O),l.show(),r.isNew=!1):l.hide())},destroy:function(){$t(this,this.axis)}},_n.prototype={render:function(){var e=this,t=e.axis,n=t.horiz,r=(t.pointRange||0)/2,i=e.options,s=i.label,o=e.label,f=i.width,l=i.to,c=i.from,h=Ot(c)&&Ot(l),p=i.value,d=i.dashStyle,v=e.svgElem,m=[],g,y,b,w,E,S,x=i.color,T=i.zIndex,N=i.events,C,k=t.chart.renderer;t.isLog&&(c=kt(c),l=kt(l),p=kt(p));if(f)m=t.getPlotLinePath(p,f),C={stroke:x,"stroke-width":f},d&&(C.dashstyle=d);else{if(!h)return;c=u(c,t.min-r),l=a(l,t.max+r),m=t.getPlotBandPath(c,l,i),C={fill:x},i.borderWidth&&(C.stroke=i.borderColor,C["stroke-width"]=i.borderWidth)}Ot(T)&&(C.zIndex=T);if(v)m?v.animate({d:m},null,v.onGetPath):(v.hide(),v.onGetPath=function(){v.show()});else if(m&&m.length){e.svgElem=v=k.path(m).attr(C).add();if(N){g=function(t){v.on(t,function(n){N[t].apply(e,[n])})};for(y in N)g(y)}}return s&&Ot(s.text)&&m&&m.length&&t.width>0&&t.height>0?(s=un({align:n&&h&&"center",x:n?!h&&4:10,verticalAlign:!n&&h&&"middle",y:n?h?16:10:h?6:-4,rotation:n&&!h&&90},s),o||(e.label=o=k.text(s.text,0,0).attr({align:s.textAlign||s.align,rotation:s.rotation,zIndex:T}).css(s.style).add()),b=[m[1],m[4],Dt(m[6],m[1])],w=[m[2],m[5],Dt(m[7],m[2])],E=Xt(b),S=Xt(w),o.align(s,!1,{x:E,y:S,width:Vt(b)-E,height:Vt(w)-S}),o.show()):o&&o.hide(),e},destroy:function(){var e=this,t=e.axis;At(t.plotLinesAndBands,e),$t(e,this.axis)}},Dn.prototype={destroy:function(){$t(this,this.axis)},setTotal:function(e){this.total=e,this.cum=e},render:function(e){var t=this.options.formatter.call(this);this.label?this.label.attr({text:t,visibility:j}):this.label=this.axis.chart.renderer.text(t,0,0).css(this.options.style).attr({align:this.textAlign,rotation:this.options.rotation,visibility:j}).add(e)},setOffset:function(e,t){var n=this,r=n.axis,i=r.chart,s=i.inverted,o=this.isNegative,u=r.translate(this.total,0,0,0,1),a=r.translate(0),l=f(u-a),c=i.xAxis[0].translate(this.x)+e,h=i.plotHeight,p={x:s?o?u:u-l:c,y:s?h-c-t:o?h-u-l:h-u,width:s?l:t,height:s?t:l};this.label&&this.label.align(this.alignOptions,null,p).attr({visibility:I})}},Pn.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,gridLineColor:"#C0C0C0",labels:gn,lineColor:"#C0D0E0",lineWidth:1,minPadding:.01,maxPadding:.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:5,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",tickWidth:1,title:{align:"middle",style:{color:"#6D869F",fontWeight:"bold"}},type:"linear"},defaultYAxisOptions:{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{align:"right",x:-8,y:3},lineWidth:0,maxPadding:.05,minPadding:.05,startOnTick:!0,tickWidth:0,title:{rotation:270,text:"Y-values"},stackLabels:{enabled:!1,formatter:function(){return this.total},style:gn.style}},defaultLeftAxisOptions:{labels:{align:"right",x:-8,y:null},title:{rotation:270}},defaultRightAxisOptions:{labels:{align:"left",x:8,y:null},title:{rotation:90}},defaultBottomAxisOptions:{labels:{align:"center",x:0,y:14},title:{rotation:0}},defaultTopAxisOptions:{labels:{align:"center",x:0,y:-5},title:{rotation:0}},init:function(t,n){var r=n.isX,i=this;i.horiz=t.inverted?!r:r,i.isXAxis=r,i.xOrY=r?"x":"y",i.opposite=n.opposite,i.side=i.horiz?i.opposite?0:2:i.opposite?1:3,i.setOptions(n);var s=this.options,o=s.type,u=o==="datetime";i.labelFormatter=s.labels.formatter||i.defaultLabelFormatter,i.staggerLines=i.horiz&&s.labels.staggerLines,i.userOptions=n,i.minPixelPadding=0,i.chart=t,i.reversed=s.reversed,i.categories=s.categories,i.isLog=o==="logarithmic",i.isLinked=Ot(s.linkedTo),i.isDatetimeAxis=u,i.ticks={},i.minorTicks={},i.plotLinesAndBands=[],i.alternateBands={},i.len=0,i.minRange=i.userMinRange=s.minRange||s.maxZoom,i.range=s.range,i.offset=s.offset||0,i.stacks={},i.max=null,i.min=null;var a,f=i.options.events;t.axes.push(i),t[r?"xAxis":"yAxis"].push(i),i.series=[],t.inverted&&r&&i.reversed===e&&(i.reversed=!0),i.removePlotBand=i.removePlotBandOrLine,i.removePlotLine=i.removePlotBandOrLine,i.addPlotBand=i.addPlotBandOrLine,i.addPlotLine=i.addPlotBandOrLine;for(a in f)an(i,a,f[a]);i.isLog&&(i.val2lin=kt,i.lin2val=Lt)},setOptions:function(e){this.options=un(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],e)},defaultLabelFormatter:function(){var e=this.axis,t=this.value,n=e.categories,r=e.tickInterval,i=this.dateTimeLabelFormat,s;return n?s=t:i?s=A(i,t):r%1e6===0?s=t/1e6+"M":r%1e3===0?s=t/1e3+"k":t>=1e3?s=Ft(t,0):s=Ft(t,-1),s},getSeriesExtremes:function(){var t=this,n=t.chart,r=t.stacks,i=[],s=[],o;t.dataMin=t.dataMax=null,nn(t.series,function(f){if(f.visible||!n.options.chart.ignoreHiddenSeries){var l=f.options,c,h,p,d,v,m,g,y,b,w,E=l.threshold,S,x=[],T=0;t.isLog&&E<=0&&(E=l.threshold=null);if(t.isXAxis)g=f.xData,g.length&&(t.dataMin=a(Dt(t.dataMin,g[0]),Xt(g)),t.dataMax=u(Dt(t.dataMax,g[0]),Vt(g)));else{var N,C,k,L=f.cropped,A=f.xAxis.getExtremes(),O,M=!!f.modifyValue;c=l.stacking,t.usePercentage=c==="percent",c&&(v=l.stack,d=f.type+Dt(v,""),m="-"+d,f.stackKey=d,h=i[d]||[],i[d]=h,p=s[m]||[],s[m]=p),t.usePercentage&&(t.dataMin=0,t.dataMax=99),g=f.processedXData,y=f.processedYData,S=y.length;for(o=0;o<S;o++){b=g[o],w=y[o];if(w!==null&&w!==e){c?(N=w<E,C=N?p:h,k=N?m:d,w=C[b]=Ot(C[b])?C[b]+w:w,r[k]||(r[k]={}),r[k][b]||(r[k][b]=new Dn(t,t.options.stackLabels,N,b,v)),r[k][b].setTotal(w)):M&&(w=f.modifyValue(w));if(L||(g[o+1]||b)>=A.min&&(g[o-1]||b)<=A.max){O=w.length;if(O)while(O--)w[O]!==null&&(x[T++]=w[O]);else x[T++]=w}}}!t.usePercentage&&x.length&&(t.dataMin=a(Dt(t.dataMin,x[0]),Xt(x)),t.dataMax=u(Dt(t.dataMax,x[0]),Vt(x))),Ot(E)&&(t.dataMin>=E?(t.dataMin=E,t.ignoreMinPadding=!0):t.dataMax<E&&(t.dataMax=E,t.ignoreMaxPadding=!0))}}})},translate:function(e,t,n,r,i){var s=this,o=s.len,u=1,a=0,f=r?s.oldTransA:s.transA,l=r?s.oldMin:s.min,c,h=s.options.ordinal||s.isLog&&i;return f||(f=s.transA),n&&(u*=-1,a=o),s.reversed&&(u*=-1,a-=u*o),t?(s.reversed&&(e=o-e),c=e/f+l,h&&(c=s.lin2val(c))):(h&&(e=s.val2lin(e)),c=u*(e-l)*f+a+u*s.minPixelPadding),c},getPlotLinePath:function(e,t,n){var r=this,s=r.chart,o=r.left,u=r.top,a,f,l,c,h=r.translate(e,null,null,n),p=n&&s.oldChartHeight||s.chartHeight,d=n&&s.oldChartWidth||s.chartWidth,v,m=r.transB;a=l=i(h+m),f=c=i(p-h-m);if(isNaN(h))v=!0;else if(r.horiz){f=u,c=p-r.bottom;if(a<o||a>o+r.width)v=!0}else{a=o,l=d-r.right;if(f<u||f>u+r.height)v=!0}return v?null:s.renderer.crispLine([U,a,f,z,l,c],t||0)},getPlotBandPath:function(e,t){var n=this.getPlotLinePath(t),r=this.getPlotLinePath(e);return r&&n?r.push(n[4],n[5],n[1],n[2]):r=null,r},getLinearTickPositions:function(e,t,n){var r,i,u=Qt(s(t/e)*e),a=Qt(o(n/e)*e),f=[];r=u;while(r<=a){f.push(r),r=Qt(r+e);if(r===i)break;i=r}return f},getLogTickPositions:function(e,t,n,o){var u=this,a=u.options,f=u.len,l=[];o||(u._minorAutoInterval=null);if(e>=.5)e=i(e),l=u.getLinearTickPositions(e,t,n);else if(e>=.08){var c=s(t),h,p,d,v,m,g,y;e>.3?h=[1,2,4]:e>.15?h=[1,2,4,6,8]:h=[1,2,3,4,5,6,7,8,9];for(p=c;p<n+1&&!y;p++){v=h.length;for(d=0;d<v&&!y;d++)m=kt(Lt(p)*h[d]),m>t&&l.push(g),g>n&&(y=!0),g=m}}else{var b=Lt(t),w=Lt(n),E=a[o?"minorTickInterval":"tickInterval"],S=E==="auto"?null:E,x=a.tickPixelInterval/(o?5:1),T=o?f/u.tickPositions.length:f;e=Dt(S,u._minorAutoInterval,(w-b)*x/(T||1)),e=qt(e,null,r.pow(10,s(r.log(e)/r.LN10))),l=on(u.getLinearTickPositions(e,b,w),kt),o||(u._minorAutoInterval=e/5)}return o||(u.tickInterval=e),l},getMinorTickPositions:function(){var e=this,t=e.tickPositions,n=e.minorTickInterval,r=[],i,s,o;if(e.isLog){o=t.length;for(s=1;s<o;s++)r=r.concat(e.getLogTickPositions(n,t[s-1],t[s],!0))}else for(i=e.min+(t[0]-e.min)%n;i<=e.max;i+=n)r.push(i);return r},adjustForMinRange:function(){var t=this,n=t.options,r=t.min,i=t.max,s,o=t.dataMax-t.dataMin>=t.minRange,u,f,l,c,h,p,d;t.isXAxis&&t.minRange===e&&!t.isLog&&(Ot(n.min)||Ot(n.max)?t.minRange=null:(nn(t.series,function(t){c=t.xData,h=t.xIncrement?1:c.length-1;for(f=h;f>0;f--){l=c[f]-c[f-1];if(u===e||l<u)u=l}}),t.minRange=a(u*5,t.dataMax-t.dataMin)));if(i-r<t.minRange){var v=t.minRange;s=(v-i+r)/2,p=[r-s,Dt(n.min,r-s)],o&&(p[2]=t.dataMin),r=Vt(p),d=[r+v,Dt(n.max,r+v)],o&&(d[2]=t.dataMax),i=Xt(d),i-r<v&&(p[0]=i-v,p[1]=Dt(n.min,i-v),r=Vt(p))}t.min=r,t.max=i},setAxisTranslation:function(){var e=this,t=e.max-e.min,n=0,r,i,s=e.transA;e.isXAxis&&(e.isLinked?n=e.linkedParent.pointRange:nn(e.series,function(e){n=u(n,e.pointRange),i=e.closestPointRange,!e.noSharedTooltip&&Ot(i)&&(r=Ot(r)?a(r,i):i)}),e.pointRange=n,e.closestPointRange=r),e.oldTransA=s,e.translationSlope=e.transA=s=e.len/(t+n||1),e.transB=e.horiz?e.left:e.bottom,e.minPixelPadding=s*(n/2)},setTickPositions:function(e){var t=this,n=t.chart,i=t.options,o=t.isLog,f=t.isDatetimeAxis,l=t.isXAxis,c=t.isLinked,h=t.options.tickPositioner,p,d=i.maxPadding,v=i.minPadding,m,g,y=i.tickInterval,b=i.tickPixelInterval,w,E=t.categories;c?(t.linkedParent=n[l?"xAxis":"yAxis"][i.linkedTo],g=t.linkedParent.getExtremes(),t.min=Dt(g.min,g.dataMin),t.max=Dt(g.max,g.dataMax),i.type!==t.linkedParent.options.type&&Kt(11,1)):(t.min=Dt(t.userMin,i.min,t.dataMin),t.max=Dt(t.userMax,i.max,t.dataMax)),o&&(!e&&a(t.min,Dt(t.dataMin,t.min))<=0&&Kt(10,1),t.min=Qt(kt(t.min)),t.max=Qt(kt(t.max))),t.range&&(t.userMin=t.min=u(t.min,t.max-t.range),t.userMax=t.max,e&&(t.range=null)),t.adjustForMinRange(),!E&&!t.usePercentage&&!c&&Ot(t.min)&&Ot(t.max)&&(m=t.max-t.min||1,!Ot(i.min)&&!Ot(t.userMin)&&v&&(t.dataMin<0||!t.ignoreMinPadding)&&(t.min-=m*v),!Ot(i.max)&&!Ot(t.userMax)&&d&&(t.dataMax>0||!t.ignoreMaxPadding)&&(t.max+=m*d)),t.min===t.max||t.min===undefined||t.max===undefined?t.tickInterval=1:c&&!y&&b===t.linkedParent.options.tickPixelInterval?t.tickInterval=t.linkedParent.tickInterval:t.tickInterval=Dt(y,E?1:(t.max-t.min)*b/(t.len||1)),l&&!e&&nn(t.series,function(e){e.processData(t.min!==t.oldMin||t.max!==t.oldMax)}),t.setAxisTranslation(),t.beforeSetTickPositions&&t.beforeSetTickPositions(),t.postProcessTickInterval&&(t.tickInterval=t.postProcessTickInterval(t.tickInterval)),!f&&!o&&(p=r.pow(10,s(r.log(t.tickInterval)/r.LN10)),Ot(i.tickInterval)||(t.tickInterval=qt(t.tickInterval,null,p,i))),t.minorTickInterval=i.minorTickInterval==="auto"&&t.tickInterval?t.tickInterval/5:i.minorTickInterval,t.tickPositions=w=i.tickPositions||h&&h.apply(t,[t.min,t.max]),w||(f?w=(t.getNonLinearTimeTicks||Ut)(Rt(t.tickInterval,i.units),t.min,t.max,i.startOfWeek,t.ordinalPositions,t.closestPointRange,!0):o?w=t.getLogTickPositions(t.tickInterval,t.min,t.max):w=t.getLinearTickPositions(t.tickInterval,t.min,t.max),t.tickPositions=w);if(!c){var S=w[0],x=w[w.length-1];i.startOnTick?t.min=S:t.min>S&&w.shift(),i.endOnTick?t.max=x:t.max<x&&w.pop()}},setMaxTicks:function(){var e=this.chart,t=e.maxTicks,n=this.tickPositions,r=this.xOrY;t||(t={x:0,y:0}),!this.isLinked&&!this.isDatetimeAxis&&n.length>t[r]&&this.options.alignTicks!==!1&&(t[r]=n.length),e.maxTicks=t},adjustTickAmount:function(){var e=this,t=e.chart,n=e.xOrY,r=e.tickPositions,i=t.maxTicks;if(i&&i[n]&&!e.isDatetimeAxis&&!e.categories&&!e.isLinked&&e.options.alignTicks!==!1){var s=e.tickAmount,o=r.length,u;e.tickAmount=
u=i[n];if(o<u){while(r.length<u)r.push(Qt(r[r.length-1]+e.tickInterval));e.transA*=(o-1)/(u-1),e.max=r[r.length-1]}Ot(s)&&u!==s&&(e.isDirty=!0)}},setScale:function(){var e=this,t=e.stacks,n,r,i,s;e.oldMin=e.min,e.oldMax=e.max,e.oldAxisLength=e.len,e.setAxisSize(),s=e.len!==e.oldAxisLength,nn(e.series,function(e){if(e.isDirtyData||e.isDirty||e.xAxis.isDirty)i=!0});if(s||i||e.isLinked||e.userMin!==e.oldUserMin||e.userMax!==e.oldUserMax)e.getSeriesExtremes(),e.setTickPositions(),e.oldUserMin=e.userMin,e.oldUserMax=e.userMax,e.isDirty||(e.isDirty=s||e.min!==e.oldMin||e.max!==e.oldMax);if(!e.isXAxis)for(n in t)for(r in t[n])t[n][r].cum=t[n][r].total;e.setMaxTicks()},setExtremes:function(e,t,n,r,i){var s=this,o=s.chart;n=Dt(n,!0),i=wt(i,{min:e,max:t}),ln(s,"setExtremes",i,function(){s.userMin=e,s.userMax=t,s.isDirtyExtremes=!0,n&&o.redraw(r)})},setAxisSize:function(){var e=this,t=e.chart,n=e.options,r=n.offsetLeft||0,i=n.offsetRight||0;e.left=Dt(n.left,t.plotLeft+r),e.top=Dt(n.top,t.plotTop),e.width=Dt(n.width,t.plotWidth-r+i),e.height=Dt(n.height,t.plotHeight),e.bottom=t.chartHeight-e.height-e.top,e.right=t.chartWidth-e.width-e.left,e.len=u(e.horiz?e.width:e.height,0)},getExtremes:function(){var e=this,t=e.isLog;return{min:t?Qt(Lt(e.min)):e.min,max:t?Qt(Lt(e.max)):e.max,dataMin:e.dataMin,dataMax:e.dataMax,userMin:e.userMin,userMax:e.userMax}},getThreshold:function(e){var t=this,n=t.isLog,r=n?Lt(t.min):t.min,i=n?Lt(t.max):t.max;return r>e||e===null?e=r:i<e&&(e=i),t.translate(e,0,1,0,1)},addPlotBandOrLine:function(e){var t=(new _n(this,e)).render();return this.plotLinesAndBands.push(t),t},getOffset:function(){var e=this,t=e.chart,n=t.renderer,r=e.options,i=e.tickPositions,s=e.ticks,o=e.horiz,a=e.side,f,l,c=0,h,p=0,d=r.title,v=r.labels,m=0,g=t.axisOffset,y=[-1,1,1,-1][a],b;e.hasData=f=e.series.length&&Ot(e.min)&&Ot(e.max),e.showAxis=l=f||Dt(r.showEmpty,!0),e.axisGroup||(e.axisGroup=n.g("axis").attr({zIndex:r.zIndex||7}).add(),e.gridGroup=n.g("grid").attr({zIndex:r.gridZIndex||1}).add());if(f||e.isLinked)nn(i,function(t){s[t]?s[t].addLabel():s[t]=new Mn(e,t)}),nn(i,function(e){if(a===0||a===2||{1:"left",3:"right"}[a]===v.align)m=u(s[e].getLabelSize(),m)}),e.staggerLines&&(m+=(e.staggerLines-1)*16);else for(b in s)s[b].destroy(),delete s[b];d&&d.text&&(e.axisTitle||(e.axisTitle=n.text(d.text,0,0,d.useHTML).attr({zIndex:7,rotation:d.rotation||0,align:d.textAlign||{low:"left",middle:"center",high:"right"}[d.align]}).css(d.style).add(e.axisGroup),e.axisTitle.isNew=!0),l&&(c=e.axisTitle.getBBox()[o?"height":"width"],p=Dt(d.margin,o?5:10),h=d.offset),e.axisTitle[l?"show":"hide"]()),e.offset=y*Dt(r.offset,g[a]),e.axisTitleMargin=Dt(h,m+p+(a!==2&&m&&y*r.labels[o?"y":"x"])),g[a]=u(g[a],e.axisTitleMargin+c+y*e.offset)},getLinePath:function(e){var t=this.chart,n=this.opposite,r=this.offset,i=this.horiz,s=this.left+(n?this.width:0)+r,o=t.chartHeight-this.bottom-(n?this.height:0)+r;return t.renderer.crispLine([U,i?this.left:s,i?o:this.top,z,i?t.chartWidth-this.right:s,i?o:t.chartHeight-this.bottom],e)},getTitlePosition:function(){var e=this.horiz,t=this.left,n=this.top,r=this.len,i=this.options.title,s=e?t:n,o=this.opposite,u=this.offset,a=St(i.style.fontSize||12),f={low:s+(e?0:r),middle:s+r/2,high:s+(e?r:0)}[i.align],l=(e?n+this.height:t)+(e?1:-1)*(o?-1:1)*this.axisTitleMargin+(this.side===2?a:0);return{x:e?f:l+(o?this.width:0)+u+(i.x||0),y:e?l-(o?this.height:0)+u:f+(i.y||0)}},render:function(){var t=this,n=t.chart,r=n.renderer,i=t.options,s=t.isLog,o=t.isLinked,u=t.tickPositions,a=t.axisTitle,f=t.stacks,l=t.ticks,c=t.minorTicks,h=t.alternateBands,p=i.stackLabels,d=i.alternateGridColor,v=i.lineWidth,m,g=n.hasRendered,y=g&&Ot(t.oldMin)&&!isNaN(t.oldMin),b=t.hasData,w=t.showAxis,E,S;if(b||o)t.minorTickInterval&&!t.categories&&nn(t.getMinorTickPositions(),function(e){c[e]||(c[e]=new Mn(t,e,"minor")),y&&c[e].isNew&&c[e].render(null,!0),c[e].isActive=!0,c[e].render()}),nn(u.slice(1).concat([u[0]]),function(e,n){n=n===u.length-1?0:n+1;if(!o||e>=t.min&&e<=t.max)l[e]||(l[e]=new Mn(t,e)),y&&l[e].isNew&&l[e].render(n,!0),l[e].isActive=!0,l[e].render(n)}),d&&nn(u,function(n,r){r%2===0&&n<t.max&&(h[n]||(h[n]=new _n(t)),E=n,S=u[r+1]!==e?u[r+1]:t.max,h[n].options={from:s?Lt(E):E,to:s?Lt(S):S,color:d},h[n].render(),h[n].isActive=!0)}),t._addedPlotLB||(nn((i.plotLines||[]).concat(i.plotBands||[]),function(e){t.addPlotBandOrLine(e)}),t._addedPlotLB=!0);nn([l,c,h],function(e){var t;for(t in e)e[t].isActive?e[t].isActive=!1:(e[t].destroy(),delete e[t])}),v&&(m=t.getLinePath(v),t.axisLine?t.axisLine.animate({d:m}):t.axisLine=r.path(m).attr({stroke:i.lineColor,"stroke-width":v,zIndex:7}).add(),t.axisLine[w?"show":"hide"]()),a&&w&&(a[a.isNew?"attr":"animate"](t.getTitlePosition()),a.isNew=!1);if(p&&p.enabled){var x,T,N,C=t.stackTotalGroup;C||(t.stackTotalGroup=C=r.g("stack-labels").attr({visibility:I,zIndex:6}).add()),C.translate(n.plotLeft,n.plotTop);for(x in f){T=f[x];for(N in T)T[N].render(C)}}t.isDirty=!1},removePlotBandOrLine:function(e){var t=this.plotLinesAndBands,n=t.length;while(n--)t[n].id===e&&t[n].destroy()},setTitle:function(e,t){var n=this,r=n.chart,i=n.options,s;i.title=un(i.title,e),n.axisTitle=s&&s.destroy(),n.isDirty=!0,Dt(t,!0)&&r.redraw()},redraw:function(){var e=this,t=e.chart;t.tracker.resetTracker&&t.tracker.resetTracker(!0),e.render(),nn(e.plotLinesAndBands,function(e){e.render()}),nn(e.series,function(e){e.isDirty=!0})},setCategories:function(e,t){var n=this,r=n.chart;n.categories=n.userOptions.categories=e,nn(n.series,function(e){e.translate(),e.setTooltipPoints(!0)}),n.isDirty=!0,Dt(t,!0)&&r.redraw()},destroy:function(){var e=this,t=e.stacks,n;fn(e);for(n in t)$t(t[n]),t[n]=null;nn([e.ticks,e.minorTicks,e.alternateBands,e.plotLinesAndBands],function(e){$t(e)}),nn(["stackTotalGroup","axisLine","axisGroup","gridGroup","axisTitle"],function(t){e[t]&&(e[t]=e[t].destroy())})}},Hn.prototype={destroy:function(){nn(this.crosshairs,function(e){e&&e.destroy()}),this.label&&(this.label=this.label.destroy())},move:function(e,t){var n=this;n.currentX=n.tooltipIsHidden?e:(2*n.currentX+e)/3,n.currentY=n.tooltipIsHidden?t:(n.currentY+t)/2,n.label.attr({x:n.currentX,y:n.currentY}),f(e-n.currentX)>1||f(t-n.currentY)>1?n.tooltipTick=function(){n.move(e,t)}:n.tooltipTick=null},hide:function(){if(!this.tooltipIsHidden){var e=this.chart.hoverPoints;this.label.hide(),e&&nn(e,function(e){e.setState()}),this.chart.hoverPoints=null,this.tooltipIsHidden=!0}},hideCrosshairs:function(){nn(this.crosshairs,function(e){e&&e.hide()})},getAnchor:function(e,t){var n,r=this.chart,s=r.inverted,o=0,u=0;return e=_t(e),n=e[0].tooltipPos,n||(nn(e,function(e){o+=e.plotX,u+=e.plotLow?(e.plotLow+e.plotHigh)/2:e.plotY}),o/=e.length,u/=e.length,n=[s?r.plotWidth-u:o,this.shared&&!s&&e.length>1&&t?t.chartY-r.plotTop:s?r.plotHeight-o:u]),on(n,i)},getPosition:function(e,t,n){var r=this.chart,i=r.plotLeft,s=r.plotTop,o=r.plotWidth,a=r.plotHeight,f=Dt(this.options.distance,12),l=n.plotX,c=n.plotY,h=l+i+(r.inverted?f:-e-f),p=c-t+s+15,d;return h<7&&(h=i+l+f),h+e>i+o&&(h-=h+e-(i+o),p=c-t+s-f,d=!0),p<s+5&&(p=s+5,d&&c>=p&&c<=p+t&&(p=c+s+f)),p+t>s+a&&(p=u(s,s+a-t-f)),{x:h,y:p}},refresh:function(e,t){function u(){var e=this,t=e.points||_t(e),n=t[0].series,r;return r=[n.tooltipHeaderFormatter(t[0].key)],nn(t,function(e){n=e.series,r.push(n.tooltipFormatter&&n.tooltipFormatter(e)||e.point.tooltipFormatter(n.tooltipOptions.pointFormat))}),r.push(o.footerFormat||""),r.join("")}var n=this,r=n.chart,s=n.label,o=n.options,a,f,l,c,h={},p,d=[],v=o.formatter||u,m=r.hoverPoints,g,y,b=o.crosshairs,w=n.shared,E;c=n.getAnchor(e,t),a=c[0],f=c[1],w&&(!e.series||!e.series.noSharedTooltip)?(m&&nn(m,function(e){e.setState()}),r.hoverPoints=e,nn(e,function(e){e.setState(V),d.push(e.getLabelConfig())}),h={x:e[0].category,y:e[0].y},h.points=d,e=e[0]):h=e.getLabelConfig(),p=v.call(h),E=e.series,l=w||!E.isCartesian||E.tooltipOutsidePlot||r.isInsidePlot(a,f),p===!1||!l?this.hide():(n.tooltipIsHidden&&s.show(),s.attr({text:p}),y=o.borderColor||e.color||E.color||"#606060",s.attr({stroke:y}),g=(o.positioner||n.getPosition).call(n,s.width,s.height,{plotX:a,plotY:f}),n.move(i(g.x),i(g.y)),n.tooltipIsHidden=!1);if(b){b=_t(b);var S,x=b.length,T,N;while(x--)N=e.series[x?"yAxis":"xAxis"],b[x]&&N&&(S=N.getPlotLinePath(x?Dt(e.stackY,e.y):e.x,1),n.crosshairs[x]?n.crosshairs[x].attr({d:S,visibility:I}):(T={"stroke-width":b[x].width||1,stroke:b[x].color||"#C0C0C0",zIndex:b[x].zIndex||2},b[x].dashStyle&&(T.dashstyle=b[x].dashStyle),n.crosshairs[x]=r.renderer.path(S).attr(T).add()))}ln(r,"tooltipRefresh",{text:p,x:a+r.plotLeft,y:f+r.plotTop,borderColor:y})},tick:function(){this.tooltipTick&&this.tooltipTick()}},Bn.prototype={normalizeMouseEvent:function(t){var r,s,o,u;return t=t||n.event,t.target||(t.target=t.srcElement),t.originalEvent&&(t=t.originalEvent),t.event&&(t=t.event),u=t.touches?t.touches.item(0):t,this.chartPosition=r=sn(this.chart.container),u.pageX===e?(s=t.x,o=t.y):(s=u.pageX-r.left,o=u.pageY-r.top),wt(t,{chartX:i(s),chartY:i(o)})},getMouseCoordinates:function(e){var t={xAxis:[],yAxis:[]},n=this.chart;return nn(n.axes,function(r){var i=r.isXAxis,s=n.inverted?!i:i;t[i?"xAxis":"yAxis"].push({axis:r,value:r.translate(s?e.chartX-n.plotLeft:n.plotHeight-e.chartY+n.plotTop,!0)})}),t},onmousemove:function(e){var t=this,n=t.chart,r=n.series,i,s,o=n.hoverPoint,u=n.hoverSeries,l,c,h=n.chartWidth,p=n.inverted?n.plotHeight+n.plotTop-e.chartY:e.chartX-n.plotLeft;if(n.tooltip&&t.options.tooltip.shared&&(!u||!u.noSharedTooltip)){s=[],l=r.length;for(c=0;c<l;c++)r[c].visible&&r[c].options.enableMouseTracking!==!1&&!r[c].noSharedTooltip&&r[c].tooltipPoints.length&&(i=r[c].tooltipPoints[p],i._dist=f(p-i.plotX),h=a(h,i._dist),s.push(i));l=s.length;while(l--)s[l]._dist>h&&s.splice(l,1);s.length&&s[0].plotX!==t.hoverX&&(n.tooltip.refresh(s,e),t.hoverX=s[0].plotX)}u&&u.tracker&&(i=u.tooltipPoints[p],i&&i!==o&&i.onMouseOver())},resetTracker:function(t){var n=this,r=n.chart,i=r.hoverSeries,s=r.hoverPoint,o=r.hoverPoints||s,u=r.tooltip;t=t&&u&&o,t&&_t(o)[0].plotX===e&&(t=!1),t?u.refresh(o):(s&&s.onMouseOut(),i&&i.onMouseOut(),u&&(u.hide(),u.hideCrosshairs()),n.hoverX=null)},setDOMEvents:function(){function c(){if(n.selectionMarker){var e={xAxis:[],yAxis:[]},o=n.selectionMarker.getBBox(),f=o.x-r.plotLeft,l=o.y-r.plotTop,h;s&&(nn(r.axes,function(t){if(t.options.zoomEnabled!==!1){var n=t.isXAxis,i=r.inverted?!n:n,s=t.translate(i?f:r.plotHeight-l-o.height,!0,0,0,1),c=t.translate(i?f+o.width:r.plotHeight-l,!0,0,0,1);!isNaN(s)&&!isNaN(c)&&(e[n?"xAxis":"yAxis"].push({axis:t,min:a(s,c),max:u(s,c)}),h=!0)}}),h&&ln(r,"selection",e,function(e){r.zoom(e)})),n.selectionMarker=n.selectionMarker.destroy()}r&&(Pt(i,{cursor:"auto"}),r.cancelClick=s,r.mouseIsDown=s=!1),fn(t,T?"touchend":"mouseup",c)}var e=!0,n=this,r=n.chart,i=r.container,s,o=n.zoomX&&!r.inverted||n.zoomY&&r.inverted,l=n.zoomY&&!r.inverted||n.zoomX&&r.inverted;n.hideTooltipOnMouseMove=function(e){cn(e),n.chartPosition&&r.hoverSeries&&r.hoverSeries.isCartesian&&!r.isInsidePlot(e.pageX-n.chartPosition.left-r.plotLeft,e.pageY-n.chartPosition.top-r.plotTop)&&n.resetTracker()},n.hideTooltipOnMouseLeave=function(){n.resetTracker(),n.chartPosition=null},i.onmousedown=function(e){e=n.normalizeMouseEvent(e),!T&&e.preventDefault&&e.preventDefault(),r.mouseIsDown=!0,r.cancelClick=!1,r.mouseDownX=n.mouseDownX=e.chartX,n.mouseDownY=e.chartY,an(t,T?"touchend":"mouseup",c)};var h=function(t){if(t&&t.touches&&t.touches.length>1)return;t=n.normalizeMouseEvent(t),T||(t.returnValue=!1);var i=t.chartX,u=t.chartY,a=!r.isInsidePlot(i-r.plotLeft,u-r.plotTop);T&&t.type==="touchstart"&&(Mt(t.target,"isTracker")?r.runTrackerClick||t.preventDefault():!r.runChartClick&&!a&&t.preventDefault()),a&&(i<r.plotLeft?i=r.plotLeft:i>r.plotLeft+r.plotWidth&&(i=r.plotLeft+r.plotWidth),u<r.plotTop?u=r.plotTop:u>r.plotTop+r.plotHeight&&(u=r.plotTop+r.plotHeight));if(r.mouseIsDown&&t.type!=="touchstart"){s=Math.sqrt(Math.pow(n.mouseDownX-i,2)+Math.pow(n.mouseDownY-u,2));if(s>10){var c=r.isInsidePlot(n.mouseDownX-r.plotLeft,n.mouseDownY-r.plotTop);r.hasCartesianSeries&&(n.zoomX||n.zoomY)&&c&&(n.selectionMarker||(n.selectionMarker=r.renderer.rect(r.plotLeft,r.plotTop,o?1:r.plotWidth,l?1:r.plotHeight,0).attr({fill:n.options.chart.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add()));if(n.selectionMarker&&o){var h=i-n.mouseDownX;n.selectionMarker.attr({width:f(h),x:(h>0?0:h)+n.mouseDownX})}if(n.selectionMarker&&l){var p=u-n.mouseDownY;n.selectionMarker.attr({height:f(p),y:(p>0?0:p)+n.mouseDownY})}c&&!n.selectionMarker&&n.options.chart.panning&&r.pan(i)}}else a||n.onmousemove(t);return e=a,a||!r.hasCartesianSeries};i.onmousemove=h,an(i,"mouseleave",n.hideTooltipOnMouseLeave),an(t,"mousemove",n.hideTooltipOnMouseMove),i.ontouchstart=function(e){(n.zoomX||n.zoomY)&&i.onmousedown(e),h(e)},i.ontouchmove=h,i.ontouchend=function(){s&&n.resetTracker()},i.onclick=function(e){var t=r.hoverPoint,i,s;e=n.normalizeMouseEvent(e),e.cancelBubble=!0,r.cancelClick||(t&&(Mt(e.target,"isTracker")||Mt(e.target.parentNode,"isTracker"))?(i=t.plotX,s=t.plotY,wt(t,{pageX:n.chartPosition.left+r.plotLeft+(r.inverted?r.plotWidth-s:i),pageY:n.chartPosition.top+r.plotTop+(r.inverted?r.plotHeight-i:s)}),ln(t.series,"click",wt(e,{point:t})),t.firePointEvent("click",e)):(wt(e,n.getMouseCoordinates(e)),r.isInsidePlot(e.chartX-r.plotLeft,e.chartY-r.plotTop)&&ln(r,"click",e)))}},destroy:function(){var e=this,n=e.chart,r=n.container;n.trackerGroup&&(n.trackerGroup=n.trackerGroup.destroy()),fn(r,"mouseleave",e.hideTooltipOnMouseLeave),fn(t,"mousemove",e.hideTooltipOnMouseMove),r.onclick=r.onmousedown=r.onmousemove=r.ontouchstart=r.ontouchend=r.ontouchmove=null,clearInterval(this.tooltipInterval)},init:function(e,t){e.trackerGroup||(e.trackerGroup=e.renderer.g("tracker").attr({zIndex:9}).add()),t.enabled&&(e.tooltip=new Hn(e,t),this.tooltipInterval=setInterval(function(){e.tooltip.tick()},32)),this.setDOMEvents()}},jn.prototype={init:function(e){var t=this,n=t.options=e.options.legend;if(!n.enabled)return;var r=n.itemStyle,i=Dt(n.padding,8),s=n.itemMarginTop||0;t.baseline=St(r.fontSize)+3+s,t.itemStyle=r,t.itemHiddenStyle=un(r,n.itemHiddenStyle),t.itemMarginTop=s,t.padding=i,t.initialItemX=i,t.initialItemY=i-5,t.maxItemWidth=0,t.chart=e,t.itemHeight=0,t.lastLineHeight=0,t.render(),an(t.chart,"endResize",function(){t.positionCheckboxes()})},colorizeItem:function(e,t){var n=this,r=n.options,i=e.legendItem,s=e.legendLine,o=e.legendSymbol,u=n.itemHiddenStyle.color,a=t?r.itemStyle.color:u,f=t?e.color:u;i&&i.css({fill:a}),s&&s.attr({stroke:f}),o&&o.attr({stroke:f,fill:f})},positionItem:function(e){var t=this,n=t.options,r=n.symbolPadding,i=!n.rtl,s=e._legendItemPos,o=s[0],u=s[1],a=e.checkbox;e.legendGroup&&e.legendGroup.translate(i?o:t.legendWidth-o-2*r-4,u),a&&(a.x=o,a.y=u)},destroyItem:function(e){var t=e.checkbox;nn(["legendItem","legendLine","legendSymbol","legendGroup"],function(t){e[t]&&e[t].destroy()}),t&&Jt(e.checkbox)},destroy:function(){var e=this,t=e.group,n=e.box;n&&(e.box=n.destroy()),t&&(e.group=t.destroy())},positionCheckboxes:function(){var e=this;nn(e.allItems,function(t){var n=t.checkbox,r=e.group.alignAttr;n&&Pt(n,{left:r.translateX+t.legendItemWidth+n.x-20+q,top:r.translateY+n.y+3+q})})},renderItem:function(e){var t=this,n=t.chart,r=n.renderer,i=t.options,s=i.layout==="horizontal",o=i.symbolWidth,a=i.symbolPadding,f=t.itemStyle,l=t.itemHiddenStyle,c=t.padding,h=!i.rtl,p,d=i.width,v=i.itemMarginBottom||0,m=t.itemMarginTop,g=t.initialItemX,y,b,w=e.legendItem,E=e.series||e,S=E.options,x=S.showCheckbox;w||(e.legendGroup=r.g("legend-item").attr({zIndex:1}).add(t.scrollGroup),E.drawLegendSymbol(t,e),e.legendItem=w=r.text(i.labelFormatter.call(e),h?o+a:-a,t.baseline,i.useHTML).css(un(e.visible?f:l)).attr({align:h?"left":"right",zIndex:2}).add(e.legendGroup),e.legendGroup.on("mouseover",function(){e.setState(V),w.css(t.options.itemHoverStyle)}).on("mouseout",function(){w.css(e.visible?f:l),e.setState()}).on("click",function(t){var n="legendItemClick",r=function(){e.setVisible()};t={browserEvent:t},e.firePointEvent?e.firePointEvent(n,t,r):ln(e,n,t,r)}),t.colorizeItem(e,e.visible),S&&x&&(e.checkbox=Ht("input",{type:"checkbox",checked:e.selected,defaultChecked:e.selected},i.itemCheckboxStyle,n.container),an(e.checkbox,"click",function(t){var n=t.target;ln(e,"checkboxClick",{checked:n.checked},function(){e.select()})}))),y=w.getBBox(),b=e.legendItemWidth=i.itemWidth||o+a+y.width+c+(x?20:0),t.itemHeight=p=y.height,s&&t.itemX-g+b>(d||n.chartWidth-2*c-g)&&(t.itemX=g,t.itemY+=m+t.lastLineHeight+v,t.lastLineHeight=0),t.maxItemWidth=u(t.maxItemWidth,b),t.lastItemY=m+t.itemY+v,t.lastLineHeight=u(p,t.lastLineHeight),e._legendItemPos=[t.itemX,t.itemY],s?t.itemX+=b:(t.itemY+=m+p+v,t.lastLineHeight=p),t.offsetWidth=d||u(s?t.itemX-g:b,t.offsetWidth)},render:function(){var e=this,t=e.chart,n=t.renderer,r=e.group,i,s,o,u,a=e.box,f=e.options,l=e.padding,c=f.borderWidth,h=f.backgroundColor;e.itemX=e.initialItemX,e.itemY=e.initialItemY,e.offsetWidth=0,e.lastItemY=0,r||(e.group=r=n.g("legend").attr({zIndex:7}).add(),e.contentGroup=n.g().attr({zIndex:1}).add(r),e.scrollGroup=n.g().add(e.contentGroup),e.clipRect=n.clipRect(0,0,9999,t.chartHeight),e.contentGroup.clip(e.clipRect)),i=[],nn(t.series,function(e){var t=e.options;if(!t.showInLegend)return;i=i.concat(e.legendItems||(t.legendType==="point"?e.data:e))}),Wt(i,function(e,t){return(e.options.legendIndex||0)-(t.options.legendIndex||0)}),f.reversed&&i.reverse(),e.allItems=i,e.display=s=!!i.length,nn(i,function(t){e.renderItem(t)}),o=f.width||e.offsetWidth,u=e.lastItemY+e.lastLineHeight,u=e.handleOverflow(u);if(c||h)o+=l,u+=l,a?o>0&&u>0&&(a[a.isNew?"attr":"animate"](a.crisp(null,null,null,o,u)),a.isNew=!1):(e.box=a=n.rect(0,0,o,u,f.borderRadius,c||0).attr({stroke:f.borderColor,"stroke-width":c||0,fill:h||R}).add(r).shadow(f.shadow),a.isNew=!0),a[s?"show":"hide"]();e.legendWidth=o,e.legendHeight=u,nn(i,function(t){e.positionItem(t)}),s&&r.align(wt({width:o,height:u},f),!0,t.spacingBox),t.isResizing||this.positionCheckboxes()},handleOverflow:function(e){var t=this,n=this.chart,r=n.renderer,i,s=this.options,u=s.y,f=s.verticalAlign==="top",l=n.spacingBox.height+(f?-u:u)-this.padding,c=s.maxHeight,h,p=this.clipRect,d=s.navigation,v=Dt(d.animation,!0),m=d.arrowSize||12,g=this.nav;return s.layout==="horizontal"&&(l/=2),c&&(l=a(l,c)),e>l?(this.clipHeight=h=l-20,this.pageCount=i=o(e/h),this.currentPage=Dt(this.currentPage,1),this.fullHeight=e,p.attr({height:h}),g||(this.nav=g=r.g().attr({zIndex:1}).add(this.group),this.up=r.symbol("triangle",0,0,m,m).on("click",function(){t.scroll(-1,v)}).add(g),this.pager=r.text("",15,10).css(d.style).add(g),this.down=r.symbol("triangle-down",0,0,m,m).on("click",function(){t.scroll(1,v)}).add(g)),t.scroll(0),e=l):g&&(p.attr({height:n.chartHeight}),g.hide(),this.scrollGroup.attr({translateY:1})),e},scroll:function(t,n){var r=this.pageCount,i=this.currentPage+t,s=this.clipHeight,o=this.options.navigation,u=o.activeColor,f=o.inactiveColor,l=this.pager,c=this.padding;i>r&&(i=r),i>0&&(n!==e&&Gt(n,this.chart),this.nav.attr({translateX:c,translateY:s+7,visibility:I}),this.up.attr({fill:i===1?f:u}).css({cursor:i===1?"default":"pointer"}),l.attr({text:i+"/"+this.pageCount}),this.down.attr({x:18+this.pager.getBBox().width,fill:i===r?f:u}).css({cursor:i===r?"default":"pointer"}),this.scrollGroup.animate({translateY:-a(s*(i-1),this.fullHeight-s+c)+1}),l.attr({text:i+"/"+r}),this.currentPage=i)}},Fn.prototype={initSeries:function(e){var t=this,n=t.options.chart,r=e.type||n.type||n.defaultSeriesType,i=new bt[r];return i.init(this,e),i},addSeries:function(e,t,n){var r,i=this;return e&&(Gt(n,i),t=Dt(t,!0),ln(i,"addSeries",{options:e},function(){i.initSeries(e),i.isDirtyLegend=!0,t&&i.redraw()})),r},isInsidePlot:function(e,t){return e>=0&&e<=this.plotWidth&&t>=0&&t<=this.plotHeight},adjustTickAmounts:function(){this.options.chart.alignTicks!==!1&&nn(this.axes,function(e){e.adjustTickAmount()}),this.maxTicks=null},redraw:function(e){var t=this,n=t.axes,r=t.series,i=t.tracker,s=t.legend,o=t.isDirtyLegend,u,a=t.isDirtyBox,f=r.length,l=f,c=t.clipRect,h,p=t.renderer,d=p.isHidden();Gt(e,t),d&&t.cloneRenderTo();while(l--){h=r[l];if(h.isDirty&&h.options.stacking){u=!0;break}}if(u){l=f;while(l--)h=r[l],h.options.stacking&&(h.isDirty=!0)}nn(r,function(e){e.isDirty&&e.options.legendType==="point"&&(o=!0)}),o&&s.options.enabled&&(s.render(),t.isDirtyLegend=!1),t.hasCartesianSeries&&(t.isResizing||(t.maxTicks=null,nn(n,function(e){e.setScale()})),t.adjustTickAmounts(),t.getMargins(),nn(n,function(e){e.isDirtyExtremes&&(e.isDirtyExtremes=!1,ln(e,"afterSetExtremes",e.getExtremes()));if(e.isDirty||a||u)e.redraw(),a=!0})),a&&(t.drawChartBox(),c&&(pn(c),c.animate({width:t.plotSizeX,height:t.plotSizeY+1}))),nn(r,function(e){e.isDirty&&e.visible&&(!e.isCartesian||e.xAxis)&&e.redraw()}),i&&i.resetTracker&&i.resetTracker(!0),p.draw(),ln(t,"redraw"),d&&t.cloneRenderTo(!0)},showLoading:function(e){var t=this,n=t.options,r=t.loadingDiv,i=n.loading;r||(t.loadingDiv=r=Ht(P,{className:F+"loading"},wt(i.style,{left:t.plotLeft+q,top:t.plotTop+q,width:t.plotWidth+q,height:t.plotHeight+q,zIndex:10,display:R}),t.container),t.loadingSpan=Ht("span",null,i.labelStyle,r)),t.loadingSpan.innerHTML=e||n.lang.loading,t.loadingShown||(Pt(r,{opacity:0,display:""}),hn(r,{opacity:i.style.opacity},{duration:i.showDuration||0}),t.loadingShown=!0)},hideLoading:function(){var e=this.options,t=this.loadingDiv;t&&hn(t,{opacity:0},{duration:e.loading.hideDuration||100,complete:function(){Pt(t,{display:R})}}),this.loadingShown=!1},get:function(e){var t=this,n=t.axes,r=t.series,i,s,o;for(i=0;i<n.length;i++)if(n[i].options.id===e)return n[i];for(i=0;i<r.length;i++)if(r[i].options.id===e)return r[i];for(i=0;i<r.length;i++){o=r[i].points||[];for(s=0;s<o.length;s++)if(o[s].id===e)return o[s]}return null},getAxes:function(){var e=this,t=this.options,n=t.xAxis||{},r=t.yAxis||{},i,s;n=_t(n),nn(n,function(e,t){e.index=t,e.isX=!0}),r=_t(r),nn(r,function(e,t){e.index=t}),i=n.concat(r),nn(i,function(t){s=new Pn(e,t)}),e.adjustTickAmounts()},getSelectedPoints:function(){var e=[];return nn(this.series,function(t){e=e.concat(rn(t.points,function(e){return e.selected}))}),e},getSelectedSeries:function(){return rn(this.series,function(e){return e.selected})},showResetZoom:function(){var e=this,t=L.lang,n=e.options.chart.resetZoomButton,r=n.theme,i=r.states,s=n.relativeTo==="chart"?null:{x:e.plotLeft,y:e.plotTop,width:e.plotWidth,height:e.plotHeight};this.resetZoomButton=e.renderer.button(t.resetZoom,null,null,function(){e.zoomOut()},r,i&&i.hover).attr({align:n.position.align,title:t.resetZoomTitle}).add().align(n.position,!1,s)},zoomOut:function(){var e=this,t=e.resetZoomButton;ln(e,"selection",{resetSelection:!0},function(){e.zoom()}),t&&(e.resetZoomButton=t.destroy())},zoom:function(e){var t=this,n=t.options.chart,r;t.resetZoomEnabled!==!1&&!t.resetZoomButton&&t.showResetZoom(),!e||e.resetSelection?nn(t.axes,function(e){e.options.zoomEnabled!==!1&&(e.setExtremes(null,null,!1),r=!0)}):nn(e.xAxis.concat(e.yAxis),function(e){var n=e.axis;t.tracker[n.isXAxis?"zoomX":"zoomY"]&&(n.setExtremes(e.min,e.max,!1),r=!0)}),r&&t.redraw(Dt(n.animation,t.pointCount<100))},pan:function(e){var t=this,n=t.xAxis[0],r=t.mouseDownX,i=n.pointRange/2,s=n.getExtremes(),o=n.translate(r-e,!0)+i,f=n.translate(r+t.plotWidth-e,!0)-i,l=t.hoverPoints;l&&nn(l,function(e){e.setState()}),n.series.length&&o>a(s.dataMin,s.min)&&f<u(s.dataMax,s.max)&&n.setExtremes(o,f,!0,!1),t.mouseDownX=e,Pt(t.container,{cursor:"move"})},setTitle:function(e,t){var n=this,r=n.options,i,s;n.chartTitleOptions=i=un(r.title,e),n.chartSubtitleOptions=s=un(r.subtitle,t),nn([["title",e,i],["subtitle",t,s]],function(e){var t=e[0],r=n[t],i=e[1],s=e[2];r&&i&&(r=r.destroy()),s&&s.text&&!r&&(n[t]=n.renderer.text(s.text,0,0,s.useHTML).attr({align:s.align,"class":F+t,zIndex:s.zIndex||4}).css(s.style).add().align(s,!1,n.spacingBox))})},getChartSize:function(){var e=this,t=e.options.chart,n=e.renderToClone||e.renderTo;e.containerWidth=en(n,"width"),e.containerHeight=en(n,"height"),e.chartWidth=t.width||e.containerWidth||600,e.chartHeight=t.height||(e.containerHeight>19?e.containerHeight:400)},cloneRenderTo:function(e){var n=this.renderToClone,r=this.container;e?n&&(this.renderTo.appendChild(r),Jt(n),delete this.renderToClone):(r&&this.renderTo.removeChild(r),this.renderToClone=n=this.renderTo.cloneNode(0),Pt(n,{position:H,top:"-9999px",display:"block"}),t.body.appendChild(n),r&&n.appendChild(r))},getContainer:function(){var e=this,n,r=e.options.chart,i,s,o,u;e.renderTo=o=r.renderTo,u=F+C++,xt(o)&&(e.renderTo=o=t.getElementById(o)),o||Kt(13,!0),o.innerHTML="",o.offsetWidth||e.cloneRenderTo(),e.getChartSize(),i=e.chartWidth,s=e.chartHeight,e.container=n=Ht(P,{className:F+"container"+(r.className?" "+r.className:""),id:u},wt({position:B,overflow:j,width:i+q,height:s+q,textAlign:"left",lineHeight:"normal"},r.style),e.renderToClone||o),e.renderer=r.forExport?new Nn(n,i,s,!0):new x(n,i,s),S&&e.renderer.create(e,n,i,s)},getMargins:function(){var e=this,t=e.options.chart,n=t.spacingTop,r=t.spacingRight,i=t.spacingBottom,s=t.spacingLeft,o,a=e.legend,f=e.optionsMarginTop,l=e.optionsMarginLeft,c=e.optionsMarginRight,h=e.optionsMarginBottom,p=e.chartTitleOptions,d=e.chartSubtitleOptions,v=e.options.legend,m=Dt(v.margin,10),g=v.x,y=v.y,b=v.align,w=v.verticalAlign,E;e.resetMargins(),o=e.axisOffset,(e.title||e.subtitle)&&!Ot(e.optionsMarginTop)&&(E=u(e.title&&!p.floating&&!p.verticalAlign&&p.y||0,e.subtitle&&!d.floating&&!d.verticalAlign&&d.y||0),E&&(e.plotTop=u(e.plotTop,E+Dt(p.margin,15)+n))),a.display&&!v.floating&&(b==="right"?Ot(c)||(e.marginRight=u(e.marginRight,a.legendWidth-g+m+r)):b==="left"?Ot(l)||(e.plotLeft=u(e.plotLeft,a.legendWidth+g+m+s)):w==="top"?Ot(f)||(e.plotTop=u(e.plotTop,a.legendHeight+y+m+n)):w==="bottom"&&(Ot(h)||(e.marginBottom=u(e.marginBottom,a.legendHeight-y+m+i)))),e.extraBottomMargin&&(e.marginBottom+=e.extraBottomMargin),e.extraTopMargin&&(e.plotTop+=e.extraTopMargin),e.hasCartesianSeries&&nn(e.axes,function(e){e.getOffset()}),Ot(l)||(e.plotLeft+=o[3]),Ot(f)||(e.plotTop+=o[0]),Ot(h)||(e.marginBottom+=o[2]),Ot(c)||(e.marginRight+=o[1]),e.setChartSize()},initReflow:function(){function o(o){var u=r.width||en(i,"width"),a=r.height||en(i,"height"),f=o?o.target:n;if(u&&a&&(f===n||f===t)){if(u!==e.containerWidth||a!==e.containerHeight)clearTimeout(s),s=setTimeout(function(){e.resize(u,a,!1)},100);e.containerWidth=u,e.containerHeight=a}}var e=this,r=e.options.chart,i=e.renderTo,s;an(n,"resize",o),an(e,"destroy",function(){fn(n,"resize",o)})},fireEndResize:function(){var e=this;e&&ln(e,"endResize",null,function(){e.isResizing-=1})},resize:function(e,t,n){var r=this,s,o,u,a=r.title,f=r.subtitle;r.isResizing+=1,Gt(n,r),r.oldChartHeight=r.chartHeight,r.oldChartWidth=r.chartWidth,Ot(e)&&(r.chartWidth=s=i(e)),Ot(t)&&(r.chartHeight=o=i(t)),Pt(r.container,{width:s+q,height:o+q}),r.renderer.setSize(s,o,n),r.plotWidth=s-r.plotLeft-r.marginRight,r.plotHeight=o-r.plotTop-r.marginBottom,r.maxTicks=null,nn(r.axes,function(e){e.isDirty=!0,e.setScale()}),nn(r.series,function(e){e.isDirty=!0}),r.isDirtyLegend=!0,r.isDirtyBox=!0,r.getMargins(),u=r.spacingBox,a&&a.align(null,null,u),f&&f.align(null,null,u),r.redraw(n),r.oldChartHeight=null,ln(r,"resize"),O===!1?r.fireEndResize():setTimeout(r.fireEndResize,O&&O.duration||500)},setChartSize:function(){var e=this,t=e.inverted,n=e.chartWidth,r=e.chartHeight,s=e.options.chart,o=s.spacingTop,u=s.spacingRight,a=s.spacingBottom,f=s.spacingLeft;e.plotLeft=i(e.plotLeft),e.plotTop=i(e.plotTop),e.plotWidth=i(n-e.plotLeft-e.marginRight),e.plotHeight=i(r-e.plotTop-e.marginBottom),e.plotSizeX=t?e.plotHeight:e.plotWidth,e.plotSizeY=t?e.plotWidth:e.plotHeight,e.spacingBox={x:f,y:o,width:n-f-u,height:r-o-a},nn(e.axes,function(e){e.setAxisSize(),e.setAxisTranslation()})},resetMargins:function(){var e=this,t=e.options.chart,n=t.spacingTop,r=t.spacingRight,i=t.spacingBottom,s=t.spacingLeft;e.plotTop=Dt(e.optionsMarginTop,n),e.marginRight=Dt(e.optionsMarginRight,r),e.marginBottom=Dt(e.optionsMarginBottom,i),e.plotLeft=Dt(e.optionsMarginLeft,s),e.axisOffset=[0,0,0,0]},drawChartBox:function(){var e=this,t=e.options.chart,n=e.renderer,r=e.chartWidth,i=e.chartHeight,s=e.chartBackground,o=e.plotBackground,u=e.plotBorder,a=e.plotBGImage,f=t.borderWidth||0,l=t.backgroundColor,c=t.plotBackgroundColor,h=t.plotBackgroundImage,p,d,v={x:e.plotLeft,y:e.plotTop,width:e.plotWidth,height:e.plotHeight};p=f+(t.shadow?8:0);if(f||l)s?s.animate(s.crisp(null,null,null,r-p,i-p)):(d={fill:l||R},f&&(d.stroke=t.borderColor,d["stroke-width"]=f),e.chartBackground=n.rect(p/2,p/2,r-p,i-p,t.borderRadius,f).attr(d).add().shadow(t.shadow));c&&(o?o.animate(v):e.plotBackground=n.rect(e.plotLeft,e.plotTop,e.plotWidth,e.plotHeight,0).attr({fill:c}).add().shadow(t.plotShadow)),h&&(a?a.animate(v):e.plotBGImage=n.image(h,e.plotLeft,e.plotTop,e.plotWidth,e.plotHeight).add()),t.plotBorderWidth&&(u?u.animate(u.crisp(null,e.plotLeft,e.plotTop,e.plotWidth,e.plotHeight)):e.plotBorder=n.rect(e.plotLeft,e.plotTop,e.plotWidth,e.plotHeight,0,t.plotBorderWidth).attr({stroke:t.plotBorderColor,"stroke-width":t.plotBorderWidth,zIndex:4}).add()),e.isDirtyBox=!1},propFromSeries:function(){var e=this,t=e.options.chart,n,r=e.options.series,i,s;nn(["inverted","angular","polar"],function(o){n=bt[t.type||t.defaultSeriesType],s=e[o]||t[o]||n&&n.prototype[o],i=r&&r.length;while(!s&&i--)n=bt[r[i].type],n&&n.prototype[o]&&(s=!0);e[o]=s})},render:function(){var e=this,t=e.axes,n=e.renderer,r=e.options,i=r.labels,s=r.credits,o;e.setTitle(),e.legend=new jn(e),nn(t,function(e){e.setScale()}),e.getMargins(),e.maxTicks=null,nn(t,function(e){e.setTickPositions(!0),e.setMaxTicks()}),e.adjustTickAmounts(),e.getMargins(),e.drawChartBox(),e.hasCartesianSeries&&nn(t,function(e){e.render()}),e.seriesGroup||(e.seriesGroup=n.g("series-group").attr({zIndex:3}).add()),nn(e.series,function(e){e.translate(),e.setTooltipPoints(),e.render()}),i.items&&nn(i.items,function(){var t=wt(i.style,this.style),r=St(t.left)+e.plotLeft,s=St(t.top)+e.plotTop+12;delete t.left,delete t.top,n.text(this.html,r,s).attr({zIndex:2}).css(t).add()}),s.enabled&&!e.credits&&(o=s.href,e.credits=n.text(s.text,0,0).on("click",function(){o&&(location.href=o)}).attr({align:s.position.align,zIndex:8}).css(s.style).add().align(s.position)),e.hasRendered=!0},destroy:function(){var e=this,t=e.axes,n=e.series,r=e.container,i,s=r&&r.parentNode;if(e===null)return;ln(e,"destroy"),fn(e),i=t.length;while(i--)t[i]=t[i].destroy();i=n.length;while(i--)n[i]=n[i].destroy();nn(["title","subtitle","chartBackground","plotBackground","plotBGImage","plotBorder","seriesGroup","clipRect","credits","tracker","scroller","rangeSelector","legend","resetZoomButton","tooltip","renderer"],function(t){var n=e[t];n&&(e[t]=n.destroy())}),r&&(r.innerHTML="",fn(r),s&&Jt(r),r=null);for(i in e)delete e[i];e.options=null,e=null},firstRender:function(){var e=this,r=e.options,i=e.callback,s="onreadystatechange",o="complete";if(!w&&n==n.top&&t.readyState!==o||S&&!n.canvg){S?On.push(function(){e.firstRender()},r.global.canvasToolsURL):t.attachEvent(s,function(){t.detachEvent(s,e.firstRender),t.readyState===o&&e.firstRender()});return}e.getContainer(),ln(e,"init"),Highcharts.RangeSelector&&r.rangeSelector.enabled&&(e.rangeSelector=new Highcharts.RangeSelector(e)),e.resetMargins(),e.setChartSize(),e.propFromSeries(),e.getAxes(),nn(r.series||[],function(t){e.initSeries(t)}),Highcharts.Scroller&&(r.navigator.enabled||r.scrollbar.enabled)&&(e.scroller=new Highcharts.Scroller(e)),e.tracker=new Bn(e,r),e.render(),e.renderer.draw(),i&&i.apply(e,[e]),nn(e.callbacks,function(t){t.apply(e,[e])}),e.cloneRenderTo(!0),ln(e,"load")},init:function(e){var t=this,n=t.options.chart,r;n.reflow!==!1&&an(t,"load",t.initReflow);if(e)for(r in e)an(t,r,e[r]);t.xAxis=[],t.yAxis=[],t.animation=S?!1:Dt(n.animation,!0),t.setSize=t.resize,t.pointCount=0,t.counters=new zt,t.firstRender()}},Fn.prototype.callbacks=[];var In=function(){};In.prototype={init:function(e,t,n){var r=this,i=e.chart.counters,s;return r.series=e,r.applyOptions(t,n),r.pointAttr={},e.options.colorByPoint&&(s=e.chart.options.colors,r.options||(r.options={}),r.color=r.options.color=r.color||s[i.color++],i.wrapColor(s.length)),e.chart.pointCount++,r},applyOptions:function(t,n){var r=this,i=r.series,s=typeof t;r.config=t,s==="number"||t===null?r.y=t:typeof t[0]=="number"?(r.x=t[0],r.y=t[1]):s==="object"&&typeof t.length!="number"?(wt(r,t),r.options=t,t.dataLabels&&(i._hasPointLabels=!0)):typeof t[0]=="string"&&(r.name=t[0],r.y=t[1]),r.x===e&&(r.x=n===e?i.autoIncrement():n)},destroy:function(){var e=this,t=e.series,n=t.chart,r=n.hoverPoints,i;n.pointCount--,r&&(e.setState()
,At(r,e),r.length||(n.hoverPoints=null)),e===n.hoverPoint&&e.onMouseOut();if(e.graphic||e.dataLabel)fn(e),e.destroyElements();e.legendItem&&n.legend.destroyItem(e);for(i in e)e[i]=null},destroyElements:function(){var e=this,t=["graphic","tracker","dataLabel","group","connector","shadowGroup"],n,r=6;while(r--)n=t[r],e[n]&&(e[n]=e[n].destroy())},getLabelConfig:function(){var e=this;return{x:e.category,y:e.y,key:e.name||e.category,series:e.series,point:e,percentage:e.percentage,total:e.total||e.stackTotal}},select:function(e,t){var n=this,r=n.series,i=r.chart;e=Dt(e,!n.selected),n.firePointEvent(e?"select":"unselect",{accumulate:t},function(){n.selected=e,n.setState(e&&$),t||nn(i.getSelectedPoints(),function(e){e.selected&&e!==n&&(e.selected=!1,e.setState(X),e.firePointEvent("unselect"))})})},onMouseOver:function(){var e=this,t=e.series,n=t.chart,r=n.tooltip,i=n.hoverPoint;i&&i!==e&&i.onMouseOut(),e.firePointEvent("mouseOver"),r&&(!r.shared||t.noSharedTooltip)&&r.refresh(e),e.setState(V),n.hoverPoint=e},onMouseOut:function(){var e=this;e.firePointEvent("mouseOut"),e.setState(),e.series.chart.hoverPoint=null},tooltipFormatter:function(e){var t=this,n=t.series,r=n.tooltipOptions,i=e.match(/\{(series|point)\.[a-zA-Z]+\}/g),s=/[{\.}]/,o,u,a,f,l,c,h,p={y:0,open:0,high:0,low:0,close:0,percentage:1,total:1};r.valuePrefix=r.valuePrefix||r.yPrefix,r.valueDecimals=r.valueDecimals||r.yDecimals,r.valueSuffix=r.valueSuffix||r.ySuffix;for(h in i)u=i[h],xt(u)&&u!==e&&(l=(" "+u).split(s),o={point:t,series:n}[l[1]],c=l[2],o===t&&p.hasOwnProperty(c)?(f=p[c]?c:"value",a=(r[f+"Prefix"]||"")+Ft(t[c],Dt(r[f+"Decimals"],-1))+(r[f+"Suffix"]||"")):a=o[c],e=e.replace(u,a));return e},update:function(e,t,n){var r=this,i=r.series,s=r.graphic,o,u=i.data,a=u.length,f=i.chart;t=Dt(t,!0),r.firePointEvent("update",{options:e},function(){r.applyOptions(e),Tt(e)&&(i.getAttribs(),s&&s.attr(r.pointAttr[i.state]));for(o=0;o<a;o++)if(u[o]===r){i.xData[o]=r.x,i.yData[o]=r.y,i.options.data[o]=e;break}i.isDirty=!0,i.isDirtyData=!0,t&&f.redraw(n)})},remove:function(e,t){var n=this,r=n.series,i=r.chart,s,o=r.data,u=o.length;Gt(t,i),e=Dt(e,!0),n.firePointEvent("remove",null,function(){for(s=0;s<u;s++)if(o[s]===n){o.splice(s,1),r.options.data.splice(s,1),r.xData.splice(s,1),r.yData.splice(s,1);break}n.destroy(),r.isDirty=!0,r.isDirtyData=!0,e&&i.redraw()})},firePointEvent:function(e,t,n){var r=this,i=this.series,s=i.options;(s.point.events[e]||r.options&&r.options.events&&r.options.events[e])&&this.importEvents(),e==="click"&&s.allowPointSelect&&(n=function(e){r.select(null,e.ctrlKey||e.metaKey||e.shiftKey)}),ln(this,e,t,n)},importEvents:function(){if(!this.hasImportedEvents){var e=this,t=un(e.series.options.point,e.options),n=t.events,r;e.events=n;for(r in n)an(e,r,n[r]);this.hasImportedEvents=!0}},setState:function(e){var t=this,n=t.plotX,r=t.plotY,i=t.series,s=i.options.states,o=yn[i.type].marker&&i.options.marker,u=o&&!o.enabled,a=o&&o.states[e],f=a&&a.enabled===!1,l=i.stateMarkerGraphic,c=i.chart,h,p=t.pointAttr;e=e||X;if(e===t.state||t.selected&&e!==$||s[e]&&s[e].enabled===!1||e&&(f||u&&!a.enabled))return;t.graphic?(h=o&&t.graphic.symbolName&&p[e].r,t.graphic.attr(un(p[e],h?{x:n-h,y:r-h,width:2*h,height:2*h}:{}))):(e&&a&&(l||(h=a.radius,i.stateMarkerGraphic=l=c.renderer.symbol(i.symbol,-h,-h,2*h,2*h).attr(p[e]).add(i.group)),l.translate(n,r)),l&&l[e?"show":"hide"]()),t.state=e}};var qn=function(){};qn.prototype={isCartesian:!0,type:"line",pointClass:In,sorted:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},init:function(e,t){var n=this,r,i,s=e.series.length;n.chart=e,n.options=t=n.setOptions(t),n.bindAxes(),wt(n,{index:s,name:t.name||"Series "+(s+1),state:X,pointAttr:{},visible:t.visible!==!1,selected:t.selected===!0}),S&&(t.animation=!1),i=t.events;for(r in i)an(n,r,i[r]);if(i&&i.click||t.point&&t.point.events&&t.point.events.click||t.allowPointSelect)e.runTrackerClick=!0;n.getColor(),n.getSymbol(),n.setData(t.data,!1),n.isCartesian&&(e.hasCartesianSeries=!0),e.series.push(n)},bindAxes:function(){var t=this,n=t.options,r=t.chart,i;t.isCartesian&&nn(["xAxis","yAxis"],function(s){nn(r[s],function(r){i=r.options;if(n[s]===i.index||n[s]===e&&i.index===0)r.series.push(t),t[s]=r,r.isDirty=!0})})},autoIncrement:function(){var e=this,t=e.options,n=e.xIncrement;return n=Dt(n,t.pointStart,0),e.pointInterval=Dt(e.pointInterval,t.pointInterval,1),e.xIncrement=n+e.pointInterval,n},getSegments:function(){var e=this,t=-1,n=[],r,i=e.points,s=i.length;if(s)if(e.options.connectNulls){r=s;while(r--)i[r].y===null&&i.splice(r,1);i.length&&(n=[i])}else nn(i,function(e,r){e.y===null?(r>t+1&&n.push(i.slice(t+1,r)),t=r):r===s-1&&n.push(i.slice(t+1,r+1))});e.segments=n},setOptions:function(e){var t=this,n=t.chart,r=n.options,i=r.plotOptions,s=e.data,o;return e.data=null,o=un(i[this.type],i.series,e),o.data=e.data=s,t.tooltipOptions=un(r.tooltip,o.tooltip),o},getColor:function(){var e=this.options,t=this.chart.options.colors,n=this.chart.counters;this.color=e.color||!e.colorByPoint&&t[n.color++]||"gray",n.wrapColor(t.length)},getSymbol:function(){var e=this,t=e.options.marker,n=e.chart,r=n.options.symbols,i=n.counters;e.symbol=t.symbol||r[i.symbol++],/^url/.test(e.symbol)&&(t.radius=0),i.wrapSymbol(r.length)},drawLegendSymbol:function(e){var t=this.options,n=t.marker,r,i=e.options,s,o=i.symbolWidth,u=this.chart.renderer,a=this.legendGroup,f=e.baseline,l;t.lineWidth&&(l={"stroke-width":t.lineWidth},t.dashStyle&&(l.dashstyle=t.dashStyle),this.legendLine=u.path([U,0,f-4,z,o,f-4]).attr(l).add(a)),n&&n.enabled&&(r=n.radius,this.legendSymbol=s=u.symbol(this.symbol,o/2-r,f-4-r,2*r,2*r).attr(this.pointAttr[X]).add(a))},addPoint:function(e,t,n,r){var i=this,s=i.data,o=i.graph,u=i.area,a=i.chart,f=i.xData,l=i.yData,c=o&&o.shift||0,h=i.options.data,p;Gt(r,a),o&&n&&(o.shift=c+1),u&&(n&&(u.shift=c+1),u.isArea=!0),t=Dt(t,!0),p={series:i},i.pointClass.prototype.applyOptions.apply(p,[e]),f.push(p.x),l.push(i.valueCount===4?[p.open,p.high,p.low,p.close]:p.y),h.push(e),n&&(s[0]&&s[0].remove?s[0].remove(!1):(s.shift(),f.shift(),l.shift(),h.shift())),i.getAttribs(),i.isDirty=!0,i.isDirtyData=!0,t&&a.redraw()},setData:function(e,t){var n=this,r=n.points,i=n.options,s=n.initialColor,o=n.chart,u=null,a=n.xAxis,f,l=n.pointClass.prototype;n.xIncrement=null,n.pointRange=a&&a.categories&&1||i.pointRange,Ot(s)&&(o.counters.color=s);var c=[],h=[],p=e?e.length:[],d=i.turboThreshold||1e3,v,m=n.valueCount;if(p>d){f=0;while(u===null&&f<p)u=e[f],f++;if(Ct(u)){var g=Dt(i.pointStart,0),y=Dt(i.pointInterval,1);for(f=0;f<p;f++)c[f]=g,h[f]=e[f],g+=y;n.xIncrement=g}else if(Nt(u))if(m)for(f=0;f<p;f++)v=e[f],c[f]=v[0],h[f]=v.slice(1,m+1);else for(f=0;f<p;f++)v=e[f],c[f]=v[0],h[f]=v[1]}else for(f=0;f<p;f++)v={series:n},l.applyOptions.apply(v,[e[f]]),c[f]=v.x,h[f]=l.toYData?l.toYData.apply(v):v.y;n.data=[],n.options.data=e,n.xData=c,n.yData=h,f=r&&r.length||0;while(f--)r[f]&&r[f].destroy&&r[f].destroy();a&&(a.minRange=a.userMinRange),n.isDirty=n.isDirtyData=o.isDirtyBox=!0,Dt(t,!0)&&o.redraw(!1)},remove:function(e,t){var n=this,r=n.chart;e=Dt(e,!0),n.isRemoving||(n.isRemoving=!0,ln(n,"remove",null,function(){n.destroy(),r.isDirtyLegend=r.isDirtyBox=!0,e&&r.redraw(t)})),n.isRemoving=!1},processData:function(t){var n=this,r=n.xData,i=n.yData,s=r.length,o=0,a=s,f,l,c,h=n.xAxis,p,d=n.options,v=d.cropThreshold,m=n.isCartesian;if(m&&!n.isDirty&&!h.isDirty&&!n.yAxis.isDirty&&!t)return!1;if(m&&n.sorted&&(!v||s>v||n.forceCrop)){var g=h.getExtremes(),y=g.min,b=g.max;if(r[s-1]<y||r[0]>b)r=[],i=[];else if(r[0]<y||r[s-1]>b){for(p=0;p<s;p++)if(r[p]>=y){o=u(0,p-1);break}for(;p<s;p++)if(r[p]>b){a=p+1;break}r=r.slice(o,a),i=i.slice(o,a),f=!0}}for(p=r.length-1;p>0;p--)l=r[p]-r[p-1],l>0&&(c===e||l<c)&&(c=l);n.cropped=f,n.cropStart=o,n.processedXData=r,n.processedYData=i,d.pointRange===null&&(n.pointRange=c||1),n.closestPointRange=c},generatePoints:function(){var t=this,n=t.options,r=n.data,i=t.data,s,o=t.processedXData,u=t.processedYData,a=t.pointClass,f=o.length,l=t.cropStart||0,c,h=t.hasGroupedData,p,d=[],v;if(!i&&!h){var m=[];m.length=r.length,i=t.data=m}for(v=0;v<f;v++)c=l+v,h?d[v]=(new a).init(t,[o[v]].concat(_t(u[v]))):(i[c]?p=i[c]:r[c]!==e&&(i[c]=p=(new a).init(t,r[c],o[v])),d[v]=p);if(i&&(f!==(s=i.length)||h))for(v=0;v<s;v++)v===l&&!h&&(v+=f),i[v]&&(i[v].destroyElements(),i[v].plotX=e);t.data=i,t.points=d},translate:function(){this.processedXData||this.processData(),this.generatePoints();var t=this,n=t.chart,r=t.options,s=r.stacking,o=t.xAxis,u=o.categories,a=t.yAxis,f=t.points,l=f.length,c=!!t.modifyValue,h,p=a.series,d=p.length;while(d--)if(p[d].visible){d===t.index&&(h=!0);break}for(d=0;d<l;d++){var v=f[d],m=v.x,g=v.y,y=v.low,b=a.stacks[(g<r.threshold?"-":"")+t.stackKey],w,E;v.plotX=o.translate(m,0,0,0,1),s&&t.visible&&b&&b[m]&&(w=b[m],E=w.total,w.cum=y=w.cum-g,g=y+g,h&&(y=r.threshold),s==="percent"&&(y=E?y*100/E:0,g=E?g*100/E:0),v.percentage=E?v.y*100/E:0,v.stackTotal=E,v.stackY=g),v.yBottom=Ot(y)?a.translate(y,0,1,0,1):null,c&&(g=t.modifyValue(g,v)),v.plotY=typeof g=="number"?i(a.translate(g,0,1,0,1)*10)/10:e,v.clientX=n.inverted?n.plotHeight-v.plotX:v.plotX,v.category=u&&u[v.x]!==e?u[v.x]:v.x}t.getSegments()},setTooltipPoints:function(e){var t=this,n=t.chart,r=[],i,o=n.plotSizeX,a,f,l=t.xAxis,c,h,p=[];if(t.options.enableMouseTracking===!1)return;e&&(t.tooltipPoints=null),nn(t.segments||t.points,function(e){r=r.concat(e)}),l&&l.reversed&&(r=r.reverse()),i=r.length;for(h=0;h<i;h++){c=r[h],a=r[h-1]?r[h-1]._high+1:0,c._high=f=r[h+1]?u(0,s((c.plotX+(r[h+1]?r[h+1].plotX:o))/2)):o;while(a>=0&&a<=f)p[a++]=c}t.tooltipPoints=p},tooltipHeaderFormatter:function(e){var t=this,n=t.tooltipOptions,r=n.xDateFormat,i=t.xAxis,s=i&&i.options.type==="datetime",o;if(s&&!r)for(o in _)if(_[o]>=i.closestPointRange){r=n.dateTimeLabelFormats[o];break}return n.headerFormat.replace("{point.key}",s?A(r,e):e).replace("{series.name}",t.name).replace("{series.color}",t.color)},onMouseOver:function(){var e=this,t=e.chart,n=t.hoverSeries;if(!T&&t.mouseIsDown)return;n&&n!==e&&n.onMouseOut(),e.options.events.mouseOver&&ln(e,"mouseOver"),e.setState(V),t.hoverSeries=e},onMouseOut:function(){var e=this,t=e.options,n=e.chart,r=n.tooltip,i=n.hoverPoint;i&&i.onMouseOut(),e&&t.events.mouseOut&&ln(e,"mouseOut"),r&&!t.stickyTracking&&!r.shared&&r.hide(),e.setState(),n.hoverSeries=null},animate:function(e){var t=this,n=t.chart,r=t.clipRect,i=t.options.animation;i&&!Tt(i)&&(i={}),e?r.isAnimating||(r.attr("width",0),r.isAnimating=!0):(r.animate({width:n.plotSizeX},i),this.animate=null)},drawPoints:function(){var t=this,n,r=t.points,i=t.chart,s,o,u,a,f,l,c,h;if(t.options.marker.enabled){u=r.length;while(u--){a=r[u],s=a.plotX,o=a.plotY,h=a.graphic;if(o!==e&&!isNaN(o)){n=a.pointAttr[a.selected?$:X],f=n.r,l=Dt(a.marker&&a.marker.symbol,t.symbol),c=l.indexOf("url")===0;if(h)h.animate(wt({x:s-f,y:o-f},h.symbolName?{width:2*f,height:2*f}:{}));else if(f>0||c)a.graphic=i.renderer.symbol(l,s-f,o-f,2*f,2*f).attr(n).add(t.group)}}}},convertAttribs:function(e,t,n,r){var i=this.pointAttrToOptions,s,o,u={};e=e||{},t=t||{},n=n||{},r=r||{};for(s in i)o=i[s],u[s]=Dt(e[o],t[s],n[s],r[s]);return u},getAttribs:function(){var e=this,t=yn[e.type].marker?e.options.marker:e.options,n=t.states,r=n[V],i,s=e.color,o={stroke:s,fill:s},u=e.points||[],a,f,l=[],c,h=e.pointAttrToOptions,p,d;e.options.marker?(r.radius=r.radius||t.radius+2,r.lineWidth=r.lineWidth||t.lineWidth+1):r.color=r.color||xn(r.color||s).brighten(r.brightness).get(),l[X]=e.convertAttribs(t,o),nn([V,$],function(t){l[t]=e.convertAttribs(n[t],l[X])}),e.pointAttr=l,a=u.length;while(a--){f=u[a],t=f.options&&f.options.marker||f.options,t&&t.enabled===!1&&(t.radius=0),p=!1;if(f.options)for(d in h)Ot(t[h[d]])&&(p=!0);p?(c=[],n=t.states||{},i=n[V]=n[V]||{},e.options.marker||(i.color=xn(i.color||f.options.color).brighten(i.brightness||r.brightness).get()),c[X]=e.convertAttribs(t,l[X]),c[V]=e.convertAttribs(n[V],l[V],c[X]),c[$]=e.convertAttribs(n[$],l[$],c[X])):c=l,f.pointAttr=c}},destroy:function(){var e=this,t=e.chart,n=e.clipRect,r=/AppleWebKit\/533/.test(d),i,s,o=e.data||[],u,a,f;ln(e,"destroy"),fn(e),nn(["xAxis","yAxis"],function(t){f=e[t],f&&(At(f.series,e),f.isDirty=!0)}),e.legendItem&&e.chart.legend.destroyItem(e),s=o.length;while(s--)u=o[s],u&&u.destroy&&u.destroy();e.points=null,n&&n!==t.clipRect&&(e.clipRect=n.destroy()),nn(["area","graph","dataLabelsGroup","group","tracker","trackerGroup"],function(t){e[t]&&(i=r&&t==="group"?"hide":"destroy",e[t][i]())}),t.hoverSeries===e&&(t.hoverSeries=null),At(t.series,e);for(a in e)delete e[a]},drawDataLabels:function(){var t=this,n=t.options,r=n.dataLabels;if(r.enabled||t._hasPointLabels){var s,o,u=t.points,a,f,l,c=t.dataLabelsGroup,h=t.chart,p=t.xAxis,d=p?p.left:h.plotLeft,v=t.yAxis,m=v?v.top:h.plotTop,g=h.renderer,y=h.inverted,b=t.type,w=n.stacking,E=b==="column"||b==="bar",S=r.verticalAlign===null,x=r.y===null,T=g.fontMetrics(r.style.fontSize),N=T.h,C=T.b,k,L;if(E){var A={top:C,middle:C-N/2,bottom:-N+C};w?(S&&(r=un(r,{verticalAlign:"middle"})),x&&(r=un(r,{y:A[r.verticalAlign]}))):S?r=un(r,{verticalAlign:"top"}):x&&(r=un(r,{y:A[r.verticalAlign]}))}c?c.translate(d,m):c=t.dataLabelsGroup=g.g("data-labels").attr({visibility:t.visible?I:j,zIndex:6}).translate(d,m).add(),f=r,nn(u,function(u){k=u.dataLabel,r=f,a=u.options,a&&a.dataLabels&&(r=un(r,a.dataLabels)),L=r.enabled;if(L){var p=u.barX&&u.barX+u.barW/2||Dt(u.plotX,-999),d=Dt(u.plotY,-999),v=r.y===null?u.y>=n.threshold?-N+C:C:r.y;s=(y?h.plotWidth-d:p)+r.x,o=i((y?h.plotHeight-p:d)+v)}if(k&&t.isCartesian&&(!h.isInsidePlot(s,o)||!L))u.dataLabel=k.destroy();else if(L){var m=r.align,S,x;l=r.formatter.call(u.getLabelConfig(),r),b==="column"&&(s+={left:-1,right:1}[m]*u.barW/2||0),!w&&y&&u.y<0&&(m="right",s-=10),r.style.color=Dt(r.color,r.style.color,t.color,"black");if(k)k.attr({text:l}).animate({x:s,y:o});else if(Ot(l)){S={align:m,fill:r.backgroundColor,stroke:r.borderColor,"stroke-width":r.borderWidth,r:r.borderRadius||0,rotation:r.rotation,padding:r.padding,zIndex:1};for(x in S)S[x]===e&&delete S[x];k=u.dataLabel=g[r.rotation?"text":"label"](l,s,o,null,null,null,r.useHTML,!0).attr(S).css(r.style).add(c).shadow(r.shadow)}if(E&&n.stacking&&k){var T=u.barX,A=u.barY,O=u.barW,M=u.barH;k.align(r,null,{x:y?h.plotWidth-A-M:T,y:y?h.plotHeight-T-O:A,width:y?M:O,height:y?O:M})}}})}},getSegmentPath:function(e){var t=this,n=[];return nn(e,function(r,i){if(t.getPointSpline)n.push.apply(n,t.getPointSpline(e,r,i));else{n.push(i?z:U);if(i&&t.options.step){var s=e[i-1];n.push(r.plotX,s.plotY)}n.push(r.plotX,r.plotY)}}),n},drawGraph:function(){var e=this,t=e.options,n=e.chart,r=e.graph,i=[],s=e.group,o=t.lineColor||e.color,u=t.lineWidth,a=t.dashStyle,f,l=n.renderer,c=[],h;nn(e.segments,function(t){f=e.getSegmentPath(t),t.length>1?i=i.concat(f):c.push(t[0])}),e.graphPath=i,e.singlePoints=c,r?(pn(r),r.animate({d:i})):u&&(h={stroke:o,"stroke-width":u},a&&(h.dashstyle=a),e.graph=l.path(i).attr(h).add(s).shadow(t.shadow))},invertGroups:function(){function i(){var r={width:e.yAxis.len,height:e.xAxis.len};t.attr(r).invert(),n&&n.attr(r).invert()}var e=this,t=e.group,n=e.trackerGroup,r=e.chart;an(r,"resize",i),an(e,"destroy",function(){fn(r,"resize",i)}),i(),e.invertGroups=i},createGroup:function(){var e=this.chart,t=this.group=e.renderer.g("series");t.attr({visibility:this.visible?I:j,zIndex:this.options.zIndex}).translate(this.xAxis.left,this.yAxis.top).add(e.seriesGroup),this.createGroup=D},render:function(){var e=this,t=e.chart,n,r=e.options,i=r.clip!==!1,s=r.animation,o=s&&e.animate,u=o?s&&s.duration||500:0,a=e.clipRect,f=t.renderer;a||(a=e.clipRect=!t.hasRendered&&t.clipRect?t.clipRect:f.clipRect(0,0,t.plotSizeX,t.plotSizeY+1),t.clipRect||(t.clipRect=a)),e.createGroup(),n=e.group,e.drawDataLabels(),o&&e.animate(!0),e.getAttribs(),e.drawGraph&&e.drawGraph(),e.drawPoints(),e.options.enableMouseTracking!==!1&&e.drawTracker(),t.inverted&&e.invertGroups(),i&&!e.hasRendered&&(n.clip(a),e.trackerGroup&&e.trackerGroup.clip(t.clipRect)),o&&e.animate(),setTimeout(function(){a.isAnimating=!1,n=e.group,n&&a!==t.clipRect&&a.renderer&&(i&&n.clip(e.clipRect=t.clipRect),a.destroy())},u),e.isDirty=e.isDirtyData=!1,e.hasRendered=!0},redraw:function(){var e=this,t=e.chart,n=e.isDirtyData,r=e.group;r&&(t.inverted&&r.attr({width:t.plotWidth,height:t.plotHeight}),r.animate({translateX:e.xAxis.left,translateY:e.yAxis.top})),e.translate(),e.setTooltipPoints(!0),e.render(),n&&ln(e,"updatedData")},setState:function(e){var t=this,n=t.options,r=t.graph,i=n.states,s=n.lineWidth;e=e||X;if(t.state!==e){t.state=e;if(i[e]&&i[e].enabled===!1)return;e&&(s=i[e].lineWidth||s+1),r&&!r.dashstyle&&r.attr({"stroke-width":s},e?0:500)}},setVisible:function(t,n){var r=this,i=r.chart,s=r.legendItem,o=r.group,u=r.tracker,a=r.dataLabelsGroup,f,l,c=r.points,h,p=i.options.chart.ignoreHiddenSeries,d=r.visible;r.visible=t=t===e?!d:t,f=t?"show":"hide",o&&o[f]();if(u)u[f]();else if(c){l=c.length;while(l--)h=c[l],h.tracker&&h.tracker[f]()}a&&a[f](),s&&i.legend.colorizeItem(r,t),r.isDirty=!0,r.options.stacking&&nn(i.series,function(e){e.options.stacking&&e.visible&&(e.isDirty=!0)}),p&&(i.isDirtyBox=!0),n!==!1&&i.redraw(),ln(r,f)},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(t){var n=this;n.selected=t=t===e?!n.selected:t,n.checkbox&&(n.checkbox.checked=t),ln(n,t?"select":"unselect")},drawTrackerGroup:function(){var e=this.trackerGroup,t=this.chart;return this.isCartesian&&(e||(this.trackerGroup=e=t.renderer.g().attr({zIndex:this.options.zIndex||1}).add(t.trackerGroup)),e.translate(this.xAxis.left,this.yAxis.top)),e},drawTracker:function(){var e=this,t=e.options,n=t.trackByArea,r=[].concat(n?e.areaPath:e.graphPath),i=r.length,s=e.chart,o=s.renderer,u=s.options.tooltip.snap,a=e.tracker,f=t.cursor,l=f&&{cursor:f},c=e.singlePoints,h=e.drawTrackerGroup(),p,d;if(i&&!n){d=i+1;while(d--)r[d]===U&&r.splice(d+1,0,r[d+1]-u,r[d+2],z),(d&&r[d]===U||d===i)&&r.splice(d,0,z,r[d-2]+u,r[d-1])}for(d=0;d<c.length;d++)p=c[d],r.push(U,p.plotX-u,p.plotY,z,p.plotX+u,p.plotY);a?a.attr({d:r}):e.tracker=o.path(r).attr({isTracker:!0,"stroke-linejoin":"bevel",visibility:e.visible?I:j,stroke:W,fill:n?W:R,"stroke-width":t.lineWidth+(n?0:2*u)}).on(T?"touchstart":"mouseover",function(){s.hoverSeries!==e&&e.onMouseOver()}).on("mouseout",function(){t.stickyTracking||e.onMouseOut()}).css(l).add(h)}};var Rn=Bt(qn);bt.line=Rn,yn.area=un(bn,{threshold:0});var Un=Bt(qn,{type:"area",getSegmentPath:function(e){var t=qn.prototype.getSegmentPath.call(this,e),n=[].concat(t),r,i=this.options,s=t.length,o=this.yAxis.getThreshold(i.threshold);s===3&&n.push(z,t[1],t[2]);if(i.stacking&&this.type!=="areaspline")for(r=e.length-1;r>=0;r--)r<e.length-1&&i.step&&n.push(e[r+1].plotX,e[r].yBottom),n.push(e[r].plotX,e[r].yBottom);else n.push(z,e[e.length-1].plotX,o,z,e[0].plotX,o);return this.areaPath=this.areaPath.concat(n),t},drawGraph:function(){this.areaPath=[],qn.prototype.drawGraph.apply(this);var e=this.areaPath,t=this.options,n=this.area;n?n.animate({d:e}):this.area=this.chart.renderer.path(e).attr({fill:Dt(t.fillColor,xn(this.color).setOpacity(t.fillOpacity||.75).get())}).add(this.group)},drawLegendSymbol:function(e,t){t.legendSymbol=this.chart.renderer.rect(0,e.baseline-11,e.options.symbolWidth,12,2).attr({zIndex:3}).add(t.legendGroup)}});bt.area=Un,yn.spline=un(bn);var zn=Bt(qn,{type:"spline",getPointSpline:function(e,t,n){var r=1.5,i=r+1,s=t.plotX,o=t.plotY,f=e[n-1],l=e[n+1],c,h,p,d,v;if(n&&n<e.length-1){var m=f.plotX,g=f.plotY,y=l.plotX,b=l.plotY,w;c=(r*s+m)/i,h=(r*o+g)/i,p=(r*s+y)/i,d=(r*o+b)/i,w=(d-h)*(p-s)/(p-c)+o-d,h+=w,d+=w,h>g&&h>o?(h=u(g,o),d=2*o-h):h<g&&h<o&&(h=a(g,o),d=2*o-h),d>b&&d>o?(d=u(b,o),h=2*o-d):d<b&&d<o&&(d=a(b,o),h=2*o-d),t.rightContX=p,t.rightContY=d}return n?(v=["C",f.rightContX||f.plotX,f.rightContY||f.plotY,c||s,h||o,s,o],f.rightContX=f.rightContY=null):v=[U,s,o],v}});bt.spline=zn,yn.areaspline=un(yn.area);var Wn=Un.prototype,Xn=Bt(zn,{type:"areaspline",getSegmentPath:Wn.getSegmentPath,drawGraph:Wn.drawGraph});bt.areaspline=Xn,yn.column=un(bn,{borderColor:"#FFFFFF",borderWidth:1,borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:.1,shadow:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{y:null,verticalAlign:null},threshold:0});var Vn=Bt(qn,{type:"column",tooltipOutsidePlot:!0,pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color",r:"borderRadius"},init:function(){qn.prototype.init.apply(this,arguments);var e=this,t=e.chart;t.hasRendered&&nn(t.series,function(t){t.type===e.type&&(t.isDirty=!0)})},translate:function(){var t=this,n=t.chart,r=t.options,i=r.stacking,s=r.borderWidth,l=0,c=t.xAxis,h=c.reversed,p={},d,v;qn.prototype.translate.apply(t),nn(n.series,function(n){n.type===t.type&&n.visible&&t.options.group===n.options.group&&(n.options.stacking?(d=n.stackKey,p[d]===e&&(p[d]=l++),v=p[d]):v=l++,n.columnIndex=v)});var m=t.points,g=f(c.transA)*(c.ordinalSlope||r.pointRange||c.closestPointRange||1),y=g*r.groupPadding,b=g-2*y,w=b/l,E=r.pointWidth,S=Ot(E)?(w-E)/2:w*r.pointPadding,x=Dt(E,w-2*S),T=o(u(x,1+2*s)),N=(h?l-t.columnIndex:t.columnIndex)||0,C=S+(y+N*w-g/2)*(h?-1:1),k=r.threshold,L=t.yAxis.getThreshold(k),A=Dt(r.minPointLength,5);nn(m,function(e){var r=e.plotY,l=Dt(e.yBottom,L),c=e.plotX+C,h=o(a(r,l)),p=o(u(r,l)-h),d=t.yAxis.stacks[(e.y<0?"-":"")+t.stackKey],v;i&&t.visible&&d&&d[e.x]&&d[e.x].setOffset(C,T),f(p)<A&&A&&(p=A,h=f(h-L)>A?l-A:L-(r<=L?A:0)),wt(e,{barX:c,barY:h,barW:T,barH:p,pointWidth:x}),e.shapeType="rect",e.shapeArgs=v=n.renderer.Element.prototype.crisp.call(0,s,c,h,T,p),s%2&&(v.y-=1,v.height+=1),e.trackerArgs=f(p)<3&&un(e.shapeArgs,{height:6,y:h-3})})},getSymbol:function(){},drawLegendSymbol:Un.prototype.drawLegendSymbol,drawGraph:function(){},drawPoints:function(){var t=this,n=t.options,r=t.chart.renderer,i,s;nn(t.points,function(o){var u=o.plotY;u!==e&&!isNaN(u)&&o.y!==null&&(i=o.graphic,s=o.shapeArgs,i?(pn(i),i.animate(un(s))):o.graphic=i=r[o.shapeType](s).attr(o.pointAttr[o.selected?$:X]).add(t.group).shadow(n.shadow,null,n.stacking&&!n.borderRadius))})},drawTracker:function(){var t=this,n=t.chart,r=n.renderer,i,s,o=+(new Date),u=t.options,a=u.cursor,f=a&&{cursor:a},l=t.drawTrackerGroup(),c,h,p;nn(t.points,function(a){s=a.tracker,i=a.trackerArgs||a.shapeArgs,h=a.plotY,p=!t.isCartesian||h!==e&&!isNaN(h),delete i.strokeWidth,a.y!==null&&p&&(s?s.attr(i):a.tracker=r[a.shapeType](i).attr({isTracker:o,fill:W,visibility:t.visible?I:j}).on(T?"touchstart":"mouseover",function(e){c=e.relatedTarget||e.fromElement,n.hoverSeries!==t&&Mt(c,"isTracker")!==o&&t.onMouseOver(),a.onMouseOver()}).on("mouseout",function(e){u.stickyTracking||(c=e.relatedTarget||e.toElement,Mt(c,"isTracker")!==o&&t.onMouseOut())}).css(f).add(a.group||l))})},animate:function(e){var t=this,n=t.points,r=t.options;e||(nn(n,function(e){var n=e.graphic,i=e.shapeArgs,s=t.yAxis,o=r.threshold;n&&(n.attr({height:0,y:Ot(o)?s.getThreshold(o):s.translate(s.getExtremes().min,0,1,0,1)}),n.animate({height:i.height,y:i.y},r.animation))}),t.animate=null)},remove:function(){var e=this,t=e.chart;t.hasRendered&&nn(t.series,function(t){t.type===e.type&&(t.isDirty=!0)}),qn.prototype.remove.apply(e,arguments)}});bt.column=Vn,yn.bar=un(yn.column,{dataLabels:{align:"left",x:5,y:null,verticalAlign:"middle"}});var $n=Bt(Vn,{type:"bar",inverted:!0});bt.bar=$n,yn.scatter=un(bn,{lineWidth:0,states:{hover:{lineWidth:0}},tooltip:{headerFormat:'<span style="font-size: 10px; color:{series.color}">{series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}});var Jn=Bt(qn,{type:"scatter",sorted:!1,translate:function(){var e=this;qn.prototype.translate.apply(e),nn(e.points,function(t){t.shapeType="circle",t.shapeArgs={x:t.plotX,y:t.plotY,r:e.chart.options.tooltip.snap}})},drawTracker:function(){var t=this,n=t.options.cursor,r=n&&{cursor:n},i=t.points,s=i.length,o;while(s--)o=i[s].graphic,o&&(o.element._i=s);t._hasTracking?t._hasTracking=!0:t.group.attr({isTracker:!0}).on(T?"touchstart":"mouseover",function(n){t.onMouseOver(),n.target._i!==e&&i[n.target._i].onMouseOver()}).on("mouseout",function(){t.options.stickyTracking||t.onMouseOut()}).css(r)}});bt.scatter=Jn,yn.pie=un(bn,{borderColor:"#FFFFFF",borderWidth:1,center:["50%","50%"],colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return this.point.name},y:5},legendType:"point",marker:null,size:"75%",showInLegend:!1,slicedOffset:10,states:{hover:{brightness:.1,shadow:!1}}});var Kn=Bt(In,{init:function(){In.prototype.init.apply(this,arguments);var e=this,t;return wt(e,{visible:e.visible!==!1,name:Dt(e.name,"Slice")}),t=function(){e.slice()},an(e,"select",t),an(e,"unselect",t),e},setVisible:function(t){var n=this,r=n.series.chart,i=n.tracker,s=n.dataLabel,o=n.connector,u=n.shadowGroup,a;n.visible=t=t===e?!n.visible:t,a=t?"show":"hide",n.group[a](),i&&i[a](),s&&s[a](),o&&o[a](),u&&u[a](),n.legendItem&&r.legend.colorizeItem(n,t)},slice:function(e,t,n){var r=this,i=r.series,s=i.chart,o=r.slicedTranslation,u;Gt(n,s),t=Dt(t,!0),e=r.sliced=Ot(e)?e:!r.sliced,u={translateX:e?o[0]:s.plotLeft,translateY:e?o[1]:s.plotTop},r.group.animate(u),r.shadowGroup&&r.shadowGroup.animate(u)}}),Qn={type:"pie",isCartesian:!1,pointClass:Kn,pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},getColor:function(){this.initialColor=this.chart.counters.color},animate:function(){var e=this,t=e.points;nn(t,function(t){var n=t.graphic,r=t.shapeArgs,i=-h/2;n&&(n.attr({r:0,start:i,end:i}),n.animate({r:r.r,start:r.start,end:r.end},e.options.animation))}),e.animate=null},setData:function(e,t){qn.prototype.setData.call(this,e,!1),this.processData(),this.generatePoints(),Dt(t,!0)&&this.chart.redraw()},getCenter:function(){var e=this.options,t=this.chart,n=t.plotWidth,r=t.plotHeight,i=e.center.concat([e.size,e.innerSize||0]),s=a(n,r),o;return on(i,function(e,t){return o=/%$/.test(e),o?[n,r,s,s][t]*St(e)/100:e})},translate:function(){this.generatePoints();var e=0,t=this,n=-0.25,s=1e3,o=t.options,u=o.slicedOffset,a=u+o.borderWidth,f,p=t.chart,d,v,m,g=t.points,y=2*h,b,w,E,S=o.dataLabels.distance;t.center=f=t.getCenter(),t.getX=function(e,t){return m=r.asin((e-f[1])/(f[2]/2+S)),f[0]+(t?-1:1)*l(m)*(f[2]/2+S)},nn(g,function(t){e+=t.y}),nn(g,function(t){b=e?t.y/e:0,d=i(n*y*s)/s,n+=b,v=i(n*y*s)/s,t.shapeType="arc",t.shapeArgs={x:f[0],y:f[1],r:f[2]/2,innerR:f[3]/2,start:d,end:v},m=(v+d)/2,t.slicedTranslation=on([l(m)*u+p.plotLeft,c(m)*u+p.plotTop],i),w=l(m)*f[2]/2,E=c(m)*f[2]/2,t.tooltipPos=[f[0]+w*.7,f[1]+E*.7],t.labelPos=[f[0]+w+l(m)*S,f[1]+E+c(m)*S,f[0]+w+l(m)*a,f[1]+E+c(m)*a,f[0]+w,f[1]+E,S<0?"center":m<y/4?"left":"right",m],t.percentage=b*100,t.total=e}),this.setTooltipPoints()},render:function(){var e=this;e.getAttribs(),this.drawPoints(),e.options.enableMouseTracking!==!1&&e.drawTracker(),this.drawDataLabels(),e.options.animation&&e.animate&&e.animate(),e.isDirty=!1},drawPoints:function(){var e=this,t=e.chart,n=t.renderer,r,i,s,o=e.options.shadow,u,a;nn(e.points,function(f){i=f.graphic,a=f.shapeArgs,s=f.group,u=f.shadowGroup,o&&!u&&(u=f.shadowGroup=n.g("shadow").attr({zIndex:4}).add()),s||(s=f.group=n.g("point").attr({zIndex:5}).add()),r=f.sliced?f.slicedTranslation:[t.plotLeft,t.plotTop],s.translate(r[0],r[1]),u&&u.translate(r[0],r[1]),i?i.animate(a):f.graphic=i=n.arc(a).setRadialReference(e.center).attr(wt(f.pointAttr[X],{"stroke-linejoin":"round"})).add(f.group).shadow(o,u),f.visible===!1&&f.setVisible(!1)})},drawDataLabels:function(){var e=this,t=e.data,n,r=e.chart,i=e.options.dataLabels,s=Dt(i.connectorPadding,10),o=Dt(i.connectorWidth,1),u,a,l=Dt(i.softConnector,!0),c=i.distance,p=e.center,d=p[2]/2,v=p[1],m=c>0,g,y,b,w=[[],[]],E,S,x,T,N,C=2,k;if(!i.enabled)return;qn.prototype.drawDataLabels.apply(e),nn(t,function(e){e.dataLabel&&w[e.labelPos[7]<h/2?0:1].push(e)}),w[1].reverse(),N=function(e,t){return t.y-e.y},b=w[0][0]&&w[0][0].dataLabel&&(w[0][0].dataLabel.getBBox().height||21);while(C--){var L=[],A,O=[],M=w[C],_,D=M.length,P;if(c>0){for(_=v-d-c;_<=v+d+c;_+=b)L.push(_);A=L.length;if(D>A){T=[].concat(M),T.sort(N),k=D;while(k--)T[k].rank=k;k=D;while(k--)M[k].rank>=A&&M.splice(k,1);D=M.length}for(k=0;k<D;k++){n=M[k],y=n.labelPos;var H=9999,B,F;for(F=0;F<A;F++)B=f(L[F]-y[1]),B<H&&(H=B,P=F);if(P<k&&L[k]!==null)P=k;else if(A<D-k+P&&L[k]!==null){P=A-D+k;while(L[P]===null)P++}else while(L[P]===null)P++;O.push({i:P,y:L[P]}),L[P]=null}O.sort(N)}for(k=0;k<D;k++){var q,R;n=M[k],y=n.labelPos,g=n.dataLabel,x=n.visible===!1?j:I,R=y[1];if(c>0){q=O.pop(),P=q.i,S=q.y;if(R>S&&L[P+1]!==null||R<S&&L[P-1]!==null)S=R}else S=R;E=i.justify?p[0]+(C?-1:1)*(d+c):e.getX(P===0||P===L.length-1?R:S,C),g.attr({visibility:x,align:y[6]})[g.moved?"animate":"attr"]({x:E+i.x+({left:s,right:-s}[y[6]]||0),y:S+i.y}),g.moved=!0,m&&o&&(u=n.connector,a=l?[U,E+(y[6]==="left"?5:-5),S,"C",E,S,2*y[2]-y[4],2*y[3]-y[5],y[2],y[3],z,y[4],y[5]]:[U,E+(y[6]==="left"?5:-5),S,z,y[2],y[3],z,y[4],y[5]],u?(u.animate({d:a}),u.attr("visibility",x)):n.connector=u=e.chart.renderer.path(a).attr({"stroke-width":o,stroke:i.connectorColor||n.color||"#606060",visibility:x,zIndex:3}).translate(r.plotLeft,r.plotTop).add())}}},drawTracker:Vn.prototype.drawTracker,drawLegendSymbol:Un.prototype.drawLegendSymbol,getSymbol:function(){}};Qn=Bt(qn,Qn),bt.pie=Qn;var Gn="dataGrouping",Yn=qn.prototype,Zn=Yn.processData,er=Yn.generatePoints,tr=Yn.destroy,nr=Yn.tooltipHeaderFormatter,rr="number",ir={approximation:"average",groupPixelWidth:2,dateTimeLabelFormats:Et(J,["%A, %b %e, %H:%M:%S.%L","%A, %b %e, %H:%M:%S.%L","-%H:%M:%S.%L"],K,["%A, %b %e, %H:%M:%S","%A, %b %e, %H:%M:%S","-%H:%M:%S"],Q,["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],G,["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],Y,["%A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],Z,["Week from %A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],et,["%B %Y","%B","-%B %Y"],tt,["%Y","%Y","-%Y"])},sr=[[J,[1,2,5,10,20,25,50,100,200,500]],[K,[1,2,5,10,15,30]],[Q,[1,2,5,10,15,30]],[G,[1,2,3,4,6,8,12]],[Y,[1]],[Z,[1]],[et,[1,3,6]],[tt,null]],or={sum:function(e){var t=e.length,n;if(!t&&e.hasNulls)n=null;else if(t){n=0;while(t--)n+=e[t]}return n},average:function(e){var t=e.length,n=or.sum(e);return typeof n===rr&&t&&(n/=t),n},open:function(t){return t.length?t[0]:t.hasNulls?null:e},high:function(t){return t.length?Vt(t):t.hasNulls?null:e},low:function(t){return t.length?Xt(t):t.hasNulls?null:e},close:function(t){return t.length?t[t.length-1]:t.hasNulls?null:e},ohlc:function(e,t,n,r){e=or.open(e),t=or.high(t),n=or.low(n),r=or.close(r);if(typeof e===rr||typeof t===rr||typeof n===rr||typeof r===rr)return[e,t,n,r]}};Yn.groupData=function(t,n,r,i){var s=this,o=s.data,u=s.options.data,a=[],f=[],l=t.length,c,h,p,d=!!n,v=[],m=[],g=[],y=[],b=typeof i=="function"?i:or[i],w;for(w=0;w<=l;w++){while(r[1]!==e&&t[w]>=r[1]||w===l){c=r.shift(),p=b(v,m,g,y),p!==e&&(a.push(c),f.push(p)),v=[],m=[],g=[],y=[];if(w===l)break}if(w===l)break;h=d?n[w]:null;if(i==="ohlc"){var E=s.cropStart+w,S=o&&o[E]||s.pointClass.prototype.applyOptions.apply({},[u[E]]),x=S.open,T=S.high,N=S.low,C=S.close;typeof x===rr?v.push(x):x===null&&(v.hasNulls=!0),typeof T===rr?m.push(T):T===null&&(m.hasNulls=!0),typeof N===rr?g.push(N):N===null&&(g.hasNulls=!0),typeof C===rr?y.push(C):C===null&&(y.hasNulls=!0)}else typeof h===rr?v.push(h):h===null&&(v.hasNulls=!0)}return[a,f]},Yn.processData=function(){var e=this,t=e.options,n=t[Gn],r=n&&n.enabled,i;e.forceCrop=r;if(Zn.apply(e,arguments)===!1||!r)return;e.destroyGroupedData();var s,o=e.chart,a=e.processedXData,f=e.processedYData,l=o.plotSizeX,c=e.xAxis,h=Dt(c.groupPixelWidth,n.groupPixelWidth),p=a.length,d=o.series,v=e.pointRange;if(!c.groupPixelWidth){s=d.length;while(s--)d[s].xAxis===c&&d[s].options[Gn]&&(h=u(h,d[s].options[Gn].groupPixelWidth));c.groupPixelWidth=h}if(p>l/h||p&&n.forced){i=!0,e.points=null;var m=c.getExtremes(),g=m.min,y=m.max,b=c.getGroupIntervalFactor&&c.getGroupIntervalFactor(g,y,a)||1,w=h*(y-g)/l*b,E=(c.getNonLinearTimeTicks||Ut)(Rt(w,n.units||sr),g,y,null,a,e.closestPointRange),S=Yn.groupData.apply(e,[a,f,E,n.approximation]),x=S[0],T=S[1];if(n.smoothed){s=x.length-1,x[s]=y;while(s--&&s>0)x[s]+=w/2;x[0]=g}e.currentDataGrouping=E.info,t.pointRange===null&&(e.pointRange=E.info.totalRange),e.closestPointRange=E.info.totalRange,e.processedXData=x,e.processedYData=T}else e.currentDataGrouping=null,e.pointRange=v;e.hasGroupedData=i},Yn.destroyGroupedData=function(){var e=this.groupedData;nn(e||[],function(t,n){t&&(e[n]=t.destroy?t.destroy():null)}),this.groupedData=null},Yn.generatePoints=function(){er.apply(this),this.destroyGroupedData(),this.groupedData=this.hasGroupedData?this.points:null},Yn.tooltipHeaderFormatter=function(
e){var t=this,n=t.options,r=t.tooltipOptions,i=n.dataGrouping,s=r.xDateFormat,o,u=t.xAxis,a,f,l,c,h,p;if(u&&u.options.type==="datetime"&&i){a=t.currentDataGrouping,f=i.dateTimeLabelFormats;if(a)l=f[a.unitName],a.count===1?s=l[0]:(s=l[1],o=l[2]);else if(!s)for(h in _)if(_[h]>=u.closestPointRange){s=f[h][0];break}c=A(s,e),o&&(c+=A(o,e+a.totalRange-1)),p=r.headerFormat.replace("{point.key}",c)}else p=nr.apply(t,[e]);return p},Yn.destroy=function(){var e=this,t=e.groupedData||[],n=t.length;while(n--)t[n]&&t[n].destroy();tr.apply(e)},yn.line[Gn]=yn.spline[Gn]=yn.area[Gn]=yn.areaspline[Gn]=ir,yn.column[Gn]=un(ir,{approximation:"sum",groupPixelWidth:10}),yn.ohlc=un(yn.column,{lineWidth:1,dataGrouping:{approximation:"ohlc",enabled:!0,groupPixelWidth:5},tooltip:{pointFormat:'<span style="color:{series.color};font-weight:bold">{series.name}</span><br/>Open: {point.open}<br/>High: {point.high}<br/>Low: {point.low}<br/>Close: {point.close}<br/>'},states:{hover:{lineWidth:3}},threshold:null});var ur=Bt(In,{applyOptions:function(t){var n=this,r=n.series,i=0;return typeof t=="object"&&typeof t.length!="number"?(wt(n,t),n.options=t):t.length&&(t.length===5&&(typeof t[0]=="string"?n.name=t[0]:typeof t[0]=="number"&&(n.x=t[0]),i++),n.open=t[i++],n.high=t[i++],n.low=t[i++],n.close=t[i++]),n.y=n.high,n.x===e&&r&&(n.x=r.autoIncrement()),n},tooltipFormatter:function(){var e=this,t=e.series;return['<span style="color:'+t.color+';font-weight:bold">',e.name||t.name,"</span><br/>","Open: ",e.open,"<br/>","High: ",e.high,"<br/>","Low: ",e.low,"<br/>","Close: ",e.close,"<br/>"].join("")},toYData:function(){return[this.open,this.high,this.low,this.close]}}),ar=Bt(bt.column,{type:"ohlc",valueCount:4,pointClass:ur,pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"},translate:function(){var e=this,t=e.yAxis;bt.column.prototype.translate.apply(e),nn(e.points,function(e){e.open!==null&&(e.plotOpen=t.translate(e.open,0,1,0,1)),e.close!==null&&(e.plotClose=t.translate(e.close,0,1,0,1))})},drawPoints:function(){var t=this,n=t.points,r=t.chart,s,o,u,a,f,l,c,h;nn(n,function(n){n.plotY!==e&&(c=n.graphic,s=n.pointAttr[n.selected?"selected":""],a=s["stroke-width"]%2/2,h=i(n.plotX)+a,f=i(n.barW/2),l=["M",h,i(n.yBottom),"L",h,i(n.plotY)],n.open!==null&&(o=i(n.plotOpen)+a,l.push("M",h,o,"L",h-f,o)),n.close!==null&&(u=i(n.plotClose)+a,l.push("M",h,u,"L",h+f,u)),c?c.animate({d:l}):n.graphic=r.renderer.path(l).attr(s).add(t.group))})},animate:null});bt.ohlc=ar,yn.candlestick=un(yn.column,{dataGrouping:{approximation:"ohlc",enabled:!0},lineColor:"black",lineWidth:1,states:{hover:{lineWidth:2}},tooltip:yn.ohlc.tooltip,threshold:null,upColor:"white"});var fr=Bt(ar,{type:"candlestick",pointAttrToOptions:{fill:"color",stroke:"lineColor","stroke-width":"lineWidth"},getAttribs:function(){ar.prototype.getAttribs.apply(this,arguments);var e=this,t=e.options,n=t.states,r=t.upColor,i=un(e.pointAttr);i[""].fill=r,i.hover.fill=n.hover.upColor||r,i.select.fill=n.select.upColor||r,nn(e.points,function(e){e.open<e.close&&(e.pointAttr=i)})},drawPoints:function(){var t=this,n=t.points,s=t.chart,o,u,a,f,l,c,h,p,d,v;nn(n,function(n){p=n.graphic,n.plotY!==e&&(o=n.pointAttr[n.selected?"selected":""],c=o["stroke-width"]%2/2,h=i(n.plotX)+c,u=i(n.plotOpen)+c,a=i(n.plotClose)+c,f=r.min(u,a),l=r.max(u,a),v=i(n.barW/2),d=["M",h-v,l,"L",h-v,f,"L",h+v,f,"L",h+v,l,"L",h-v,l,"M",h,l,"L",h,i(n.yBottom),"M",h,f,"L",h,i(n.plotY),"Z"],p?p.animate({d:d}):n.graphic=s.renderer.path(d).attr(o).add(t.group))})}});bt.candlestick=fr;var lr=Nn.prototype.symbols;yn.flags=un(yn.column,{dataGrouping:null,fillColor:"white",lineWidth:1,pointRange:0,shape:"flag",stackDistance:7,states:{hover:{lineColor:"black",fillColor:"#FCFFC5"}},style:{fontSize:"11px",fontWeight:"bold",textAlign:"center"},threshold:null,y:-30}),bt.flags=Bt(bt.column,{type:"flags",sorted:!1,noSharedTooltip:!0,forceCrop:!0,init:qn.prototype.init,pointAttrToOptions:{fill:"fillColor",stroke:"color","stroke-width":"lineWidth",r:"radius"},translate:function(){bt.column.prototype.translate.apply(this);var t=this,n=t.options,r=t.chart,i=t.points,s=i.length-1,o,u,a=n.onSeries,f=a&&r.get(a),l=f&&f.options.step,c=f&&f.points,h=c&&c.length,p=t.xAxis.getExtremes(),d,v,m;if(f&&f.visible&&h){v=c[h-1].x,i.sort(function(e,t){return e.x-t.x});while(h--&&i[s]){o=i[s],d=c[h];if(d.x<=o.x&&d.plotY!==e){o.x<=v&&(o.plotY=d.plotY,d.x<o.x&&!l&&(m=c[h+1],m&&m.plotY!==e&&(o.plotY+=(o.x-d.x)/(m.x-d.x)*(m.plotY-d.plotY)))),s--,h++;if(s<0)break}}}nn(i,function(t,n){t.plotY===e&&(t.x>=p.min&&t.x<=p.max?t.plotY=r.plotHeight:t.shapeArgs={}),u=i[n-1],u&&u.plotX===t.plotX&&(u.stackIndex===e&&(u.stackIndex=0),t.stackIndex=u.stackIndex+1)})},drawPoints:function(){var t=this,n,r=t.points,i=t.chart,s=i.renderer,o,u,a=t.options,f=a.y,l=a.shape,c,h,p,d,v,m,g,y=a.lineWidth%2/2,b,w;p=r.length;while(p--)d=r[p],o=d.plotX+y,g=d.stackIndex,u=d.plotY,u!==e&&(u=d.plotY+f+y-(g!==e&&g*a.stackDistance)),b=g?e:d.plotX+y,w=g?e:d.plotY,v=d.graphic,m=d.tracker,u!==e?(n=d.pointAttr[d.selected?"select":""],v?v.attr({x:o,y:u,r:n.r,anchorX:b,anchorY:w}):v=d.graphic=s.label(d.options.title||a.title||"A",o,u,l,b,w).css(un(a.style,d.style)).attr(n).attr({align:l==="flag"?"left":"center",width:a.width,height:a.height}).add(t.group).shadow(a.shadow),c=v.box,h=c.getBBox(),d.shapeArgs=wt(h,{x:o-(l==="flag"?0:c.attr("width")/2),y:u})):v&&(d.graphic=v.destroy(),m&&m.attr("y",-9999))},drawTracker:function(){var e=this;bt.column.prototype.drawTracker.apply(e),nn(e.points,function(e){an(e.tracker.element,"mouseover",function(){e.graphic.toFront()})})},tooltipFormatter:function(e){return e.point.text},animate:function(){}}),lr.flag=function(e,t,n,r,i){var s=i&&i.anchorX||e,o=i&&i.anchorY||t;return["M",s,o,"L",e,t+r,e,t,e+n,t,e+n,t+r,e,t+r,"M",s,o,"Z"]},nn(["circle","square"],function(e){lr[e+"pin"]=function(t,n,r,i,s){var o=s&&s.anchorX,u=s&&s.anchorY,a=lr[e](t,n,r,i);return o&&u&&a.push("M",o,n+i,"L",o,u),a}}),x===Cn&&nn(["flag","circlepin","squarepin"],function(e){Cn.prototype.symbols[e]=lr[e]});var cr=T?"touchstart":"mousedown",hr=T?"touchmove":"mousemove",pr=T?"touchend":"mouseup",dr=Et(rt,{x1:0,y1:0,x2:0,y2:1},it,[[0,"#FFF"],[1,"#CCC"]]),vr=[].concat(sr);vr[4]=[Y,[1,2,3,4]],vr[5]=[Z,[1,2,3]],wt(L,{navigator:{handles:{backgroundColor:"#FFF",borderColor:"#666"},height:40,margin:10,maskFill:"rgba(255, 255, 255, 0.75)",outlineColor:"#444",outlineWidth:1,series:{type:"areaspline",color:"#4572A7",compare:null,fillOpacity:.4,dataGrouping:{approximation:"average",groupPixelWidth:2,smoothed:!0,units:vr},dataLabels:{enabled:!1},id:F+"navigator-series",lineColor:"#4572A7",lineWidth:1,marker:{enabled:!1},pointRange:0,shadow:!1},xAxis:{tickWidth:0,lineWidth:0,gridLineWidth:1,tickPixelInterval:200,labels:{align:"left",x:3,y:-4}},yAxis:{gridLineWidth:0,startOnTick:!1,endOnTick:!1,minPadding:.1,maxPadding:.1,labels:{enabled:!1},title:{text:null},tickWidth:0}},scrollbar:{height:T?20:14,barBackgroundColor:dr,barBorderRadius:2,barBorderWidth:1,barBorderColor:"#666",buttonArrowColor:"#666",buttonBackgroundColor:dr,buttonBorderColor:"#666",buttonBorderRadius:2,buttonBorderWidth:1,rifleColor:"#666",trackBackgroundColor:Et(rt,{x1:0,y1:0,x2:0,y2:1},it,[[0,"#EEE"],[1,"#FFF"]]),trackBorderColor:"#CCC",trackBorderWidth:1}}),mr.prototype={getAxisTop:function(e){return this.navigatorOptions.top||e-this.height-this.scrollbarHeight-this.chart.options.chart.spacingBottom},drawHandle:function(e,t){var n=this,r=n.chart,i=r.renderer,s=n.elementsToDestroy,o=n.handles,u=n.navigatorOptions.handles,a={fill:u.backgroundColor,stroke:u.borderColor,"stroke-width":1},f;n.rendered||(o[t]=i.g().css({cursor:"e-resize"}).attr({zIndex:4-t}).add(),f=i.rect(-4.5,0,9,16,3,1).attr(a).add(o[t]),s.push(f),f=i.path(["M",-1.5,4,"L",-1.5,12,"M",.5,4,"L",.5,12]).attr(a).add(o[t]),s.push(f)),o[t].translate(n.scrollerLeft+n.scrollbarHeight+parseInt(e,10),n.top+n.height/2-8)},drawScrollbarButton:function(e){var t=this,n=t.chart,r=n.renderer,i=t.elementsToDestroy,s=t.scrollbarButtons,o=t.scrollbarHeight,u=t.scrollbarOptions,a;t.rendered||(s[e]=r.g().add(t.scrollbarGroup),a=r.rect(-0.5,-0.5,o+1,o+1,u.buttonBorderRadius,u.buttonBorderWidth).attr({stroke:u.buttonBorderColor,"stroke-width":u.buttonBorderWidth,fill:u.buttonBackgroundColor}).add(s[e]),i.push(a),a=r.path(["M",o/2+(e?-1:1),o/2-3,"L",o/2+(e?-1:1),o/2+3,o/2+(e?2:-2),o/2]).attr({fill:u.buttonArrowColor}).add(s[e]),i.push(a)),e&&s[e].attr({translateX:t.scrollerWidth-o})},render:function(e,t,n,r){var s=this,o=s.chart,f=o.renderer,l,c,h,p,d=s.scrollbarGroup,v=s.scrollbar,m=s.xAxis,g=s.scrollbarTrack,y=s.scrollbarHeight,b=s.scrollbarEnabled,w=s.navigatorOptions,E=s.scrollbarOptions,S=s.height,x=s.top,T=s.navigatorEnabled,N=w.outlineWidth,C=N/2,k,L,A,O=s.outlineHeight,M=E.barBorderRadius,_,D=E.barBorderWidth,P,H=x+C;if(isNaN(e))return;s.navigatorLeft=l=Dt(m.left,o.plotLeft+y),s.navigatorWidth=c=Dt(m.len,o.plotWidth-2*y),s.scrollerLeft=h=l-y,s.scrollerWidth=p=p=c+2*y;if(m.getExtremes){var B=o.xAxis[0].getExtremes(),F=B.dataMin===null,q=m.getExtremes(),R=a(B.dataMin,q.dataMin),W=u(B.dataMax,q.dataMax);!F&&(R!==q.min||W!==q.max)&&m.setExtremes(R,W,!0,!1)}n=Dt(n,m.translate(e)),r=Dt(r,m.translate(t)),s.zoomedMin=k=St(a(n,r)),s.zoomedMax=L=St(u(n,r)),s.range=A=L-k,s.rendered||(T&&(s.leftShade=f.rect().attr({fill:w.maskFill,zIndex:3}).add(),s.rightShade=f.rect().attr({fill:w.maskFill,zIndex:3}).add(),s.outline=f.path().attr({"stroke-width":N,stroke:w.outlineColor,zIndex:3}).add()),b&&(s.scrollbarGroup=d=f.g().add(),_=E.trackBorderWidth,s.scrollbarTrack=g=f.rect().attr({y:-_%2/2,fill:E.trackBackgroundColor,stroke:E.trackBorderColor,"stroke-width":_,r:E.trackBorderRadius||0,height:y}).add(d),s.scrollbar=v=f.rect().attr({y:-D%2/2,height:y,fill:E.barBackgroundColor,stroke:E.barBorderColor,"stroke-width":D,r:M}).add(d),s.scrollbarRifles=f.path().attr({stroke:E.rifleColor,"stroke-width":1}).add(d))),T&&(s.leftShade.attr({x:l,y:x,width:k,height:S}),s.rightShade.attr({x:l+L,y:x,width:c-L,height:S}),s.outline.attr({d:[U,h,H,z,l+k+C,H,l+k+C,H+O-y,U,l+L-C,H+O-y,z,l+L-C,H,h+p,H]}),s.drawHandle(k+C,0),s.drawHandle(L+C,1)),b&&(s.drawScrollbarButton(0),s.drawScrollbarButton(1),d.translate(h,i(H+S)),g.attr({width:p}),v.attr({x:i(y+k)+D%2/2,width:A-D}),P=y+k+A/2-.5,s.scrollbarRifles.attr({d:[U,P-3,y/4,z,P-3,2*y/3,U,P,y/4,z,P,2*y/3,U,P+3,y/4,z,P+3,2*y/3],visibility:A>12?I:j})),s.rendered=!0},addEvents:function(){var e=this,t=e.chart;an(t.container,cr,e.mouseDownHandler),an(t.container,hr,e.mouseMoveHandler),an(document,pr,e.mouseUpHandler)},removeEvents:function(){var e=this,t=e.chart;fn(t.container,cr,e.mouseDownHandler),fn(t.container,hr,e.mouseMoveHandler),fn(document,pr,e.mouseUpHandler),e.navigatorEnabled&&fn(e.baseSeries,"updatedData",e.updatedDataHandler)},init:function(){var e=this,t=e.chart,n,i,s=e.scrollbarHeight,o=e.navigatorOptions,f=e.height,l=e.top,c,h,p,d=document.body.style,v,m=e.baseSeries,g;e.mouseDownHandler=function(i){i=t.tracker.normalizeMouseEvent(i);var s=e.zoomedMin,o=e.zoomedMax,u=e.top,l=e.scrollbarHeight,c=e.scrollerLeft,p=e.scrollerWidth,m=e.navigatorLeft,g=e.navigatorWidth,y=e.range,b=i.chartX,w=i.chartY,E=T?10:7,S,x;w>u&&w<u+f+l&&(x=!e.scrollbarEnabled||w<u+f,x&&r.abs(b-s-m)<E?(e.grabbedLeft=!0,e.otherHandlePos=o):x&&r.abs(b-o-m)<E?(e.grabbedRight=!0,e.otherHandlePos=s):b>m+s&&b<m+o?(e.grabbedCenter=b,v=d.cursor,d.cursor="ew-resize",h=b-s):b>c&&b<c+p&&(x?S=b-m-y/2:b<m?S=s-a(10,y):b>c+p-l?S=s+a(10,y):S=b<m+s?s-y:o,S<0?S=0:S+y>g&&(S=g-y),S!==s&&t.xAxis[0].setExtremes(n.translate(S,!0),n.translate(S+y,!0),!0,!1)))},e.mouseMoveHandler=function(n){var r=e.scrollbarHeight,i=e.navigatorLeft,s=e.navigatorWidth,o=e.scrollerLeft,u=e.scrollerWidth,a=e.range;n=t.tracker.normalizeMouseEvent(n);var f=n.chartX;f<i?f=i:f>o+u-r&&(f=o+u-r),e.grabbedLeft?(p=!0,e.render(0,0,f-i,e.otherHandlePos)):e.grabbedRight?(p=!0,e.render(0,0,e.otherHandlePos,f-i)):e.grabbedCenter&&(p=!0,f<h?f=h:f>s+h-a&&(f=s+h-a),e.render(0,0,f-h,f-h+a))},e.mouseUpHandler=function(){var r=e.zoomedMin,i=e.zoomedMax;p&&t.xAxis[0].setExtremes(n.translate(r,!0),n.translate(i,!0),!0,!1),e.grabbedLeft=e.grabbedRight=e.grabbedCenter=p=h=null,d.cursor=v},e.updatedDataHandler=function(){var n=m.xAxis,r=n.getExtremes(),i=r.min,s=r.max,o=r.dataMin,f=r.dataMax,l=s-i,h,p,d,v,y,b=c.xData,w=!!n.setExtremes;p=s>=b[b.length-1],h=i<=o,g||(c.options.pointStart=m.xData[0],c.setData(m.options.data,!1),y=!0),h&&(v=o,d=v+l),p&&(d=f,h||(v=u(d-l,c.xData[0]))),w&&(h||p)?n.setExtremes(v,d,!0,!1):(y&&t.redraw(!1),e.render(u(i,o),a(s,f)))};var y=t.xAxis.length,b=t.yAxis.length,w=t.setSize;t.extraBottomMargin=e.outlineHeight+o.margin,e.top=l=e.getAxisTop(t.chartHeight);if(e.navigatorEnabled){var E=m.options,S,x=E.data,N=o.series;g=N.data,E.data=N.data=null,e.xAxis=n=new Pn(t,un({ordinal:m.xAxis.options.ordinal},o.xAxis,{isX:!0,type:"datetime",index:y,height:f,top:l,offset:0,offsetLeft:s,offsetRight:-s,startOnTick:!1,endOnTick:!1,minPadding:0,maxPadding:0,zoomEnabled:!1})),e.yAxis=i=new Pn(t,un(o.yAxis,{alignTicks:!1,height:f,top:l,offset:0,index:b,zoomEnabled:!1})),S=un(m.options,N,{threshold:null,clip:!1,enableMouseTracking:!1,group:"nav",padXAxis:!1,xAxis:y,yAxis:b,name:"Navigator",showInLegend:!1,isInternal:!0,visible:!0}),E.data=x,N.data=g,S.data=g||x,c=t.initSeries(S),an(m,"updatedData",e.updatedDataHandler)}else e.xAxis=n={translate:function(e,n){var r=t.xAxis[0].getExtremes(),i=t.plotWidth-2*s,o=r.dataMin,u=r.dataMax-o;return n?e*u/i+o:i*(e-o)/u}};e.series=c,t.setSize=function(r,s,o){e.top=l=e.getAxisTop(s),n&&i&&(n.options.top=i.options.top=l),w.call(t,r,s,o)},e.addEvents()},destroy:function(){var e=this;e.removeEvents(),nn([e.xAxis,e.yAxis,e.leftShade,e.rightShade,e.outline,e.scrollbarTrack,e.scrollbarRifles,e.scrollbarGroup,e.scrollbar],function(e){e&&e.destroy&&e.destroy()}),e.xAxis=e.yAxis=e.leftShade=e.rightShade=e.outline=e.scrollbarTrack=e.scrollbarRifles=e.scrollbarGroup=e.scrollbar=null,nn([e.scrollbarButtons,e.handles,e.elementsToDestroy],function(e){$t(e)})}},Highcharts.Scroller=mr,wt(L,{rangeSelector:{buttonTheme:{width:28,height:16,padding:1,r:0,zIndex:7}}}),L.lang=un(L.lang,{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"From:",rangeSelectorTo:"To:"}),gr.prototype={clickButton:function(e,t,n){var r=this,i=r.chart,s=r.buttons,o=i.xAxis[0],f=o&&o.getExtremes(),l=i.scroller&&i.scroller.xAxis,c=l&&l.getExtremes&&l.getExtremes(),h=c&&c.dataMin,p=c&&c.dataMax,d=f&&f.dataMin,v=f&&f.dataMax,m=a(d,Dt(h,d)),g=u(v,Dt(p,v)),y,b=o&&a(f.max,g),w,E=new Date(b),S=t.type,x=t.count,T,N,C,k,L={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5};if(m===null||g===null||e===r.selected)return;L[S]?(N=L[S]*x,y=u(b-N,m)):S==="month"?(E.setMonth(E.getMonth()-x),y=u(E.getTime(),m),N=2592e6*x):S==="ytd"?(E=new Date(0),w=new Date(g),k=w.getFullYear(),E.setFullYear(k),String(k)!==A("%Y",E)&&E.setFullYear(k-1),y=C=u(m||0,E.getTime()),w=w.getTime(),b=a(g||w,w)):S==="year"?(E.setFullYear(E.getFullYear()-x),y=u(m,E.getTime()),N=31536e6*x):S==="all"&&o&&(y=m,b=g),s[e]&&s[e].setState(2),o?setTimeout(function(){o.setExtremes(y,b,Dt(n,1),0,{rangeSelectorButton:t}),r.selected=e},1):(T=i.options.xAxis,T[0]=un(T[0],{range:N,min:C}),r.selected=e)},init:function(t){var n=this,r=n.chart,i=r.options.rangeSelector,s=i.buttons||t,o=n.buttons,u=n.leftBox,a=n.rightBox,f=i.selected;r.extraTopMargin=25,n.buttonOptions=s,n.mouseDownHandler=function(){u&&u.blur(),a&&a.blur()},an(r.container,cr,n.mouseDownHandler),f!==e&&s[f]&&this.clickButton(f,s[f],!1),an(r,"load",function(){an(r.xAxis[0],"afterSetExtremes",function(){o[n.selected]&&!r.renderer.forExport&&o[n.selected].setState(0),n.selected=null})})},setInputValue:function(e,t){var n=this,r=n.chart,i=r.options.rangeSelector,s=e.hasFocus?i.inputEditDateFormat||"%Y-%m-%d":i.inputDateFormat||"%b %e, %Y";t&&(e.HCTime=t),e.value=A(s,e.HCTime)},drawInput:function(e){var t=this,n=t.chart,r=n.options.rangeSelector,i=t.boxSpanElements,s=L.lang,o=t.div,u=e==="min",a;return i[e]=Ht("span",{innerHTML:s[u?"rangeSelectorFrom":"rangeSelectorTo"]},r.labelStyle,o),a=Ht("input",{name:e,className:F+"range-selector",type:"text"},wt({width:"80px",height:"16px",border:"1px solid silver",marginLeft:"5px",marginRight:u?"5px":"0",textAlign:"center"},r.inputStyle),o),a.onfocus=a.onblur=function(e){e=e||window.event||{},a.hasFocus=e.type==="focus",t.setInputValue(a)},a.onchange=function(){var e=a.value,r=Date.parse(e),i=n.xAxis[0].getExtremes();isNaN(r)&&(r=e.split("-"),r=Date.UTC(St(r[0]),St(r[1])-1,St(r[2]))),!isNaN(r)&&(u&&r>=i.dataMin&&r<=t.rightBox.HCTime||!u&&r<=i.dataMax&&r>=t.leftBox.HCTime)&&n.xAxis[0].setExtremes(u?r:i.min,u?i.max:r)},a},render:function(e,t){var n=this,r=n.chart,i=r.renderer,s=r.container,o=r.options.rangeSelector,u=n.buttons,a=L.lang,f=n.div,l=r.options.chart.style,c=o.buttonTheme,h=o.inputEnabled!==!1,p=c&&c.states,d=r.plotLeft,v;n.rendered||(n.zoomText=i.text(a.rangeSelectorZoom,d,r.plotTop-10).css(o.labelStyle).add(),v=d+n.zoomText.getBBox().width+5,nn(n.buttonOptions,function(e,t){u[t]=i.button(e.text,v,r.plotTop-25,function(){n.clickButton(t,e),n.isActive=!0},c,p&&p.hover,p&&p.select).css({textAlign:"center"}).add(),v+=u[t].width+(o.buttonSpacing||0),n.selected===t&&u[t].setState(2)}),h&&(n.divRelative=f=Ht("div",null,{position:"relative",height:0,fontFamily:l.fontFamily,fontSize:l.fontSize,zIndex:1}),s.parentNode.insertBefore(f,s),n.divAbsolute=n.div=f=Ht("div",null,wt({position:"absolute",top:r.plotTop-25+"px",right:r.chartWidth-r.plotLeft-r.plotWidth+"px"},o.inputBoxStyle),f),n.leftBox=n.drawInput("min"),n.rightBox=n.drawInput("max"))),h&&(n.setInputValue(n.leftBox,e),n.setInputValue(n.rightBox,t)),n.rendered=!0},destroy:function(){var e=this,t=e.leftBox,n=e.rightBox,r=e.boxSpanElements,i=e.divRelative,s=e.divAbsolute,o=e.zoomText;fn(e.chart.container,cr,e.mouseDownHandler),nn([e.buttons],function(e){$t(e)}),o&&(e.zoomText=o.destroy()),t&&(t.onfocus=t.onblur=t.onchange=null),n&&(n.onfocus=n.onblur=n.onchange=null),nn([t,n,r.min,r.max,s,i],function(e){Jt(e)}),e.leftBox=e.rightBox=e.boxSpanElements=e.div=e.divAbsolute=e.divRelative=null}},Highcharts.RangeSelector=gr,Fn.prototype.callbacks.push(function(e){function i(){t=e.xAxis[0].getExtremes(),n.render(u(t.min,t.dataMin),a(t.max,t.dataMax))}function s(){t=e.xAxis[0].getExtremes(),r.render(t.min,t.max)}function o(e){n.render(e.min,e.max)}function f(e){r.render(e.min,e.max)}function l(){n&&(fn(e,"resize",i),fn(e.xAxis[0],"afterSetExtremes",o)),r&&(fn(e,"resize",s),fn(e.xAxis[0],"afterSetExtremes",f))}var t,n=e.scroller,r=e.rangeSelector;n&&(an(e.xAxis[0],"afterSetExtremes",o),an(e,"resize",i),i()),r&&(an(e.xAxis[0],"afterSetExtremes",f),an(e,"resize",s),s()),an(e,"destroy",l)}),Highcharts.StockChart=function(e,t){var n=e.series,r,i={marker:{enabled:!1,states:{hover:{enabled:!0,radius:5}}},shadow:!1,states:{hover:{lineWidth:2}},dataGrouping:{enabled:!0}};return e.xAxis=on(_t(e.xAxis||{}),function(e){return un({minPadding:0,maxPadding:0,ordinal:!0,title:{text:null},labels:{overflow:"justify"},showLastLabel:!0},e,{type:"datetime",categories:null})}),e.yAxis=on(_t(e.yAxis||{}),function(e){return r=e.opposite,un({labels:{align:r?"right":"left",x:r?-2:2,y:-2},showLastLabel:!1,title:{text:null}},e)}),e.series=null,e=un({chart:{panning:!0},navigator:{enabled:!0},scrollbar:{enabled:!0},rangeSelector:{enabled:!0},title:{text:null},tooltip:{shared:!0,crosshairs:!0},legend:{enabled:!1},plotOptions:{line:i,spline:i,area:i,areaspline:i,column:{shadow:!1,borderWidth:0,dataGrouping:{enabled:!0}}}},e,{chart:{inverted:!1}}),e.series=n,new Fn(e,t)};var yr=Yn.init,br=Yn.processData,wr=In.prototype.tooltipFormatter;Yn.init=function(){yr.apply(this,arguments);var e=this,t=e.options.compare;t&&(e.modifyValue=function(e,n){var r=this.compareValue;return e=t==="value"?e-r:e=100*(e/r)-100,n&&(n.change=e),e})},Yn.processData=function(){var e=this;br.apply(this,arguments);if(e.options.compare){var t=0,n=e.processedXData,r=e.processedYData,i=r.length,s=e.xAxis.getExtremes().min;for(;t<i;t++)if(typeof r[t]===rr&&n[t]>=s){e.compareValue=r[t];break}}},In.prototype.tooltipFormatter=function(e){var t=this;return e=e.replace("{point.change}",(t.change>0?"+":"")+Ft(t.change,t.series.tooltipOptions.changeDecimals||2)),wr.apply(this,[e])},function(){var t=Yn.init,n=Yn.getSegments;Yn.init=function(){var n=this,r,i;t.apply(n,arguments),r=n.chart,i=n.xAxis,i&&i.options.ordinal&&an(n,"updatedData",function(){delete i.ordinalIndex});if(i&&i.options.ordinal&&!i.hasOrdinalExtension){i.hasOrdinalExtension=!0,i.beforeSetTickPositions=function(){var t=this,n,r=[],s=!1,o,u=t.getExtremes(),a=u.min,f=u.max,l,c,h,p;if(t.options.ordinal){nn(t.series,function(e,t){if(e.visible!==!1){r=r.concat(e.processedXData),n=r.length;if(t&&n){r.sort(function(e,t){return e-t}),t=n-1;while(t--)r[t]===r[t+1]&&r.splice(t,1)}}}),n=r.length;if(n>2){o=r[1]-r[0],p=n-1;while(p--&&!s)r[p+1]-r[p]!==o&&(s=!0)}s?(t.ordinalPositions=r,l=i.val2lin(a,!0),c=i.val2lin(f,!0),t.ordinalSlope=h=(f-a)/(c-l),t.ordinalOffset=a-l*h):t.ordinalPositions=t.ordinalSlope=t.ordinalOffset=e}},i.val2lin=function(e,t){var n=this,r=n.ordinalPositions;if(!r)return e;var i=r.length,s,o,u;s=i;while(s--)if(r[s]===e){u=s;break}s=i-1;while(s--)if(e>r[s]||s===0){o=(e-r[s])/(r[s+1]-r[s]),u=s+o;break}return t?u:n.ordinalSlope*(u||0)+n.ordinalOffset},i.lin2val=function(t,n){var r=this,i=r.ordinalPositions;if(!i)return t;var o=r.ordinalSlope,u=r.ordinalOffset,a=i.length-1,f,l,c;if(n)t<0?t=i[0]:t>a?t=i[a]:(a=s(t),c=t-a);else while(a--){f=o*a+u;if(t>=f){l=o*(a+1)+u,c=(t-f)/(l-f);break}}return c!==e&&i[a]!==e?i[a]+(c?c*(i[a+1]-i[a]):0):t},i.getExtendedPositions=function(){var e=i.series[0].currentDataGrouping,t=i.ordinalIndex,n=e?e.count+e.unitName:"raw",s=i.getExtremes(),o,u;return t||(t=i.ordinalIndex={}),t[n]||(o={series:[],getExtremes:function(){return{min:s.dataMin,max:s.dataMax}},options:{ordinal:!0}},nn(i.series,function(t){u={xAxis:o,xData:t.xData,chart:r,destroyGroupedData:D},u.options={dataGrouping:e?{enabled:!0,forced:!0,approximation:"open",units:[[e.unitName,[e.count]]]}:{enabled:!1}},t.processData.apply(u),o.series.push(u)}),i.beforeSetTickPositions.apply(o),t[n]=o.ordinalPositions),t[n]},i.getGroupIntervalFactor=function(e,t,n){var r=0,i=n.length,o=[],u;for(;r<i-1;r++)o[r]=n[r+1]-n[r];return o.sort(function(e,t){return e-t}),u=o[s(i/2)],i*u/(t-e)},i.postProcessTickInterval=function(e){var t=this.ordinalSlope;return t?e/(t/i.closestPointRange):e},i.getNonLinearTimeTicks=function(t,n,r,o,u,a,f){var l=0,c=0,h,p={},d,v,m,g,y=[],b=i.options.tickPixelInterval;if(!u||n===e)return Ut(t,n,r,o);m=u.length;for(;c<m;c++){g=c&&u[c-1]>r,u[c]<n&&(l=c);if(c===m-1||u[c+1]-u[c]>a*5||g)h=Ut(t,u[l],u[c],o),y=y.concat(h),l=c+1;if(g)break}v=h.info;if(f&&v.unitRange<=_[G]){c=y.length-1;for(l=1;l<c;l++)(new Date(y[l]))[ct]()!==(new Date(y[l-1]))[ct]()&&(p[y[l]]=Y,d=!0);d&&(p[y[0]]=Y),v.higherRanks=p}y.info=v;if(f&&Ot(b)){var w=y.length,E=w,S,x,T=[],N,C,k,L=[];while(E--)x=i.translate(y[E]),N&&(L[E]=N-x),T[E]=N=x;L.sort(),C=L[s(L.length/2)],C<b*.6&&(C=null),E=y[w-1]>r?w-1:w,N=undefined;while(E--)x=T[E],k=N-x,N&&k<b*.8&&(C===null||k<C*.8)?(p[y[E]]&&!p[y[E+1]]?(S=E+1,N=x):S=E,y.splice(S,1)):N=x}return y};var o=r.pan;r.pan=function(e){var t=r.xAxis[0],n=!1;if(t.options.ordinal&&t.series.length){var i=r.mouseDownX,s=t.getExtremes(),l=s.dataMax,c=s.min,h=s.max,p,d,v=r.hoverPoints,m=t.closestPointRange,g=t.translationSlope*(t.ordinalSlope||m),y=(i-e)/g,b={ordinalPositions:t.getExtendedPositions()},w,E,S=t.lin2val,x=t.val2lin,T;b.ordinalPositions?f(y)>1&&(v&&nn(v,function(e){e.setState()}),y<0?(E=b,T=t.ordinalPositions?t:b):(E=t.ordinalPositions?t:b,T=b),w=T.ordinalPositions,l>w[w.length-1]&&w.push(l),p=S.apply(E,[x.apply(E,[c,!0])+y,!0]),d=S.apply(T,[x.apply(T,[h,!0])+y,!0]),p>a(s.dataMin,c)&&d<u(l,h)&&t.setExtremes(p,d,!0,!1),r.mouseDownX=e,Pt(r.container,{cursor:"move"})):n=!0}else n=!0;n&&o.apply(r,arguments)}}},Yn.getSegments=function(){var e=this,t,r=e.options.gapSize;n.apply(e),r&&(t=e.segments,nn(t,function(n,i){var s=n.length-1;while(s--)n[s+1].x-n[s].x>e.xAxis.closestPointRange*r&&t.splice(i+1,0,n.splice(s+1,n.length-s))}))}}(),wt(Highcharts,{Axis:Pn,CanVGRenderer:An,Chart:Fn,Color:xn,Legend:jn,Point:In,Tick:Mn,Tooltip:Hn,Renderer:x,Series:qn,SVGRenderer:Nn,VMLRenderer:Cn,dateFormat:A,pathAnim:M,getOptions:Sn,hasBidiBug:E,numberFormat:Ft,seriesTypes:bt,setOptions:En,addEvent:an,removeEvent:fn,createElement:Ht,discardElement:Jt,css:Pt,each:nn,extend:wt,map:on,merge:un,pick:Dt,splat:_t,extendClass:Bt,pInt:St,product:"Highstock",version:"1.1.6"})})(),function(e){function f(e,t){if(typeof e=="object"&&e.hasOwnProperty("_tc_id"))return e;var n=l(e),i=n.r,o=n.g,u=n.b,a=parseFloat(n.a),f=s(100*a)/100,c=n.format;return i<1&&(i=s(i)),o<1&&(o=s(o)),u<1&&(u=s(u)),{ok:n.ok,format:c,_tc_id:r++,alpha:a,toHsv:function(){var e=d(i,o,u);return{h:e.h*360,s:e.s,v:e.v,a:a}},toHsvString:function(){var e=d(i,o,u),t=s(e.h*360),n=s(e.s*100),r=s(e.v*100);return a==1?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+f+")"},toHsl:function(){var e=h(i,o,u);return{h:e.h*360,s:e.s,l:e.l,a:a}},toHslString:function(){var e=h(i,o,u),t=s(e.h*360),n=s(e.s*100),r=s(e.l*100);return a==1?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+f+")"},toHex:function(){return m(i,o,u)},toHexString:function(){return"#"+m(i,o,u)},toRgb:function(){return{r:s(i),g:s(o),b:s(u),a:a}},toRgbString:function(){return a==1?"rgb("+s(i)+", "+s(o)+", "+s(u)+")":"rgba("+s(i)+", "+s(o)+", "+s(u)+", "+f+")"},toName:function(){return y[m(i,o,u)]||!1},toFilter:function(){var e=m(i,o,u),t=Math.round(parseFloat(a)*255).toString(16);return"progid:DXImageTransform.Microsoft.gradient(startColorstr=#"+t+e+",endColorstr=#"+t+e+")"},toString:function(e){e=e||this.format;var t=!1;return e==="rgb"&&(t=this.toRgbString()),e==="hex"&&(t=this.toHexString()),e==="name"&&(t=this.toName()),e==="hsl"&&(t=this.toHslString()),e==="hsv"&&(t=this.toHsvString()),t||this.toHexString()}}}function l(e){var t={r:255,g:255,b:255},n=1,r=!1,i=!1;typeof e=="string"&&(e=k(e));if(typeof e=="object"){if(e.hasOwnProperty("r")&&e.hasOwnProperty("g")&&e.hasOwnProperty("b"))t=c(e.r,e.g,e.b),r=!0,i="rgb";else if(e.hasOwnProperty("h")&&e.hasOwnProperty("s")&&e.hasOwnProperty("v"))e.s=N(e.s),e.v=N(e.v),t=v(e.h,e.s,e.v),r=!0,i="hsv";else if(e.hasOwnProperty("h")&&e.hasOwnProperty("s")&&e.hasOwnProperty("l")){e.s=N(e.s),e.l=N(e.l);var t=p(e.h,e.s,e.l);r=!0,i="hsl"}e.hasOwnProperty("a")&&(n=e.a)}return{ok:r,format:e.format||i,r:o(255,u(t.r,0)),g:o(255,u(t.g,0)),b:o(255,u(t.b,0)),a:n}}function c(e,t,n){return{r:w(e,255)*255,g:w(t,255)*255,b:w(n,255)*255}}function h(e,t,n){e=w(e,255),t=w(t,255),n=w(n,255);var r=u(e,t,n),i=o(e,t,n),s,a,f=(r+i)/2;if(r==i)s=a=0;else{var l=r-i;a=f>.5?l/(2-r-i):l/(r+i);switch(r){case e:s=(t-n)/l+(t<n?6:0);break;case t:s=(n-e)/l+2;break;case n:s=(e-t)/l+4}s/=6}return{h:s,s:a,l:f}}function p(e,t,n){function o(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}var r,i,s;e=w(e,360),t=w(t,100),n=w(n,100);if(t==0)r=i=s=n;else{var u=n<.5?n*(1+t):n+t-n*t,a=2*n-u;r=o(a,u,e+1/3),i=o(a,u,e),s=o(a,u,e-1/3)}return{r:r*255,g:i*255,b:s*255}}function d(e,t,n){e=w(e,255),t=w(t,255),n=w(n,255);var r=u(e,t,n),i=o(e,t,n),s,a,f=r,l=r-i;a=r==0?0:l/r;if(r==i)s=0;else{switch(r){case e:s=(t-n)/l+(t<n?6:0);break;case t:s=(n-e)/l+2;break;case n:s=(e-t)/l+4}s/=6}return{h:s,s:a,v:f}}function v(e,t,n){var r,s,o;e=w(e,360)*6,t=w(t,100),n=w(n,100);var u=i.floor(e),a=e-u,f=n*(1-t),l=n*(1-a*t),c=n*(1-(1-a)*t),h=u%6,r=[n,l,f,f,c,n][h],s=[c,n,n,l,f,f][h],o=[f,f,c,n,n,l][h];return{r:r*255,g:s*255,b:o*255}}function m(e,t,n){function r(e){return e.length==1?"0"+e:""+e}var i=[r(s(e).toString(16)),r(s(t).toString(16)),r(s(n).toString(16))];return i[0][0]==i[0][1]&&i[1][0]==i[1][1]&&i[2][0]==i[2][1]?i[0][0]+i[1][0]+i[2][0]:i.join("")}function b(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function w(e,t){x(e)&&(e="100%");var n=T(e);return e=o(t,u(0,parseFloat(e))),n&&(e=parseInt(e*t)/100),i.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function E(e){return o(1,u(0,e))}function S(e){return parseInt(e,16)}function x(e){return typeof e=="string"&&e.indexOf(".")!=-1&&parseFloat(e)===1}function T(e){return typeof e=="string"&&e.indexOf("%")!=-1}function N(e){return e<=1&&(e=e*100+"%"),e}function k(e){e=e.replace(t,"").replace(n,"").toLowerCase();var r=!1;if(g[e])e=g[e],r=!0;else if(e=="transparent")return{r:0,g:0,b:0,a:0};var i;return(i=C.rgb.exec(e))?{r:i[1],g:i[2],b:i[3]}:(i=C.rgba.exec(e))?{r:i[1],g:i[2],b:i[3],a:i[4]}:(i=C.hsl.exec(e))?{h:i[1],s:i[2],l:i[3]}:(i=C.hsla.exec(e))?{h:i[1],s:i[2],l:i[3],a:i[4]}:(i=C.hsv.exec(e))?{h:i[1],s:i[2],v:i[3]}:(i=C.hex6.exec(e))?{r:S(i[1]),g:S(i[2]),b:S(i[3]),format:r?"name":"hex"}:(i=C.hex3.exec(e))?{r:S(i[1]+""+i[1]),g:S(i[2]+""+i[2]),b:S(i[3]+""+i[3]),format:r?"name":"hex"}:!1}var t=/^[\s,#]+/,n=/\s+$/,r=0,i=Math,s=i.round,o=i.min,u=i.max,a=i.random;f.fromRatio=function(e){if(typeof e=="object"){var t={};for(var n in e)t[n]=N(e[n]);e=t}return f(e)},f.equals=function(e,t){return!e||!t?!1:f(e).toHex()==f(t).toHex()},f.random=function(){return f.fromRatio({r:a(),g:a(),b:a()})},f.desaturate=function(e,t){var n=f(e).toHsl();return n.s-=(t||10)/100,n.s=E(n.s),f(n)},f.saturate=function(e,t){var n=f(e).toHsl();return n.s+=(t||10)/100,n.s=E(n.s),f(n)},f.greyscale=function(e){return f.desaturate(e,100)},f.lighten=function(e,t){var n=f(e).toHsl();return n.l+=(t||10)/100,n.l=E(n.l),f(n)},f.darken=function(e,t){var n=f(e).toHsl();return n.l-=(t||10)/100,n.l=E(n.l),f(n)},f.complement=function(e){var t=f(e).toHsl();return t.h=(t.h+180)%360,f(t)},f.triad=function(e){var t=f(e).toHsl(),n=t.h;return[f(e),f({h:(n+120)%360,s:t.s,l:t.l}),f({h:(n+240)%360,s:t.s,l:t.l})]},f.tetrad=function(e){var t=f(e).toHsl(),n=t.h;return[f(e),f({h:(n+90)%360,s:t.s,l:t.l}),f({h:(n+180)%360,s:t.s,l:t.l}),f({h:(n+270)%360,s:t.s,l:t.l})]},f.splitcomplement=function(e){var t=f(e).toHsl(),n=t.h;return[f(e),f({h:(n+72)%360,s:t.s,l:t.l}),f({h:(n+216)%360,s:t.s,l:t.l})]},f.analogous=function(e,t,n){t=t||6,n=n||30;var r=f(e).toHsl(),i=360/n,s=[f(e)];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,s.push(f(r));return s},f.monochromatic=function(e,t){t=t||6;var n=f(e).toHsv(),r=n.h,i=n.s,s=n.v,o=[],u=1/t;while(t--)o.push(f({h:r,s:i,v:s})),s=(s+u)%1;return o},f.readable=function(e,t){var n=f(e).toRgb(),r=f(t).toRgb();return(r.r-n.r)*(r.r-n.r)+(r.g-n.g)*(r.g-n.g)+(r.b-n.b)*(r.b-n.b)>10404};var g=f.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1"
,saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},y=f.hexNames=b(g),C=function(){var e="[-\\+]?\\d+%?",t="[-\\+]?\\d*\\.\\d+%?",n="(?:"+t+")|(?:"+e+")",r="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?",i="[\\s|\\(]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")[,|\\s]+("+n+")\\s*\\)?";return{rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();typeof module!="undefined"&&module.exports?module.exports=f:e.tinycolor=f}(this),function(e){"use strict";typeof define=="function"&&define.amd?define(["jquery"],e):jQuery&&!jQuery.fn.qtip&&e(jQuery)}(function(e){"use strict";function _(){_.history=_.history||[],_.history.push(arguments);if("object"==typeof console){var e=console[console.warn?"warn":"log"],t=Array.prototype.slice.call(arguments),n;typeof arguments[0]=="string"&&(t[0]="qTip2: "+t[0]),n=e.apply?e.apply(console,t):e(t)}}function D(t){var i;if(!t||"object"!=typeof t)return n;if(t.metadata===r||"object"!=typeof t.metadata)t.metadata={type:t.metadata};if("content"in t){if(t.content===r||"object"!=typeof t.content||t.content.jquery)t.content={text:t.content};i=t.content.text||n,!e.isFunction(i)&&(!i&&!i.attr||i.length<1||"object"==typeof i&&!i.jquery)&&(t.content.text=n);if("title"in t.content){if(t.content.title===r||"object"!=typeof t.content.title)t.content.title={text:t.content.title};i=t.content.title.text||n,!e.isFunction(i)&&(!i&&!i.attr||i.length<1||"object"==typeof i&&!i.jquery)&&(t.content.title.text=n)}}return"position"in t&&(t.position===r||"object"!=typeof t.position)&&(t.position={my:t.position,at:t.position}),"show"in t&&(t.show===r||"object"!=typeof t.show)&&(t.show.jquery?t.show={target:t.show}:t.show={event:t.show}),"hide"in t&&(t.hide===r||"object"!=typeof t.hide)&&(t.hide.jquery?t.hide={target:t.hide}:t.hide={event:t.hide}),"style"in t&&(t.style===r||"object"!=typeof t.style)&&(t.style={classes:t.style}),e.each(g,function(){this.sanitize&&this.sanitize(t)}),t}function P(i,s,p,d){function I(e){var t=0,n,r=s,i=e.split(".");while(r=r[i[t++]])t<i.length&&(n=r);return[n||s,i.pop()]}function q(){var e=s.style.widget;H.toggleClass(E,e).toggleClass(T,s.style.def&&!e),j.content.toggleClass(E+"-content",e),j.titlebar&&j.titlebar.toggleClass(E+"-header",e),j.button&&j.button.toggleClass(w+"-icon",!e)}function R(e){j.title&&(j.titlebar.remove(),j.titlebar=j.title=j.button=r,e!==n&&v.reposition())}function U(){var t=s.content.title.button,r=typeof t=="string",i=r?t:"Close tooltip";j.button&&j.button.remove(),t.jquery?j.button=t:j.button=e("<a />",{"class":"ui-state-default ui-tooltip-close "+(s.style.widget?"":w+"-icon"),title:i,"aria-label":i}).prepend(e("<span />",{"class":"ui-icon ui-icon-close",html:"&times;"})),j.button.appendTo(j.titlebar).attr("role","button").click(function(e){return H.hasClass(S)||v.hide(e),n}),v.redraw()}function z(){var n=A+"-title";j.titlebar&&R(),j.titlebar=e("<div />",{"class":w+"-titlebar "+(s.style.widget?"ui-widget-header":"")}).append(j.title=e("<div />",{id:n,"class":w+"-title","aria-atomic":t})).insertBefore(j.content).delegate(".ui-tooltip-close","mousedown keydown mouseup keyup mouseout",function(t){e(this).toggleClass("ui-state-active ui-state-focus",t.type.substr(-4)==="down")}).delegate(".ui-tooltip-close","mouseover mouseout",function(t){e(this).toggleClass("ui-state-hover",t.type==="mouseover")}),s.content.title.button?U():v.rendered&&v.redraw()}function W(e){var t=j.button,r=j.title;if(!v.rendered)return n;e?(r||z(),U()):t.remove()}function X(t,r){var s=j.title;if(!v.rendered||!t)return n;e.isFunction(t)&&(t=t.call(i,F.event,v));if(t===n||!t&&t!=="")return R(n);t.jquery&&t.length>0?s.empty().append(t.css({display:"block"})):s.html(t),v.redraw(),r!==n&&v.rendered&&H[0].offsetWidth>0&&v.reposition(F.event)}function V(t,r){function o(t){function u(i){i&&(delete o[i.src],clearTimeout(v.timers.img[i.src]),e(i).unbind(B)),e.isEmptyObject(o)&&(v.redraw(),r!==n&&v.reposition(F.event),t())}var i,o={};if((i=s.find("img[src]:not([height]):not([width])")).length===0)return u();i.each(function(t,n){if(o[n.src]!==undefined)return;var r=0,i=3;(function s(){if(n.height||n.width||r>i)return u(n);r+=1,v.timers.img[n.src]=setTimeout(s,700)})(),e(n).bind("error"+B+" load"+B,function(){u(this)}),o[n.src]=n})}var s=j.content;return!v.rendered||!t?n:(e.isFunction(t)&&(t=t.call(i,F.event,v)||""),t.jquery&&t.length>0?s.empty().append(t.css({display:"block"})):s.html(t),v.rendered<0?H.queue("fx",o):(P=0,o(e.noop)),v)}function J(){function f(e){if(H.hasClass(S))return n;clearTimeout(v.timers.show),clearTimeout(v.timers.hide);var r=function(){v.toggle(t,e)};s.show.delay>0?v.timers.show=setTimeout(r,s.show.delay):r()}function l(t){if(H.hasClass(S)||_||P)return n;var i=e(t.relatedTarget||t.target),u=i.closest(x)[0]===H[0],a=i[0]===o.show[0];clearTimeout(v.timers.show),clearTimeout(v.timers.hide);if(r.target==="mouse"&&u||s.hide.fixed&&/mouse(out|leave|move)/.test(t.type)&&(u||a)){try{t.preventDefault(),t.stopImmediatePropagation()}catch(f){}return}s.hide.delay>0?v.timers.hide=setTimeout(function(){v.hide(t)},s.hide.delay):v.hide(t)}function c(e){if(H.hasClass(S))return n;clearTimeout(v.timers.inactive),v.timers.inactive=setTimeout(function(){v.hide(e)},s.hide.inactive)}function h(e){v.rendered&&H[0].offsetWidth>0&&v.reposition(e)}var r=s.position,o={show:s.show.target,hide:s.hide.target,viewport:e(r.viewport),document:e(document),body:e(document.body),window:e(window)},u={show:e.trim(""+s.show.event).split(" "),hide:e.trim(""+s.hide.event).split(" ")},a=e.browser.msie&&parseInt(e.browser.version,10)===6;H.bind("mouseenter"+B+" mouseleave"+B,function(e){var t=e.type==="mouseenter";t&&v.focus(e),H.toggleClass(C,t)}),/mouse(out|leave)/i.test(s.hide.event)&&s.hide.leave==="window"&&o.window.bind("mouseleave"+B+" blur"+B,function(e){!/select|option/.test(e.target.nodeName)&&!e.relatedTarget&&v.hide(e)}),s.hide.fixed?(o.hide=o.hide.add(H),H.bind("mouseover"+B,function(){H.hasClass(S)||clearTimeout(v.timers.hide)})):/mouse(over|enter)/i.test(s.show.event)&&o.hide.bind("mouseleave"+B,function(e){clearTimeout(v.timers.show)}),(""+s.hide.event).indexOf("unfocus")>-1&&r.container.closest("html").bind("mousedown"+B,function(t){var n=e(t.target),r=v.rendered&&!H.hasClass(S)&&H[0].offsetWidth>0,s=n.parents(x).filter(H[0]).length>0;n[0]!==i[0]&&n[0]!==H[0]&&!s&&!i.has(n[0]).length&&!n.attr("disabled")&&v.hide(t)}),"number"==typeof s.hide.inactive&&(o.show.bind("qtip-"+p+"-inactive",c),e.each(m.inactiveEvents,function(e,t){o.hide.add(j.tooltip).bind(t+B+"-inactive",c)})),e.each(u.hide,function(t,n){var r=e.inArray(n,u.show),i=e(o.hide);r>-1&&i.add(o.show).length===i.length||n==="unfocus"?(o.show.bind(n+B,function(e){H[0].offsetWidth>0?l(e):f(e)}),delete u.show[r]):o.hide.bind(n+B,l)}),e.each(u.show,function(e,t){o.show.bind(t+B,f)}),"number"==typeof s.hide.distance&&o.show.add(H).bind("mousemove"+B,function(e){var t=F.origin||{},n=s.hide.distance,r=Math.abs;(r(e.pageX-t.pageX)>=n||r(e.pageY-t.pageY)>=n)&&v.hide(e)}),r.target==="mouse"&&(o.show.bind("mousemove"+B,function(e){y={pageX:e.pageX,pageY:e.pageY,type:"mousemove"}}),r.adjust.mouse&&(s.hide.event&&(H.bind("mouseleave"+B,function(e){(e.relatedTarget||e.target)!==o.show[0]&&v.hide(e)}),j.target.bind("mouseenter"+B+" mouseleave"+B,function(e){F.onTarget=e.type==="mouseenter"})),o.document.bind("mousemove"+B,function(e){v.rendered&&F.onTarget&&!H.hasClass(S)&&H[0].offsetWidth>0&&v.reposition(e||y)}))),(r.adjust.resize||o.viewport.length)&&(e.event.special.resize?o.viewport:o.window).bind("resize"+B,h),(o.viewport.length||a&&H.css("position")==="fixed")&&o.viewport.bind("scroll"+B,h)}function K(){var t=[s.show.target[0],s.hide.target[0],v.rendered&&j.tooltip[0],s.position.container[0],s.position.viewport[0],window,document];v.rendered?e([]).pushStack(e.grep(t,function(e){return typeof e=="object"})).unbind(B):s.show.target.unbind(B+"-create")}var v=this,L=document.body,A=w+"-"+p,_=0,P=0,H=e(),B=".qtip-"+p,j,F;v.id=p,v.rendered=n,v.destroyed=n,v.elements=j={target:i},v.timers={img:{}},v.options=s,v.checks={},v.plugins={},v.cache=F={event:{},target:e(),disabled:n,attr:d,onTarget:n,lastClass:""},v.checks.builtin={"^id$":function(r,i,s){var o=s===t?m.nextid:s,u=w+"-"+o;o!==n&&o.length>0&&!e("#"+u).length&&(H[0].id=u,j.content[0].id=u+"-content",j.title[0].id=u+"-title")},"^content.text$":function(e,t,n){V(n)},"^content.title.text$":function(e,t,n){if(!n)return R();!j.title&&n&&z(),X(n)},"^content.title.button$":function(e,t,n){W(n)},"^position.(my|at)$":function(e,t,n){"string"==typeof n&&(e[t]=new g.Corner(n))},"^position.container$":function(e,t,n){v.rendered&&H.appendTo(n)},"^show.ready$":function(){v.rendered?v.toggle(t):v.render(1)},"^style.classes$":function(e,t,n){H.attr("class",w+" qtip ui-helper-reset "+n)},"^style.widget|content.title":q,"^events.(render|show|move|hide|focus|blur)$":function(t,n,r){H[(e.isFunction(r)?"":"un")+"bind"]("tooltip"+n,r)},"^(show|hide|position).(event|target|fixed|inactive|leave|distance|viewport|adjust)":function(){var e=s.position;H.attr("tracking",e.target==="mouse"&&e.adjust.mouse),K(),J()}},e.extend(v,{render:function(r){if(v.rendered)return v;var o=s.content.text,u=s.content.title.text,a=s.position,f=e.Event("tooltiprender");return e.attr(i[0],"aria-describedby",A),H=j.tooltip=e("<div/>",{id:A,"class":w+" qtip ui-helper-reset "+T+" "+s.style.classes+" "+w+"-pos-"+s.position.my.abbrev(),width:s.style.width||"",height:s.style.height||"",tracking:a.target==="mouse"&&a.adjust.mouse,role:"alert","aria-live":"polite","aria-atomic":n,"aria-describedby":A+"-content","aria-hidden":t}).toggleClass(S,F.disabled).data("qtip",v).appendTo(s.position.container).append(j.content=e("<div />",{"class":w+"-content",id:A+"-content","aria-atomic":t})),v.rendered=-1,P=1,_=1,u&&(z(),e.isFunction(u)||X(u,n)),e.isFunction(o)||V(o,n),v.rendered=t,q(),e.each(s.events,function(t,n){e.isFunction(n)&&H.bind(t==="toggle"?"tooltipshow tooltiphide":"tooltip"+t,n)}),e.each(g,function(){this.initialize==="render"&&this(v)}),J(),H.queue("fx",function(e){f.originalEvent=F.event,H.trigger(f,[v]),P=0,_=0,v.redraw(),(s.show.ready||r)&&v.toggle(t,F.event,n),e()}),v},get:function(e){var t,n;switch(e.toLowerCase()){case"dimensions":t={height:H.outerHeight(),width:H.outerWidth()};break;case"offset":t=g.offset(H,s.position.container);break;default:n=I(e.toLowerCase()),t=n[0][n[1]],t=t.precedance?t.string():t}return t},set:function(i,o){function p(e,t){var n,r,i;for(n in c)for(r in c[n])if(i=(new RegExp(r,"i")).exec(e))t.push(i),c[n][r].apply(v,t)}var u=/^position\.(my|at|adjust|target|container)|style|content|show\.ready/i,a=/^content\.(title|attr)|style/i,f=n,l=n,c=v.checks,h;return"string"==typeof i?(h=i,i={},i[h]=o):i=e.extend(t,{},i),e.each(i,function(t,n){var r=I(t.toLowerCase()),s;s=r[0][r[1]],r[0][r[1]]="object"==typeof n&&n.nodeType?e(n):n,i[t]=[r[0],r[1],n,s],f=u.test(t)||f,l=a.test(t)||l}),D(s),_=P=1,e.each(i,p),_=P=0,v.rendered&&H[0].offsetWidth>0&&(f&&v.reposition(s.position.target==="mouse"?r:F.event),l&&v.redraw()),v},toggle:function(i,o){function w(){i?(e.browser.msie&&H[0].style.removeAttribute("filter"),H.css("overflow",""),"string"==typeof a.autofocus&&e(a.autofocus,H).focus(),a.target.trigger("qtip-"+p+"-inactive")):H.css({display:"",visibility:"",opacity:""}),b=e.Event("tooltip"+(i?"visible":"hidden")),b.originalEvent=o?F.event:r,H.trigger(b,[v])}if(!v.rendered)return i?v.render(1):v;var u=i?"show":"hide",a=s[u],f=s[i?"hide":"show"],l=s.position,c=s.content,h=H[0].offsetWidth>0,d=i||a.target.length===1,m=!o||a.target.length<2||F.target[0]===o.target,g,b;(typeof i).search("boolean|number")&&(i=!h);if(!H.is(":animated")&&h===i&&m)return v;if(o){if(/over|enter/.test(o.type)&&/out|leave/.test(F.event.type)&&s.show.target.add(o.target).length===s.show.target.length&&H.has(o.relatedTarget).length)return v;F.event=e.extend({},o)}return b=e.Event("tooltip"+u),b.originalEvent=o?F.event:r,H.trigger(b,[v,90]),b.isDefaultPrevented()?v:(e.attr(H[0],"aria-hidden",!i),i?(F.origin=e.extend({},y),v.focus(o),e.isFunction(c.text)&&V(c.text,n),e.isFunction(c.title.text)&&X(c.title.text,n),!M&&l.target==="mouse"&&l.adjust.mouse&&(e(document).bind("mousemove.qtip",function(e){y={pageX:e.pageX,pageY:e.pageY,type:"mousemove"}}),M=t),v.reposition(o,arguments[2]),(b.solo=!!a.solo)&&e(x,a.solo).not(H).qtip("hide",b)):(clearTimeout(v.timers.show),delete F.origin,M&&!e(x+'[tracking="true"]:visible',a.solo).not(H).length&&(e(document).unbind("mousemove.qtip"),M=n),v.blur(o)),a.effect===n||d===n?(H[u](),w.call(H)):e.isFunction(a.effect)?(H.stop(1,1),a.effect.call(H,v),H.queue("fx",function(e){w(),e()})):H.fadeTo(90,i?1:0,w),i&&a.target.trigger("qtip-"+p+"-inactive"),v)},show:function(e){return v.toggle(t,e)},hide:function(e){return v.toggle(n,e)},focus:function(t){if(!v.rendered)return v;var n=e(x),r=parseInt(H[0].style.zIndex,10),i=m.zindex+n.length,s=e.extend({},t),o,u;return H.hasClass(N)||(u=e.Event("tooltipfocus"),u.originalEvent=s,H.trigger(u,[v,i]),u.isDefaultPrevented()||(r!==i&&(n.each(function(){this.style.zIndex>r&&(this.style.zIndex=this.style.zIndex-1)}),n.filter("."+N).qtip("blur",s)),H.addClass(N)[0].style.zIndex=i)),v},blur:function(t){var n=e.extend({},t),r;return H.removeClass(N),r=e.Event("tooltipblur"),r.originalEvent=n,H.trigger(r,[v]),v},reposition:function(t,r){if(!v.rendered||_)return v;_=1;var i=s.position.target,o=s.position,u=o.my,p=o.at,d=o.adjust,m=d.method.split(" "),b=H.outerWidth(),w=H.outerHeight(),E=0,S=0,x=e.Event("tooltipmove"),T=H.css("position")==="fixed",N=o.viewport,C={left:0,top:0},k=o.container,L=H[0].offsetWidth>0,A,O,M;if(e.isArray(i)&&i.length===2)p={x:f,y:a},C={left:i[0],top:i[1]};else if(i==="mouse"&&(t&&t.pageX||F.event.pageX))p={x:f,y:a},t=(!t||t.type!=="resize"&&t.type!=="scroll"?t&&t.pageX&&t.type==="mousemove"?t:y&&y.pageX&&(d.mouse||!t||!t.pageX)?{pageX:y.pageX,pageY:y.pageY}:!d.mouse&&F.origin&&F.origin.pageX&&s.show.distance?F.origin:t:F.event)||t||F.event||y||{},C={top:t.pageY,left:t.pageX};else{i==="event"&&t&&t.target&&t.type!=="scroll"&&t.type!=="resize"?F.target=e(t.target):i!=="event"&&(F.target=e(i.jquery?i:j.target)),i=F.target,i=e(i).eq(0);if(i.length===0)return v;i[0]===document||i[0]===window?(E=g.iOS?window.innerWidth:i.width(),S=g.iOS?window.innerHeight:i.height(),i[0]===window&&(C={top:(N||i).scrollTop(),left:(N||i).scrollLeft()})):g.imagemap&&i.is("area")?A=g.imagemap(v,i,p,g.viewport?m:n):g.svg&&typeof i[0].xmlbase=="string"?A=g.svg(v,i,p,g.viewport?m:n):(E=i.outerWidth(),S=i.outerHeight(),C=g.offset(i,k)),A&&(E=A.width,S=A.height,O=A.offset,C=A.position);if(g.iOS>3.1&&g.iOS<4.1||g.iOS>=4.3&&g.iOS<4.33||!g.iOS&&T)M=e(window),C.left-=M.scrollLeft(),C.top-=M.scrollTop();C.left+=p.x===c?E:p.x===h?E/2:0,C.top+=p.y===l?S:p.y===h?S/2:0}return C.left+=d.x+(u.x===c?-b:u.x===h?-b/2:0),C.top+=d.y+(u.y===l?-w:u.y===h?-w/2:0),g.viewport?(C.adjusted=g.viewport(v,C,o,E,S,b,w),O&&C.adjusted.left&&(C.left+=O.left),O&&C.adjusted.top&&(C.top+=O.top)):C.adjusted={left:0,top:0},x.originalEvent=e.extend({},t),H.trigger(x,[v,C,N.elem||N]),x.isDefaultPrevented()?v:(delete C.adjusted,r===n||!L||isNaN(C.left)||isNaN(C.top)||i==="mouse"||!e.isFunction(o.effect)?H.css(C):e.isFunction(o.effect)&&(o.effect.call(H,v,e.extend({},C)),H.queue(function(t){e(this).css({opacity:"",height:""}),e.browser.msie&&this.style.removeAttribute("filter"),t()})),_=0,v)},redraw:function(){if(v.rendered<1||P)return v;var e=s.position.container,t,n,r,i;return P=1,s.style.height&&H.css(u,s.style.height),s.style.width?H.css(o,s.style.width):(H.css(o,"").addClass(k),n=H.width()+1,r=H.css("max-width")||"",i=H.css("min-width")||"",t=(r+i).indexOf("%")>-1?e.width()/100:0,r=(r.indexOf("%")>-1?t:1)*parseInt(r,10)||n,i=(i.indexOf("%")>-1?t:1)*parseInt(i,10)||0,n=r+i?Math.min(Math.max(n,i),r):n,H.css(o,Math.round(n)).removeClass(k)),P=0,v},disable:function(t){return"boolean"!=typeof t&&(t=!H.hasClass(S)&&!F.disabled),v.rendered?(H.toggleClass(S,t),e.attr(H[0],"aria-disabled",t)):F.disabled=!!t,v},enable:function(){return v.disable(n)},destroy:function(){var n=i[0],r=e.attr(n,O),o=i.data("qtip");v.destroyed=t,v.rendered&&(H.stop(1,0).remove(),e.each(v.plugins,function(){this.destroy&&this.destroy()})),clearTimeout(v.timers.show),clearTimeout(v.timers.hide),K();if(!o||v===o)e.removeData(n,"qtip"),s.suppress&&r&&(e.attr(n,"title",r),i.removeAttr(O)),i.removeAttr("aria-describedby");return i.unbind(".qtip-"+p),delete b[v.id],i}})}function H(i,s){var o,u,a,f,l,c=e(this),h=e(document.body),p=this===document?h:c,d=c.metadata?c.metadata(s.metadata):r,v=s.metadata.type==="html5"&&d?d[s.metadata.name]:r,y=c.data(s.metadata.name||"qtipopts");try{y=typeof y=="string"?e.parseJSON(y):y}catch(b){_("Unable to parse HTML5 attribute data: "+y)}f=e.extend(t,{},m.defaults,s,typeof y=="object"?D(y):r,D(v||d)),u=f.position,f.id=i;if("boolean"==typeof f.content.text){a=c.attr(f.content.attr);if(f.content.attr===n||!a)return _("Unable to locate content for tooltip! Aborting render of tooltip on element: ",c),n;f.content.text=a}u.container.length||(u.container=h),u.target===n&&(u.target=p),f.show.target===n&&(f.show.target=p),f.show.solo===t&&(f.show.solo=u.container.closest("body")),f.hide.target===n&&(f.hide.target=p),f.position.viewport===t&&(f.position.viewport=u.container),u.container=u.container.eq(0),u.at=new g.Corner(u.at),u.my=new g.Corner(u.my);if(e.data(this,"qtip"))if(f.overwrite)c.qtip("destroy");else if(f.overwrite===n)return n;return f.suppress&&(l=e.attr(this,"title"))&&e(this).removeAttr("title").attr(O,l).attr("title",""),o=new P(c,f,i,!!a),e.data(this,"qtip",o),c.bind("remove.qtip-"+i+" removeqtip.qtip-"+i,function(){o.destroy()}),o}function B(r){var i=this,s=r.elements.tooltip,o=r.options.content.ajax,u=m.defaults.content.ajax,a=".qtip-ajax",f=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,l=t,c=n,h;r.checks.ajax={"^content.ajax":function(e,t,n){t==="ajax"&&(o=n),t==="once"?i.init():o&&o.url?i.load():s.unbind(a)}},e.extend(i,{init:function(){return o&&o.url&&s.unbind(a)[o.once?"one":"bind"]("tooltipshow"+a,i.load),i},load:function(s){function g(){var i;if(r.destroyed)return;l=n,v&&(c=t,r.show(s.originalEvent)),(i=u.complete||o.complete)&&e.isFunction(i)&&i.apply(o.context||r,arguments)}function y(t,n,i){var s;if(r.destroyed)return;d&&(t=e("<div/>").append(t.replace(f,"")).find(d)),(s=u.success||o.success)&&e.isFunction(s)?s.call(o.context||r,t,n,i):r.set("content.text",t)}function b(e,t,n){if(r.destroyed||e.status===0)return;r.set("content.text",t+": "+n)}if(c){c=n;return}var a=o.url.indexOf(" "),p=o.url,d,v=!o.loading&&l;if(v)try{s.preventDefault()}catch(m){}else if(s&&s.isDefaultPrevented())return i;h&&h.abort&&h.abort(),a>-1&&(d=p.substr(a),p=p.substr(0,a)),h=e.ajax(e.extend({error:u.error||b,context:r},o,{url:p,success:y,complete:g}))},destroy:function(){h&&h.abort&&h.abort(),r.destroyed=t}}),i.init()}function j(e,t,n){var r=Math.ceil(t/2),i=Math.ceil(n/2),s={bottomright:[[0,0],[t,n],[t,0]],bottomleft:[[0,0],[t,0],[0,n]],topright:[[0,n],[t,0],[t,n]],topleft:[[0,0],[0,n],[t,n]],topcenter:[[0,n],[r,0],[t,n]],bottomcenter:[[0,0],[t,0],[r,n]],rightcenter:[[0,0],[t,i],[0,n]],leftcenter:[[t,0],[t,n],[0,i]]};return s.lefttop=s.bottomright,s.righttop=s.bottomleft,s.leftbottom=s.topright,s.rightbottom=s.topleft,s[e.string()]}function F(p,d){function L(){S.width=y.height,S.height=y.width}function A(){S.width=y.width,S.height=y.height}function O(e,r,o,u){if(!b.tip)return;var d=m.corner.clone(),g=o.adjusted,w=p.options.position.adjust.method.split(" "),S=w[0],x=w[1]||w[0],T={left:n,top:n,x:0,y:0},N,C={},k;m.corner.fixed!==t&&(S===v&&d.precedance===i&&g.left&&d.y!==h?d.precedance=d.precedance===i?s:i:S!==v&&g.left&&(d.x=d.x===h?g.left>0?f:c:d.x===f?c:f),x===v&&d.precedance===s&&g.top&&d.x!==h?d.precedance=d.precedance===s?i:s:x!==v&&g.top&&(d.y=d.y===h?g.top>0?a:l:d.y===a?l:a),d.string()!==E.corner.string()&&(E.top!==g.top||E.left!==g.left)&&m.update(d,n)),N=m.position(d,g),N[d.x]+=M(d,d.x,t),N[d.y]+=M(d,d.y,t),N.right!==undefined&&(N.left=-N.right),N.bottom!==undefined&&(N.top=-N.bottom),N.user=Math.max(0,y.offset);if(T.left=S===v&&!!g.left)d.x===h?C["margin-left"]=T.x=N["margin-left"]-g.left:(k=N.right!==undefined?[g.left,-N.left]:[-g.left,N.left],(T.x=Math.max(k[0],k[1]))>k[0]&&(o.left-=g.left,T.left=n),C[N.right!==undefined?c:f]=T.x);if(T.top=x===v&&!!g.top)d.y===h?C["margin-top"]=T.y=N["margin-top"]-g.top:(k=N.bottom!==undefined?[g.top,-N.top]:[-g.top,N.top],(T.y=Math.max(k[0],k[1]))>k[0]&&(o.top-=g.top,T.top=n),C[N.bottom!==undefined?l:a]=T.y);b.tip.css(C).toggle(!(T.x&&T.y||d.x===h&&T.y||d.y===h&&T.x)),o.left-=N.left.charAt?N.user:S!==v||T.top||!T.left&&!T.top?N.left:0,o.top-=N.top.charAt?N.user:x!==v||T.left||!T.left&&!T.top?N.top:0,E.left=g.left,E.top=g.top,E.corner=d.clone()}function M(e,t,n){t=t?t:e[e.precedance];var r=w.hasClass(k),i=b.titlebar&&e.y===a,s=i?b.titlebar:b.tooltip,o="border-"+t+"-width",u;return w.addClass(k),u=parseInt(s.css(o),10),u=(n?u||parseInt(w.css(o),10):u)||0,w.toggleClass(k,r),u}function _(t){function f(e){return parseInt(r.css(e),10)||parseInt(w.css(e),10)}var n=b.titlebar&&t.y===a,r=n?b.titlebar:b.content,i=e.browser.mozilla,s=i?"-moz-":e.browser.webkit?"-webkit-":"",o="border-radius-"+t.y+t.x,u="border-"+t.y+"-"+t.x+"-radius";return f(u)||f(s+u)||f(s+o)||f(o)||0}function D(e){var t=e.precedance===s,n=S[t?o:u],r=S[t?u:o],i=e.string().indexOf(h)>-1,a=n*(i?.5:1),f=Math.pow,l=Math.round,c,p,d,v=Math.sqrt(f(a,2)+f(r,2)),m=[T/a*v,T/r*v];return m[2]=Math.sqrt(f(m[0],2)-f(T,2)),m[3]=Math.sqrt(f(m[1],2)-f(T,2)),c=v+m[2]+m[3]+(i?0:m[0]),p=c/v,d=[l(p*r),l(p*n)],{height:d[t?0:1],width:d[t?1:0]}}var m=this,y=p.options.style.tip,b=p.elements,w=b.tooltip,E={top:0,left:0},S={width:y.width,height:y.height},x={},T=y.border||0,N=".qtip-tip",C=!!(e("<canvas />")[0]||{}).getContext;m.corner=r,m.mimic=r,m.border=T,m.offset=y.offset,m.size=S,p.checks.tip={"^position.my|style.tip.(corner|mimic|border)$":function(){m.init()||m.destroy(),p.reposition()},"^style.tip.(height|width)$":function(){S={width:y.width,height:y.height},m.create(),m.update(),p.reposition()},"^content.title.text|style.(classes|widget)$":function(){b.tip&&b.tip.length&&m.update()}},e.extend(m,{init:function(){var t=m.detectCorner()&&(C||e.browser.msie);return t&&(m.create(),m.update(),w.unbind(N).bind("tooltipmove"+N,O)),t},detectCorner:function(){var e=y.corner,r=p.options.position,i=r.at,s=r.my.string?r.my.string():r.my;return e===n||s===n&&i===n?n:(e===t?m.corner=new g.Corner(s):e.string||(m.corner=new g.Corner(e),m.corner.fixed=t),E.corner=new g.Corner(m.corner.string()),m.corner.string()!=="centercenter")},detectColours:function(t){var n,r,i,s=b.tip.css("cssText",""),o=t||m.corner,u=o[o.precedance],f="border-"+u+"-color",l="border"+u.charAt(0)+u.substr(1)+"Color",c=/rgba?\(0, 0, 0(, 0)?\)|transparent|#123456/i,p="background-color",d="transparent",v=" !important",g=b.titlebar&&(o.y===a||o.y===h&&s.position().top+S.height/2+y.offset<b.titlebar.outerHeight(1)),E=g?b.titlebar:b.tooltip;w.addClass(k),x.fill=r=s.css(p),x.border=i=s[0].style[l]||s.css(f)||w.css(f);if(!r||c.test(r))x.fill=E.css(p)||d,c.test(x.fill)&&(x.fill=w.css(p)||r);if(!i||c.test(i)||i===e(document.body).css("color")){x.border=E.css(f)||d;if(c.test(x.border)||x.border===E.css("color"))x.border=w.css(f)||w.css(l)||i}e("*",s).add(s).css("cssText",p+":"+d+v+";border:0"+v+";"),w.removeClass(k)},create:function(){var t=S.width,n=S.height,r;b.tip&&b.tip.remove(),b.tip=e("<div />",{"class":"ui-tooltip-tip"}).css({width:t,height:n}).prependTo(w),C?e("<canvas />").appendTo(b.tip)[0].getContext("2d").save():(r='<vml:shape coordorigin="0,0" style="display:inline-block; position:absolute; behavior:url(#default#VML);"></vml:shape>',b.tip.html(r+r),e("*",b.tip).bind("click mousedown",function(e){e.stopPropagation()}))},update:function(o,u){var p=b.tip,d=p.children(),v=S.width,N=S.height,k="px solid ",O="px dashed transparent",_=y.mimic,P=Math.round,H,B,F,I,q;o||(o=E.corner||m.corner),_===n?_=o:(_=new g.Corner(_),_.precedance=o.precedance,_.x==="inherit"?_.x=o.x:_.y==="inherit"?_.y=o.y:_.x===_.y&&(_[o.precedance]=o[o.precedance])),H=_.precedance,o.precedance===i?L():A(),b.tip.css({width:v=S.width,height:N=S.height}),m.detectColours(o),x.border!=="transparent"?(T=M(o,r,t),y.border===0&&T>0&&(x.fill=x.border),m.border=T=y.border!==t?y.border:T):m.border=T=0,F=j(_,v,N),m.size=q=D(o),p.css(q),o.precedance===s?I=[P(_.x===f?T:_.x===c?q.width-v-T:(q.width-v)/2),P(_.y===a?q.height-N:0)]:I=[P(_.x===f?q.width-v:0),P(_.y===a?T:_.y===l?q.height-N-T:(q.height-N)/2)],C?(d.attr(q),B=d[0].getContext("2d"),B.restore(),B.save(),B.clearRect(0,0,3e3,3e3),B.fillStyle=x.fill,B.strokeStyle=x.border,B.lineWidth=T*2,B.lineJoin="miter",B.miterLimit=100,B.translate(I[0],I[1]),B.beginPath(),B.moveTo(F[0][0],F[0][1]),B.lineTo(F[1][0],F[1][1]),B.lineTo(F[2][0],F[2][1]),B.closePath(),T&&(w.css("background-clip")==="border-box"&&(B.strokeStyle=x.fill,B.stroke()),B.strokeStyle=x.border,B.stroke()),B.fill()):(F="m"+F[0][0]+","+F[0][1]+" l"+F[1][0]+","+F[1][1]+" "+F[2][0]+","+F[2][1]+" xe",I[2]=T&&/^(r|b)/i.test(o.string())?parseFloat(e.browser.version,10)===8?2:1:0,d.css({antialias:""+(_.string().indexOf(h)>-1),left:I[0]-I[2]*Number(H===i),top:I[1]-I[2]*Number(H===s),width:v+T,height:N+T}).each(function(t){var n=e(this);n[n.prop?"prop":"attr"]({coordsize:v+T+" "+(N+T),path:F,fillcolor:x.fill,filled:!!t,stroked:!t}).css({display:T||t?"block":"none"}),!t&&n.html()===""&&n.html('<vml:stroke weight="'+T*2+'px" color="'+x.border+'" miterlimit="1000" joinstyle="miter" '+' style="behavior:url(#default#VML); display:inline-block;" />')})),u!==n&&m.position(o)},position:function(t){var r=b.tip,l={},c=Math.max(0,y.offset),p,d,v;return y.corner===n||!r?n:(t=t||m.corner,p=t.precedance,d=D(t),v=[t.x,t.y],p===i&&v.reverse(),e.each(v,function(e,n){var r,i;n===h?(r=p===s?f:a,l[r]="50%",l["margin-"+r]=-Math.round(d[p===s?o:u]/2)+c):(r=M(t,n),i=_(t),l[n]=e?0:c+(i>r?i:-r))}),l[t[p]]-=d[p===i?o:u],r.css({top:"",bottom:"",left:"",right:"",margin:""}).css(l),l)},destroy:function(){b.tip&&b.tip.remove(),b.tip=!1,w.unbind(N)}}),m.init()}function I(r){function m(){d=e(p,u).not("[disabled]").map(function(){return typeof this.focus=="function"?this:null})}function y(e){d.length<1&&e.length?e.not("body").blur():d.first().focus()}function b(t){var r=e(t.target),i=r.closest(".qtip"),s;s=i.length<1?n:parseInt(i[0].style.zIndex,10)>parseInt(u[0].style.zIndex,10),!s&&e(t.target).closest(x)[0]!==u[0]&&y(r)}var i=this,s=r.options.show.modal,o=r.elements,u=o.tooltip,a="#qtip-overlay",f=".qtipmodal",l=f+r.id,c="is-modal-qtip",h=e(document.body),p=g.modal.focusable.join(","),d={},v;r.checks.modal={"^show.modal.(on|blur)$":function(){i.init(),o.overlay.toggle(u.is(":visible"))},"^content.text$":function(){m()}},e.extend(i,{init:function(){return s.on?(v=i.create(),u.attr(c,t).css("z-index",g.modal.zindex+e(x+"["+c+"]").length).unbind(f).unbind(l).bind("tooltipshow"+f+" tooltiphide"+f,function(t,n,r){var s=t.originalEvent;if(t.target===u[0])if(s&&t.type==="tooltiphide"&&/mouse(leave|enter)/.test(s.type)&&e(s.relatedTarget).closest(v[0]).length)try{t.preventDefault()}catch(o){}else(!s||s&&!s.solo)&&i[t.type.replace("tooltip","")](t,r)}).bind("tooltipfocus"+f,function(t){if(t.isDefaultPrevented()||t.target!==u[0])return;var n=e(x).filter("["+c+"]"),r=g.modal.zindex+n.length,i=parseInt(u[0].style.zIndex,10);v[0].style.zIndex=r-2,n.each(function(){this.style.zIndex>i&&(this.style.zIndex-=1)}),n.end().filter("."+N).qtip("blur",t.originalEvent),u.addClass(N)[0].style.zIndex=r;try{t.preventDefault()}catch(s){}}).bind("tooltiphide"+f,function(t){t.target===u[0]&&e("["+c+"]").filter(":visible").not(u).last().qtip("focus",t)}),s.escape&&e(document).unbind(l).bind("keydown"+l,function(e){e.keyCode===27&&u.hasClass(N)&&r.hide(e)}),s.blur&&o.overlay.unbind(l).bind("click"+l,function(e){u.hasClass(N)&&r.hide(e)}),m(),i):i},create:function(){function r(){v.css({height:e(window).height(),width:e(window).width()})}var t=e(a);return t.length?o.overlay=t.insertAfter(e(x).last()):(v=o.overlay=e("<div />",{id:a.substr(1),html:"<div></div>",mousedown:function(){return n}}).hide().insertAfter(e(x).last()),e(window).unbind(f).bind("resize"+f,r),r(),v)},toggle:function(r,o,a){if(r&&r.isDefaultPrevented())return i;var f=s.effect,p=o?"show":"hide",d=v.is(":visible"),m=e("["+c+"]").filter(":visible").not(u),g;return v||(v=i.create()),v.is(":animated")&&d===o||!o&&m.length?i:(o?(v.css({left:0,top:0}),v.toggleClass("blurs",s.blur),s.stealfocus!==n&&(h.bind("focusin"+l,b),y(e("body *")))):h.unbind("focusin"+l),v.stop(t,n),e.isFunction(f)?f.call(v,o):f===n?v[p]():v.fadeTo(parseInt(a,10)||90,o?1:0,function(){o||e(this).hide()}),o||v.queue(function(e){v.css({left:"",top:""}),e()}),i)},show:function(e,n){return i.toggle(e,t,n)},hide:function(e,t){return i.toggle(e,n,t)},destroy:function(){var t=v;return t&&(t=e("["+c+"]").not(u).length<1,t?(o.overlay.remove(),e(document).unbind(f)):o.overlay.unbind(f+r.id),h.undelegate("*","focusin"+l)),u.removeAttr(c).unbind(f)}}),i.init()}function q(t){var n=this,r=t.elements,i=r.tooltip,s=".bgiframe-"+t.id;e.extend(n,{init:function(){r.bgiframe=e('<iframe class="ui-tooltip-bgiframe" frameborder="0" tabindex="-1" src="javascript:\'\';"  style="display:block; position:absolute; z-index:-1; filter:alpha(opacity=0); -ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=0)";"></iframe>'),r.bgiframe.appendTo(i),i.bind("tooltipmove"+s,n.adjust)},adjust:function(){var e=t.get("dimensions"),n=t.plugins.tip,s=r.tip,o,u;u=parseInt(i.css("border-left-width"),10)||0,u={left:-u,top:-u},n&&s&&(o=n.corner.precedance==="x"?["width","left"]:["height","top"],u[o[1]]-=s[o[0]]()),r.bgiframe.css(u).css(e)},destroy:function(){r.bgiframe.remove(),i.unbind(s)}}),n.init()}var t=!0,n=!1,r=null,i="x",s="y",o="width",u="height",a="top",f="left",l="bottom",c="right",h="center",p="flip",d="flipinvert",v="shift",m,g,y,b={},w="ui-tooltip",E="ui-widget",S="ui-state-disabled",x="div.qtip."+w,T=w+"-default",N=w+"-focus",C=w+"-hover",k=w+"-fluid",L="-31000px",A="_replacedByqTip",O="oldtitle",M;m=e.fn.qtip=function(i,s,o){var u=(""+i).toLowerCase(),a=r,f=e.makeArray(arguments).slice(1),l=f[f.length-1],c=this[0]?e.data(this[0],"qtip"):r;if(!arguments.length&&c||u==="api")return c;if("string"==typeof i)return this.each(function(){var r=e.data(this,"qtip");if(!r)return t;l&&l.timeStamp&&(r.cache.event=l);if(u!=="option"&&u!=="options"||!s)r[u]&&r[u].apply(r[u],f);else{if(!e.isPlainObject(s)&&o===undefined)return a=r.get(s),n;r.set(s,o)}}),a!==r?a:this;if("object"==typeof i||!arguments.length)return c=D(e.extend(t,{},i)),m.bind.call(this,c,l)},m.bind=function(r,i){return this.each(function(s){function h(t){function r(){l.render(typeof t=="object"||o.show.ready),u.show.add(u.hide).unbind(f)}if(l.cache.disabled)return n;l.cache.event=e.extend({},t),l.cache.target=t?e(t.target):[undefined],o.show.delay>0?(clearTimeout(l.timers.show),l.timers.show=setTimeout(r,o.show.delay),a.show!==a.hide&&u.hide.bind(a.hide,function(){clearTimeout(l.timers.show)})):r()}var o,u,a,f,l,c;c=e.isArray(r.id)?r.id[s]:r.id,c=!c||c===n||c.length<1||b[c]?m.nextid++:b[c]=c,f=".qtip-"+c+"-create",l=H.call(this,c,r);if(l===n)return t;o=l.options,e.each(g,function(){this.initialize==="initialize"&&this(l)}),u={show:o.show.target,hide:o.hide.target},a={show:e.trim(""+o.show.event).replace(/ /g,f+" ")+f,hide:e.trim(""+o.hide.event).replace(/ /g,f+" ")+f},/mouse(over|enter)/i.test(a.show)&&!/mouse(out|leave)/i.test(a.hide)&&(a.hide+=" mouseleave"+f),u.show.bind("mousemove"+f,function(e){y={pageX:e.pageX,pageY:e.pageY,type:"mousemove"},l.cache.onTarget=t}),u.show.bind(a.show,h),(o.show.ready||o.prerender)&&h(i)})},g=m.plugins={Corner:function(e){e=(""+e).replace(/([A-Z])/," $1").replace(/middle/gi,h).toLowerCase(),this.x=(e.match(/left|right/i)||e.match(/center/)||["inherit"])[0].toLowerCase(),this.y=(e.match(/top|bottom|center/i)||["inherit"])[0].toLowerCase();var t=e.charAt(0);this.precedance=t==="t"||t==="b"?s:i,this.string=function(){return this.precedance===s?this.y+this.x:this.x+this.y},this.abbrev=function(){var e=this.x.substr(0,1),t=this.y.substr(0,1);return e===t?e:this.precedance===s?t+e:e+t},this.invertx=function(e){this
.x=this.x===f?c:this.x===c?f:e||this.x},this.inverty=function(e){this.y=this.y===a?l:this.y===l?a:e||this.y},this.clone=function(){return{x:this.x,y:this.y,precedance:this.precedance,string:this.string,abbrev:this.abbrev,clone:this.clone,invertx:this.invertx,inverty:this.inverty}}},offset:function(t,n){function f(e,t){r.left+=t*e.scrollLeft(),r.top+=t*e.scrollTop()}var r=t.offset(),i=t.closest("body")[0],s=n,o,u,a;if(s){do s.css("position")!=="static"&&(u=s.position(),r.left-=u.left+(parseInt(s.css("borderLeftWidth"),10)||0)+(parseInt(s.css("marginLeft"),10)||0),r.top-=u.top+(parseInt(s.css("borderTopWidth"),10)||0)+(parseInt(s.css("marginTop"),10)||0),!o&&(a=s.css("overflow"))!=="hidden"&&a!=="visible"&&(o=s));while((s=e(s[0].offsetParent)).length);o&&o[0]!==i&&f(o,1)}return r},iOS:parseFloat((""+(/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))||n,fn:{attr:function(t,n){if(this.length){var r=this[0],i="title",s=e.data(r,"qtip");if(t===i&&s&&"object"==typeof s&&s.options.suppress)return arguments.length<2?e.attr(r,O):(s&&s.options.content.attr===i&&s.cache.attr&&s.set("content.text",n),this.attr(O,n))}return e.fn["attr"+A].apply(this,arguments)},clone:function(t){var n=e([]),r="title",i=e.fn["clone"+A].apply(this,arguments);return t||i.filter("["+O+"]").attr("title",function(){return e.attr(this,O)}).removeAttr(O),i}}},e.each(g.fn,function(n,r){if(!r||e.fn[n+A])return t;var i=e.fn[n+A]=e.fn[n];e.fn[n]=function(){return r.apply(this,arguments)||i.apply(this,arguments)}}),e.ui||(e["cleanData"+A]=e.cleanData,e.cleanData=function(t){for(var n=0,r;(r=t[n])!==undefined;n++)try{e(r).triggerHandler("removeqtip")}catch(i){}e["cleanData"+A](t)}),m.version="@VERSION",m.nextid=0,m.inactiveEvents="click dblclick mousedown mouseup mousemove mouseleave mouseenter".split(" "),m.zindex=15e3,m.defaults={prerender:n,id:n,overwrite:t,suppress:t,content:{text:t,attr:"title",title:{text:n,button:n}},position:{my:"top left",at:"bottom right",target:n,container:n,viewport:n,adjust:{x:0,y:0,mouse:t,resize:t,method:"flip flip"},effect:function(t,r,i){e(this).animate(r,{duration:200,queue:n})}},show:{target:n,event:"mouseenter",effect:t,delay:90,solo:n,ready:n,autofocus:n},hide:{target:n,event:"mouseleave",effect:t,delay:0,fixed:n,inactive:n,leave:"window",distance:n},style:{classes:"",widget:n,width:n,height:n,def:t},events:{render:r,move:r,show:r,hide:r,toggle:r,visible:r,hidden:r,focus:r,blur:r}},g.svg=function(t,n,r,i){var s=e(document),o=n[0],u={width:0,height:0,position:{top:1e10,left:1e10}},a,f,l,c,h;while(!o.getBBox)o=o.parentNode;if(o.getBBox&&o.parentNode){a=o.getBBox(),f=o.getScreenCTM(),l=o.farthestViewportElement||o;if(!l.createSVGPoint)return u;c=l.createSVGPoint(),c.x=a.x,c.y=a.y,h=c.matrixTransform(f),u.position.left=h.x,u.position.top=h.y,c.x+=a.width,c.y+=a.height,h=c.matrixTransform(f),u.width=h.x-u.position.left,u.height=h.y-u.position.top,u.position.left+=s.scrollLeft(),u.position.top+=s.scrollTop()}return u},g.ajax=function(e){var t=e.plugins.ajax;return"object"==typeof t?t:e.plugins.ajax=new B(e)},g.ajax.initialize="render",g.ajax.sanitize=function(e){var t=e.content,n;t&&"ajax"in t&&(n=t.ajax,typeof n!="object"&&(n=e.content.ajax={url:n}),"boolean"!=typeof n.once&&n.once&&(n.once=!!n.once))},e.extend(t,m.defaults,{content:{ajax:{loading:t,once:t}}}),g.tip=function(e){var t=e.plugins.tip;return"object"==typeof t?t:e.plugins.tip=new F(e)},g.tip.initialize="render",g.tip.sanitize=function(e){var n=e.style,r;n&&"tip"in n&&(r=e.style.tip,typeof r!="object"&&(e.style.tip={corner:r}),/string|boolean/i.test(typeof r.corner)||(r.corner=t),typeof r.width!="number"&&delete r.width,typeof r.height!="number"&&delete r.height,typeof r.border!="number"&&r.border!==t&&delete r.border,typeof r.offset!="number"&&delete r.offset)},e.extend(t,m.defaults,{style:{tip:{corner:t,mimic:n,width:6,height:6,border:t,offset:0}}}),g.modal=function(e){var t=e.plugins.modal;return"object"==typeof t?t:e.plugins.modal=new I(e)},g.modal.initialize="render",g.modal.sanitize=function(e){e.show&&(typeof e.show.modal!="object"?e.show.modal={on:!!e.show.modal}:typeof e.show.modal.on=="undefined"&&(e.show.modal.on=t))},g.modal.zindex=m.zindex+1e3,g.modal.focusable=["a[href]","area[href]","input","select","textarea","button","iframe","object","embed","[tabindex]","[contenteditable]"],e.extend(t,m.defaults,{show:{modal:{on:n,effect:t,blur:t,stealfocus:t,escape:t}}}),g.viewport=function(e,t,n,r,p,m,g){function H(e,n,r,i,s,o,u,a,f){var l=t[s],c=E[e],p=S[e],m=r===v,g=-L.offset[s]+k.offset[s]+k["scroll"+s],y=c===s?f:c===o?-f:-f/2,b=p===s?a:p===o?-a:-a/2,w=O&&O.size?O.size[u]||0:0,x=O&&O.corner&&O.corner.precedance===e&&!m?w:0,T=g-l+x,N=l+f-k[u]-g+x,C=y-(E.precedance===e||c===E[n]?b:0)-(p===h?a/2:0);return m?(x=O&&O.corner&&O.corner.precedance===n?w:0,C=(c===s?1:-1)*y-x,t[s]+=T>0?T:N>0?-N:0,t[s]=Math.max(-L.offset[s]+k.offset[s]+(x&&O.corner[e]===h?O.offset:0),l-C,Math.min(Math.max(-L.offset[s]+k.offset[s]+k[u],l+C),t[s]))):(i*=r===d?2:0,T>0&&(c!==s||N>0)?(t[s]-=C+i,D["invert"+e](s)):N>0&&(c!==o||T>0)&&(t[s]-=(c===h?-C:C)+i,D["invert"+e](o)),t[s]<g&&-t[s]>N&&(t[s]=l,D=undefined)),t[s]-l}var y=n.target,b=e.elements.tooltip,E=n.my,S=n.at,x=n.adjust,T=x.method.split(" "),N=T[0],C=T[1]||T[0],k=n.viewport,L=n.container,A=e.cache,O=e.plugins.tip,M={left:0,top:0},_,D,P;if(!k.jquery||y[0]===window||y[0]===document.body||x.method==="none")return M;_=b.css("position")==="fixed",k={elem:k,height:k[(k[0]===window?"h":"outerH")+"eight"](),width:k[(k[0]===window?"w":"outerW")+"idth"](),scrollleft:_?0:k.scrollLeft(),scrolltop:_?0:k.scrollTop(),offset:k.offset()||{left:0,top:0}},L={elem:L,scrollLeft:L.scrollLeft(),scrollTop:L.scrollTop(),offset:L.offset()||{left:0,top:0}};if(N!=="shift"||C!=="shift")D=E.clone();return M={left:N!=="none"?H(i,s,N,x.x,f,c,o,r,m):0,top:C!=="none"?H(s,i,C,x.y,a,l,u,p,g):0},D&&A.lastClass!==(P=w+"-pos-"+D.abbrev())&&b.removeClass(e.cache.lastClass).addClass(e.cache.lastClass=P),M},g.imagemap=function(t,n,r,i){function E(e,t,n){var r=0,i=1,s=1,o=0,u=0,p=e.width,d=e.height;while(p>0&&d>0&&i>0&&s>0){p=Math.floor(p/2),d=Math.floor(d/2),n.x===f?i=p:n.x===c?i=e.width-p:i+=Math.floor(p/2),n.y===a?s=d:n.y===l?s=e.height-d:s+=Math.floor(d/2),r=t.length;while(r--){if(t.length<2)break;o=t[r][0]-e.position.left,u=t[r][1]-e.position.top,(n.x===f&&o>=i||n.x===c&&o<=i||n.x===h&&(o<i||o>e.width-i)||n.y===a&&u>=s||n.y===l&&u<=s||n.y===h&&(u<s||u>e.height-s))&&t.splice(r,1)}}return{left:t[0][0],top:t[0][1]}}n.jquery||(n=e(n));var s=t.cache.areas={},o=(n[0].shape||n.attr("shape")).toLowerCase(),u=n[0].coords||n.attr("coords"),p=u.split(","),d=[],v=e('img[usemap="#'+n.parent("map").attr("name")+'"]'),m=v.offset(),g={width:0,height:0,position:{top:1e10,right:0,bottom:0,left:1e10}},y=0,b=0,w;m.left+=Math.ceil((v.outerWidth()-v.width())/2),m.top+=Math.ceil((v.outerHeight()-v.height())/2);if(o==="poly"){y=p.length;while(y--)b=[parseInt(p[--y],10),parseInt(p[y+1],10)],b[0]>g.position.right&&(g.position.right=b[0]),b[0]<g.position.left&&(g.position.left=b[0]),b[1]>g.position.bottom&&(g.position.bottom=b[1]),b[1]<g.position.top&&(g.position.top=b[1]),d.push(b)}else{y=-1;while(y++<p.length)d.push(parseInt(p[y],10))}switch(o){case"rect":g={width:Math.abs(d[2]-d[0]),height:Math.abs(d[3]-d[1]),position:{left:Math.min(d[0],d[2]),top:Math.min(d[1],d[3])}};break;case"circle":g={width:d[2]+2,height:d[2]+2,position:{left:d[0],top:d[1]}};break;case"poly":g.width=Math.abs(g.position.right-g.position.left),g.height=Math.abs(g.position.bottom-g.position.top),r.abbrev()==="c"?g.position={left:g.position.left+g.width/2,top:g.position.top+g.height/2}:(s[r+u]||(g.position=E(g,d.slice(),r),i&&(i[0]==="flip"||i[1]==="flip")&&(g.offset=E(g,d.slice(),{x:r.x===f?c:r.x===c?f:h,y:r.y===a?l:r.y===l?a:h}),g.offset.left-=g.position.left,g.offset.top-=g.position.top),s[r+u]=g),g=s[r+u]),g.width=g.height=0}return g.position.left+=m.left,g.position.top+=m.top,g},g.bgiframe=function(t){var r=e.browser,i=t.plugins.bgiframe;return e("select, object").length<1||!r.msie||(""+r.version).charAt(0)!=="6"?n:"object"==typeof i?i:t.plugins.bgiframe=new q(t)},g.bgiframe.initialize="render"}),function(e,t){function _(e,t,n){this._d=e,this._isUTC=!!t,this._a=e._a||null,e._a=null,this._lang=n||!1}function D(e){var t=this._data={},n=e.years||e.y||0,r=e.months||e.M||0,i=e.weeks||e.w||0,s=e.days||e.d||0,o=e.hours||e.h||0,u=e.minutes||e.m||0,a=e.seconds||e.s||0,f=e.milliseconds||e.ms||0;this._milliseconds=f+a*1e3+u*6e4+o*36e5,this._days=s+i*7,this._months=r+n*12,t.milliseconds=f%1e3,a+=P(f/1e3),t.seconds=a%60,u+=P(a/60),t.minutes=u%60,o+=P(u/60),t.hours=o%24,s+=P(o/24),s+=i*7,t.days=s%30,r+=P(s/30),t.months=r%12,n+=P(r/12),t.years=n,this._lang=!1}function P(e){return e<0?Math.ceil(e):Math.floor(e)}function H(e,t){var n=e+"";while(n.length<t)n="0"+n;return n}function B(e,t,n){var r=t._milliseconds,i=t._days,s=t._months,o;r&&e._d.setTime(+e+r*n),i&&e.date(e.date()+i*n),s&&(o=e.date(),e.date(1).month(e.month()+s*n).date(Math.min(o,e.daysInMonth())))}function j(e){return Object.prototype.toString.call(e)==="[object Array]"}function F(e,t){var n=Math.min(e.length,t.length),r=Math.abs(e.length-t.length),i=0,s;for(s=0;s<n;s++)~~e[s]!==~~t[s]&&i++;return i+r}function I(t,n){var r,i;for(r=1;r<7;r++)t[r]=t[r]==null?r===2?1:0:t[r];return t[7]=n,i=new e(0),n?(i.setUTCFullYear(t[0],t[1],t[2]),i.setUTCHours(t[3],t[4],t[5],t[6])):(i.setFullYear(t[0],t[1],t[2]),i.setHours(t[3],t[4],t[5],t[6])),i._a=t,i}function q(e,t){var r,i,s=[];!t&&a&&(t=require("./lang/"+e));for(r=0;r<f.length;r++)t[f[r]]=t[f[r]]||o.en[f[r]];for(r=0;r<12;r++)i=n([2e3,r]),s[r]=new RegExp("^"+(t.months[r]||t.months(i,""))+"|^"+(t.monthsShort[r]||t.monthsShort(i,"")).replace(".",""),"i");return t.monthsParse=t.monthsParse||s,o[e]=t,t}function R(e){var t=typeof e=="string"&&e||e&&e._lang||null;return t?o[t]||q(t):n}function U(e){return A[e]?"'+("+A[e]+")+'":e.replace(p,"").replace(/\\?'/g,"\\'")}function z(e){return R().longDateFormat[e]||e}function W(e){var t="var a,b;return '"+e.replace(c,U)+"';",n=Function;return new n("t","v","o","p","m",t)}function X(e){return L[e]||(L[e]=W(e)),L[e]}function V(e,t){function r(r,i){return n[r].call?n[r](e,t):n[r][i]}var n=R(e);while(h.test(t))t=t.replace(h,z);return L[t]||(L[t]=W(t)),L[t](e,r,n.ordinal,H,n.meridiem)}function $(e){switch(e){case"DDDD":return g;case"YYYY":return y;case"S":case"SS":case"SSS":case"DDD":return m;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":case"a":case"A":return b;case"Z":case"ZZ":return w;case"T":return E;case"MM":case"DD":case"YY":case"HH":case"hh":case"mm":case"ss":case"M":case"D":case"d":case"H":case"h":case"m":case"s":return v;default:return new RegExp(e.replace("\\",""))}}function J(e,t,n,r){var i;switch(e){case"M":case"MM":n[1]=t==null?0:~~t-1;break;case"MMM":case"MMMM":for(i=0;i<12;i++)if(R().monthsParse[i].test(t)){n[1]=i;break}break;case"D":case"DD":case"DDD":case"DDDD":t!=null&&(n[2]=~~t);break;case"YY":t=~~t,n[0]=t+(t>70?1900:2e3);break;case"YYYY":n[0]=~~Math.abs(t);break;case"a":case"A":r.isPm=(t+"").toLowerCase()==="pm";break;case"H":case"HH":case"h":case"hh":n[3]=~~t;break;case"m":case"mm":n[4]=~~t;break;case"s":case"ss":n[5]=~~t;break;case"S":case"SS":case"SSS":n[6]=~~(("0."+t)*1e3);break;case"Z":case"ZZ":r.isUTC=!0,i=(t+"").match(N),i&&i[1]&&(r.tzh=~~i[1]),i&&i[2]&&(r.tzm=~~i[2]),i&&i[0]==="+"&&(r.tzh=-r.tzh,r.tzm=-r.tzm)}}function K(e,t){var n=[0,0,1,0,0,0,0],r={tzh:0,tzm:0},i=t.match(c),s,o;for(s=0;s<i.length;s++)o=($(i[s]).exec(e)||[])[0],e=e.replace($(i[s]),""),J(i[s],o,n,r);return r.isPm&&n[3]<12&&(n[3]+=12),r.isPm===!1&&n[3]===12&&(n[3]=0),n[3]+=r.tzh,n[4]+=r.tzm,I(n,r.isUTC)}function Q(e,t){var n,r=e.match(d)||[],i,s=99,o,u,a;for(o=0;o<t.length;o++)u=K(e,t[o]),i=V(new _(u),t[o]).match(d)||[],a=F(r,i),a<s&&(s=a,n=u);return n}function G(t){var n="YYYY-MM-DDT",r;if(S.exec(t)){for(r=0;r<4;r++)if(T[r][1].exec(t)){n+=T[r][0];break}return w.exec(t)?K(t,n+" Z"):K(t,n)}return new e(t)}function Y(e,t,n,r,i){var s=i.relativeTime[e];return typeof s=="function"?s(t||1,!!n,e,r):s.replace(/%d/i,t||1)}function Z(e,t,n){var r=i(Math.abs(e)/1e3),s=i(r/60),o=i(s/60),u=i(o/24),a=i(u/365),f=r<45&&["s",r]||s===1&&["m"]||s<45&&["mm",s]||o===1&&["h"]||o<22&&["hh",o]||u===1&&["d"]||u<=25&&["dd",u]||u<=45&&["M"]||u<345&&["MM",i(u/30)]||a===1&&["y"]||["yy",a];return f[2]=t,f[3]=e>0,f[4]=n,Y.apply({},f)}function et(e,t){n.fn[e]=function(e){var n=this._isUTC?"UTC":"";return e!=null?(this._d["set"+n+t](e),this):this._d["get"+n+t]()}}function tt(e){n.duration.fn[e]=function(){return this._data[e]}}function nt(e,t){n.duration.fn["as"+e]=function(){return+this/t}}var n,r="1.7.0",i=Math.round,s,o={},u="en",a=typeof module!="undefined"&&module.exports,f="months|monthsShort|weekdays|weekdaysShort|weekdaysMin|longDateFormat|calendar|relativeTime|ordinal|meridiem".split("|"),l=/^\/?Date\((\-?\d+)/i,c=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|YYYY|YY|a|A|hh?|HH?|mm?|ss?|SS?S?|zz?|ZZ?)/g,h=/(LT|LL?L?L?)/g,p=/(^\[)|(\\)|\]$/g,d=/([0-9a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+)/gi,v=/\d\d?/,m=/\d{1,3}/,g=/\d{3}/,y=/\d{1,4}/,b=/[0-9a-z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+/i,w=/Z|[\+\-]\d\d:?\d\d/i,E=/T/i,S=/^\s*\d{4}-\d\d-\d\d(T(\d\d(:\d\d(:\d\d(\.\d\d?\d?)?)?)?)?([\+\-]\d\d:?\d\d)?)?/,x="YYYY-MM-DDTHH:mm:ssZ",T=[["HH:mm:ss.S",/T\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/T\d\d:\d\d:\d\d/],["HH:mm",/T\d\d:\d\d/],["HH",/T\d\d/]],N=/([\+\-]|\d\d)/gi,C="Month|Date|Hours|Minutes|Seconds|Milliseconds".split("|"),k={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},L={},A={M:"(a=t.month()+1)",MMM:'v("monthsShort",t.month())',MMMM:'v("months",t.month())',D:"(a=t.date())",DDD:"(a=new Date(t.year(),t.month(),t.date()),b=new Date(t.year(),0,1),a=~~(((a-b)/864e5)+1.5))",d:"(a=t.day())",dd:'v("weekdaysMin",t.day())',ddd:'v("weekdaysShort",t.day())',dddd:'v("weekdays",t.day())',w:"(a=new Date(t.year(),t.month(),t.date()-t.day()+5),b=new Date(a.getFullYear(),0,4),a=~~((a-b)/864e5/7+1.5))",YY:"p(t.year()%100,2)",YYYY:"p(t.year(),4)",a:"m(t.hours(),t.minutes(),!0)",A:"m(t.hours(),t.minutes(),!1)",H:"t.hours()",h:"t.hours()%12||12",m:"t.minutes()",s:"t.seconds()",S:"~~(t.milliseconds()/100)",SS:"p(~~(t.milliseconds()/10),2)",SSS:"p(t.milliseconds(),3)",Z:'((a=-t.zone())<0?((a=-a),"-"):"+")+p(~~(a/60),2)+":"+p(~~a%60,2)',ZZ:'((a=-t.zone())<0?((a=-a),"-"):"+")+p(~~(10*a/6),4)'},O="DDD w M D d".split(" "),M="M D H h m s w".split(" ");while(O.length)s=O.pop(),A[s+"o"]=A[s]+"+o(a)";while(M.length)s=M.pop(),A[s+s]="p("+A[s]+",2)";A.DDDD="p("+A.DDD+",3)",n=function(r,i){if(r===null||r==="")return null;var s,o;return n.isMoment(r)?new _(new e(+r._d),r._isUTC,r._lang):(i?j(i)?s=Q(r,i):s=K(r,i):(o=l.exec(r),s=r===t?new e:o?new e(+o[1]):r instanceof e?r:j(r)?I(r):typeof r=="string"?G(r):new e(r)),new _(s))},n.utc=function(e,t){return j(e)?new _(I(e,!0),!0):(typeof e=="string"&&!w.exec(e)&&(e+=" +0000",t&&(t+=" Z")),n(e,t).utc())},n.unix=function(e){return n(e*1e3)},n.duration=function(e,t){var r=n.isDuration(e),i=typeof e=="number",s=r?e._data:i?{}:e,o;return i&&(t?s[t]=e:s.milliseconds=e),o=new D(s),r&&(o._lang=e._lang),o},n.humanizeDuration=function(e,t,r){return n.duration(e,t===!0?null:t).humanize(t===!0?!0:r)},n.version=r,n.defaultFormat=x,n.lang=function(e,t){var r;if(!e)return u;(t||!o[e])&&q(e,t);if(o[e]){for(r=0;r<f.length;r++)n[f[r]]=o[e][f[r]];n.monthsParse=o[e].monthsParse,u=e}},n.langData=R,n.isMoment=function(e){return e instanceof _},n.isDuration=function(e){return e instanceof D},n.lang("en",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},meridiem:function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinal:function(e){var t=e%10;return~~(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th"}}),n.fn=_.prototype={clone:function(){return n(this)},valueOf:function(){return+this._d},unix:function(){return Math.floor(+this._d/1e3)},toString:function(){return this._d.toString()},toDate:function(){return this._d},toArray:function(){var e=this;return[e.year(),e.month(),e.date(),e.hours(),e.minutes(),e.seconds(),e.milliseconds(),!!this._isUTC]},isValid:function(){return this._a?!F(this._a,(this._a[7]?n.utc(this):this).toArray()):!isNaN(this._d.getTime())},utc:function(){return this._isUTC=!0,this},local:function(){return this._isUTC=!1,this},format:function(e){return V(this,e?e:n.defaultFormat)},add:function(e,t){var r=t?n.duration(+t,e):n.duration(e);return B(this,r,1),this},subtract:function(e,t){var r=t?n.duration(+t,e):n.duration(e);return B(this,r,-1),this},diff:function(e,t,r){var s=this._isUTC?n(e).utc():n(e).local(),o=(this.zone()-s.zone())*6e4,u=this._d-s._d-o,a=this.year()-s.year(),f=this.month()-s.month(),l=this.date()-s.date(),c;return t==="months"?c=a*12+f+l/30:t==="years"?c=a+(f+l/30)/12:c=t==="seconds"?u/1e3:t==="minutes"?u/6e4:t==="hours"?u/36e5:t==="days"?u/864e5:t==="weeks"?u/6048e5:u,r?c:i(c)},from:function(e,t){return n.duration(this.diff(e)).lang(this._lang).humanize(!t)},fromNow:function(e){return this.from(n(),e)},calendar:function(){var e=this.diff(n().sod(),"days",!0),t=this.lang().calendar,r=t.sameElse,i=e<-6?r:e<-1?t.lastWeek:e<0?t.lastDay:e<1?t.sameDay:e<2?t.nextDay:e<7?t.nextWeek:r;return this.format(typeof i=="function"?i.apply(this):i)},isLeapYear:function(){var e=this.year();return e%4===0&&e%100!==0||e%400===0},isDST:function(){return this.zone()<n([this.year()]).zone()||this.zone()<n([this.year(),5]).zone()},day:function(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return e==null?t:this.add({d:e-t})},startOf:function(e){switch(e.replace(/s$/,"")){case"year":this.month(0);case"month":this.date(1);case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return this},endOf:function(e){return this.startOf(e).add(e.replace(/s?$/,"s"),1).subtract("ms",1)},sod:function(){return this.clone().startOf("day")},eod:function(){return this.clone().endOf("day")},zone:function(){return this._isUTC?0:this._d.getTimezoneOffset()},daysInMonth:function(){return n.utc([this.year(),this.month()+1,0]).date()},lang:function(e){return e===t?R(this):(this._lang=e,this)}};for(s=0;s<C.length;s++)et(C[s].toLowerCase(),C[s]);et("year","FullYear"),n.duration.fn=D.prototype={weeks:function(){return P(this.days()/7)},valueOf:function(){return this._milliseconds+this._days*864e5+this._months*2592e6},humanize:function(e){var t=+this,n=this.lang().relativeTime,r=Z(t,!e,this.lang());return e&&(r=(t<=0?n.past:n.future).replace(/%s/i,r)),r},lang:n.fn.lang};for(s in k)k.hasOwnProperty(s)&&(nt(s,k[s]),tt(s.toLowerCase()));nt("Weeks",6048e5),a&&(module.exports=n),typeof ender=="undefined"&&(this.moment=n),typeof define=="function"&&define.amd&&define("moment",[],function(){return n})}.call(this,Date),function(){var $,AnnotationMetric,AnnotationSeries,AnnotationStream,AnnotationTooltips,AnnotationsRenderer,CounterSeries,CounterSummarySeries,GaugeSeries,Graph,Instrument,LineGraph,Metric,Module,MutableInstrument,MutableMetric,Stream,SummaryMetric,SummarySeries,TimeSeries,ajaxProperties,autoRefreshProperties,colorProperties,dateToEpoch,getBasicAuth,graphProperties,instrumentGraphProperties,instrumentThemeProperties,intDataAttr,jQuery,moduleKeywords,randomHexValue,root,setAjaxAuth,streamProperties,yAxisProperties,_,_ref,_this=this,__indexOf=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},__hasProp={}.hasOwnProperty,__extends=function(e,t){function r(){this.constructor=e}for(var n in t)__hasProp.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},__bind=function(e,t){return function(){return e.apply(t,arguments)}};root=typeof exports!="undefined"&&exports!==null?exports:this,root.jQuery!=null&&($=root.jQuery.noConflict(!0)),jQuery=$,root._!=null&&(_=root._.noConflict()),Math.randomFromTo=function(e,t){return Math.floor(Math.random()*(t-e+1)+e)},String.toUnicode=function(e){var t,n=this;return t=e,e.replace(/&#([^\s]*);/g,function(e,n){var r;return r=String.fromCharCode(Number(n)),t=t.replace(new RegExp(e,"g"),r)}),t},Object.size=function(e){var t,n,r;n=0;for(t in e)r=e[t],e.hasOwnProperty(t)&&n++;return n},Object["delete"]=function(e,t){var n,r,i;r={};for(n in e)i=e[n],n!==t&&(r[n]=i);return r},Date.shortMonth=function(e){switch(e){case 0:return"Jan";case 1:return"Feb";case 2:return"Mar";case 3:return"Apr";case 4:return"May";case 5:return"Jun";case 6:return"Jul";case 7:return"Aug";case 8:return"Sep";case 9:return"Oct";case 10:return"Nov";case 11:return"Dec";default:return!1}},$.fn.serializeObject=function(e){var t,n;return t=this.serializeArray(),n={},$.each(t,function(){var t;return this.value!=null?t=e?escape(this.value):this.value:t="",n[this.name]!=null?(n[this.name].push||(n[this.name]=[n[this.name]]),n[this.name].push(t)):n[this.name]=t}),n},randomHexValue=function(){var e,t,n,r,i;return t=Math.round(16777215*Math.random()).toString(16),n=6-t.length,r="000000",i=r.substring(0,n),e="#"+i+t,e},setAjaxAuth=function(e){return e.beforeSend=function(e){return e.setRequestHeader("Authorization","Basic "+Base64.encode(Metric.email+":"+Metric.password))}},dateToEpoch=function(e){return Math.floor(e.getTime()/1e3)},moduleKeywords=["extended","included"],Module=function(){function e(){}return e.extend=function(e){var t,n,r;for(t in e)n=e[t],__indexOf.call(moduleKeywords,t)<0&&(this[t]=n);return(r=e.extended)!=null&&r.apply(this),this},e.include=function(e){var t,n,r;for(t in e)n=e[t],__indexOf.call(moduleKeywords,t)<0&&(this.prototype[t]=n);return(r=e.included)!=null&&r.apply(this),this},e}(),colorProperties={availColors:function(){return this.hexColors||(this.hexColors=["#4CA8D7","#56BB89","#F29F35","#A97DC1","#D85F40","#FCFFF5","#9F906C","#D1DBBD","#FDFFBA","#91AA9D","#E7E9EE","#3E606F","#7798BF","#55BF3B","#DF5353","#aaeeee","#ff0066","#eeaaee","#55BF3B","#DF5353","#7798BF","#aaeeee"]),this.hexColors},newColor:function(){return this.availColors().length>0?this.availColors().shift():randomHexValue()},freeColor:function(e){if(_.indexOf(this.availColors(),e)!==-1)return;return this.availColors().unshift(e)},removeColor:function(e){return this.hexColors=_.without(this.availColors(),e)},getColor:function(e){var t;return(t=this.colorMap)==null&&(this.colorMap={}),this.colorMap[e]!=null?this.colorMap[e]:this.colorMap[e]=this.newColor()}},autoRefreshProperties={autoRefreshOn:function(){return this._intervalId!=null},autoRefreshPaused:function(){return this._autoRefreshPaused},startAutoRefresh:function(){if(this.autoRefreshOn())return;return this._intervalId=setInterval(this.autoRefresh,this.autoRefreshInterval()),this._autoRefreshPaused=!1,null},stopAutoRefresh:function(){if(!this.autoRefreshOn())return;return clearInterval(this._intervalId),this._intervalId=null,this._autoRefreshPaused=!1,null},pauseAutoRefresh:function(){if(!this.autoRefreshOn())return;if(this.autoRefreshPaused())return;return this.stopAutoRefresh(),this._autoRefreshPaused=!0,null},resumeAutoRefresh:function(){if(!this.autoRefreshPaused())return;return this._intervalId=setInterval(this.autoRefresh,this.autoRefreshInterval()),this._autoRefreshPaused=!1,null},currentTime:function(){return dateToEpoch(new Date)},updateInterval:function(){var e;return e=this.endTime-this.startTime,this.endTime=this.currentTime(),this.startTime=this.endTime-e,null}},ajaxProperties={ajaxConstructor:function(){return this.fetchRequests=[]},ajaxOptions:function(e,t,n){var r,i=this;return t==null&&(t=null),n==null&&(n=null),r={type:e,dataType:"json",url:this.ajaxApiUri()},this.email!=null&&this.apiToken!=null&&(r.beforeSend=function(e){var t;return e.setRequestHeader("Authorization","Basic "+Base64.encode(i.email+":"+i.apiToken)),t="JS-SDK/"+LibratoMetrics.version,e.setRequestHeader("Librato-User-Agent",t)}),t!=null&&e==="GET"?r.url+="?"+$.param(t):t!=null&&(r.contentType="application/json;charset=utf-8",r.processData=!1,r.data=JSON.stringify(t)),n!=null&&(r.success=n),r},ajax:function(e,t,n){var r,i,s,o=this;return t==null&&(t=null),n==null&&(n=null),i=this.ajaxOptions(e,t,n),s=0,r=function(t,n,r){var u,a;return e==="GET"&&s===0&&t.status>=500?(s+=1,$.ajax(i)):(e==="PUT"||e==="POST"?u="model:saveError":e==="GET"&&(u="model:loadError"),a="",r!=null&&(a+=""+r+": "),a+=t.responseText,o.$selector.trigger(u,{msg:a}))},i.error=r,$.ajax(i)},purgeCompletedFetchRequests:function(){var e=this;return $.each(this.fetchRequests,function(t,n){if(n.readyState===4)return e.fetchRequests=_.without(e.fetchRequests,n),null})},storeFetchRequest:function(e){return this.fetchRequests.push(e),this.purgeCompletedFetchRequests()},abortFetchRequests:function(){var e=this;return this.purgeCompletedFetchRequests(),$.each(this.fetchRequests,function(t,n){return n.abort(),e.fetchRequests=_.without(e.fetchRequests,n)})}},TimeSeries=function(){function e(e){e==null&&(e={}),this.lastAppendIndex=-1,e.txFunc!=null&&(this.txFunc=e.txFunc),this._period=null,e.period!=null&&(this._period=e.period),e.interpolateTimeStamps!=null?this.interpolateTimeStamps=e.interpolateTimeStamps:this.interpolateTimeStamps=!1}return e.prototype.setPeriod=function(e){this._period=e},e.prototype.period=function(){return this._period},e.prototype.setTxFunc=function(e){this.txFunc=e},e.prototype.setInterpolateTimeStamps=function(e){this.interpolateTimeStamps=e},e.prototype.hasData=function(){return this.rawData().length>0},e.prototype.startTime=function(){return this.rawData().length>0?_.first(this.rawData())[0]:null},e.prototype.startTimeMs=function(){return this.startTime()!=null?this.startTime()*1e3:null},e.prototype.endTime=function(){return this.rawData().length>0?_.last(this.rawData())[0]:null},e.prototype.endTimeMs=function(){return this.endTime()!=null?this.endTime()*1e3:null},e.prototype.duration=function(){return this.rawData().length>0?_.last(this.rawData())[0]-_.first(this.rawData())[0]+1:0},e.prototype.prune=function(e){while(this.rawData().length>0&&this.rawData()[0][0]<e)this.shiftRawData(),this.lastAppendIndex-=1;return null},e.prototype.overwrite=function(e){var t,n,r,i,s,o,u,a;a=[];for(i=0,o=e.length;i<o;i++){n=e[i],r=parseInt(n.measure_time);for(t=s=u=this.rawData().length-1;u<=0?s<=0:s>=0;t=u<=0?++s:--s){if(this.rawData()[t][0]===r){this.setMeasurement(t,n);break}if(this.rawData()[t][0]<r)break}a.push(null)}return a},e.prototype.append=function(e){var t,n,r,i,s,o;if(e.length===0)return;t=this.endTime();if(t!=null&&e[0].measure_time<=t){r=[];while(e.length&&e[0].measure_time<=t)r.push(e.shift());this.overwrite(r)}if(!e.length)return;this.lastAppendIndex=this.rawData().length,o=[];for(i=0,s=e.length;i<s;i++)n=e[i],o.push(this.addMeasurement(n));return o},e.prototype.interpolateTime=function(e){var t,n,r;return this.interpolateTimeStamps!==!0?e:(r=this.period(),r!=null&&r>1?(t=e%r,n=e-t,t>r/2?n+r:n):e)},e.prototype.useTxFunc=function(){return this.txFunc!=null},e.prototype.txPoint=function(e){var t,n;return t=e[0],t=this.interpolateTime(t),t*=1e3,n=e[1],n!=null&&this.useTxFunc()&&(n=this.txFunc(n)),[t,n]},e.prototype.padSeries=function(e,t,n){var r,i,s,o;i=(t-e)/this.period(),o=[];for(r=s=0;0<=i?s<=i:s>=i;r=0<=i?++s:--s)o.push([(e+r*this.period())*1e3,n]);return o},e.prototype.mapSeriesToInterval=function(e,t){var n,r,i,s,o;return e.interval==null||e.fillVal==null?t:(s=[],n=[],i=this.period()*2,e.interval.endTime!=null&&(o=_.last(t)[0]/1e3+this.period(),r=this.interpolateTime(e.interval.endTime)-i,r>=o&&(n=this.padSeries(o,r,e.fillVal))),e.interval.startTime!=null&&(o=this.interpolateTime(e.interval.startTime)+i,r=t[0][0]/1e3-this.period(),o<=r&&(s=this.padSeries(o,r,e.fillVal))),s.concat(t,n))},e.prototype.fillSeriesGap=function(e,t,n,r){var i;if(n!=null){i=[];while(t>e+this.period())e+=this.period(),i.push(r.push(this.txPoint([e,n])));return i}if(t>e+this.period()*2)return e+=this.period(),r.push(this.txPoint([e,null]))},e.prototype.fillSeries=function(e,t){var n,r,i,s,o;n=[],r=e[0][0]/1e3-this.period();for(s=0,o=e.length;s<o;s++){i=e[s];if(i[1]==null)continue;this.fillSeriesGap(r,i[0]/1e3,t,n),n.push(i),r=i[0]/1e3}return n},e.prototype.txSeries=function(e){var t,n,r,i;n=[];for(r=0,i=e.length;r<i;r++){t=e[r];if(t[1]==null)continue;n.push(this.txPoint(t))}return n},e.prototype.data=function(e){var t,n;return e==null&&(e={}),this.rawData().length===0?[]:(n=this.txSeries(this.rawData()),!this.period()||!e.gapDetection&&e.fillVal==null?n:(t=this.fillSeries(n,e.fillVal),e.interval!=null&&e.fillVal!=null&&(t=this.mapSeriesToInterval({interval:e.interval,fillVal:e.fillVal},t)),t))},e.prototype.lastUpdate=function(){return this.lastAppendIndex===-1?[]:this.txSeries(this.rawData().slice(this.lastAppendIndex,this.rawData().length))},e}(),CounterSeries=function(e){function t(e){e==null&&(e={}),t.__super__.constructor.apply(this,arguments),this.rawDeltas=[],this.rawSums=[]}return __extends(t,e),t.prototype.rawData=function(){return this.rawDeltas},t.prototype.setMeasurement=function(e,t){return t.delta!=null&&(this.rawDeltas[e][1]=t.delta),this.rawSums[e][1]=t.value},t.prototype.addMeasurement=function(e){var t;return t=parseInt(e.measure_time),this.rawDeltas.push([t,e.delta]),this.rawSums.push([t,e.value])},t.prototype.shiftRawData=function(){return this.rawDeltas.shift(),this.rawSums.shift()},t}(TimeSeries),GaugeSeries=function(e){function t(e){var n,r,i,s;e==null&&(e={}),t.__super__.constructor.apply(this,arguments),this.statFuncs=["average","sum","count","min","max"],this.rawStats={},s=this.statFuncs;for(r=0,i=s.length;r<i;r++)n=s[r],this.rawStats[n]=[];this.summarizeFunc=e.summarizeFunc}return __extends(t,e),t.prototype.setSummarizeFunc=function(e){this.summarizeFunc=e},t.prototype.useTxFunc=function(){return this.txFunc!=null&&this.summarizeFunc!=="count"},t.prototype.rawData=function(){return this.summarizeFunc!=null?this.rawStats[this.summarizeFunc]:this.rawStats.average},t.prototype.setMeasurement=function(e,t){var n,r,i,s,o;this.rawStats.average[e][1]=t.value,s=["sum","count","max","min"],o=[];for(r=0,i=s.length;r<i;r++)n=s[r],o.push(this.rawStats[n][e][1]=t[n]);return o},t.prototype.addMeasurement=function(e){var t,n,r,i,s,o;n=parseInt(e.measure_time),this.rawStats.average.push([n,e.value]),s=["sum","count","max","min"],o=[];for(r=0,i=s.length;r<i;r++)t=s[r],o.push(this.rawStats[t].push([n,e[t]]));return o},t.prototype.shiftRawData=function(){var e,t,n,r,i;r=this.statFuncs,i=[];for(t=0,n=r.length;t<n;t++)e=r[t],i.push(this.rawStats[e].shift());return i},t}(TimeSeries),SummarySeries=function(e){function t(e){var n;e==null&&(e={}),t.__super__.constructor.apply(this,arguments),this.groupFunc=e.groupFunc,(n=this.groupFunc)==null&&(this.groupFunc="average")}return __extends(t,e),t.prototype.setGroupFunc=function(e){this.groupFunc=e},t.prototype.setMeasurement=function(e,t){var n,r,i,s,o;this.rawStats.average[e][1]=t.sum/t.summarized,s=["sum","count","max","min"],o=[];for(r=0,i=s.length;r<i;r++)n=s[r],o.push(this.rawStats[n][e][1]=t[n]);return o},t.prototype.addMeasurement=function(e){var t,n,r,i,s,o;n=parseInt(e.measure_time),this.rawStats.average.push([n,e.sum/e.summarized]),s=["sum","count","max","min"],o=[];for(r=0,i=s.length;r<i;r++)t=s[r],o.push(this.rawStats[t].push([n,e[t]]));return o},t.prototype.rawData=function(){return this.rawStats[this.groupFunc]},t}(GaugeSeries),CounterSummarySeries=function(e){function t(e){var n;e==null&&(e={}),t.__super__.constructor.apply(this,arguments),this.groupFunc=e.groupFunc,(n=this.groupFunc)==null&&(this.groupFunc="sum"),this.summarizeFunc="sum"}return __extends(t,e),t.prototype.setGroupFunc=function(e){this.groupFunc=e},t.prototype.rawData=function(){return this.rawStats[this.groupFunc]},t}(GaugeSeries),streamProperties={availResolutions:function(){var e;return(e=this.resolutionArray)==null&&(this.resolutionArray=[{resolution:1,startDelta:172800,endDelta:0,maxInterval:3600},{resolution:60,startDelta:604800,endDelta:2700,maxInterval:21600},{resolution
:900,startDelta:2678400,endDelta:5400,maxInterval:86400},{resolution:3600,startDelta:31536e3,endDelta:14400}]),this.resolutionArray},triggerSingleEvent:function(e,t){var n,r,i,s;t==null&&(t=null);if(this.$views!=null){s=this.$views;for(r=0,i=s.length;r<i;r++)n=s[r],n.trigger(e,t)}else this.selector().trigger(e,t);return null},autoRefreshInterval:function(){var e,t;return t=this.period(),t==null&&(t=this.resolution),e=5,Math.max.apply(Math,[t/2,e])*1e3},currentTime:function(){return dateToEpoch(new Date)},intervalToResolution:function(e,t){var n,r,i,s,o,u,a;n=t-e,r=this.currentTime(),s=3600,a=this.availResolutions();for(o=0,u=a.length;o<u;o++){i=a[o];if(e>r-i.startDelta&&(i.maxInterval==null||n<=i.maxInterval)){s=i.resolution;break}}return s},period:function(){return this.nativePeriod!=null?Math.max.apply(Math,[this.nativePeriod,this.resolution]):null},setInterval:function(e,t){this.startTime=e,this.endTime=t;if(this.endTime>this.startTime)return this.resolution=this.intervalToResolution(this.startTime,this.endTime),this.reset(),null;throw"Invalid interval: "+this.startTime+" -> "+this.endTime},hasData:function(){var e,t,n,r,i;r=this.dataSources();for(t=0,n=r.length;t<n;t++){e=r[t];if((i=this.series[e])!=null?i.hasData():void 0)return!0}return!1},setDateInterval:function(e,t){return this.setInterval(dateToEpoch(e),dateToEpoch(t)),null},setIntervalFromOpts:function(e){var t;return(t=e.endDate)==null&&(e.endDate=new Date),this.startTime=e.startTime,this.endTime=e.endTime},transformValue:function(value){var formula,p,tValue,_ref;return formula=(_ref=this.metricAttributes())!=null?_ref.display_transform:void 0,formula!=null?(p=this.nativePeriod!=null?Math.max.apply(Math,[this.nativePeriod,this.resolution]):this.resolution,formula=formula.replace("p",p.toString()),formula=formula.replace("x",value.toString()),tValue=eval(formula),tValue):value},appendMeasurements:function(e){var t,n,r,i;if(_.isEmpty(e))return;for(r in e)n=e[r],t=r.toLowerCase(),this.series[t]==null&&(this.series[t]=this.createTimeSeries(t)),i=this.series[t],i.append(n);return null},expectedFetches:function(e){var t,n,r;return t=this.endTime-this.startTime,r=e-this.startTime,n=Math.ceil(t/r),this.triggerSingleEvent("stream:fetchExpected",{expected:n}),n},seriesEndTimes:function(){var e,t,n;return e=function(){var e,r;e=this.series,r=[];for(n in e)t=e[n],r.push(t.endTime());return r}.call(this),_.without(e,null)},oldestSeriesEndTime:function(){var e;return e=this.seriesEndTimes(),_.size(e)>0?Math.min.apply(Math,e):null},updateStartTime:function(){var e,t;return t=[],e=this.oldestSeriesEndTime(),e!=null&&t.push(e),this.nativePeriod!=null&&this.resolution===1?t.push(this.currentTime()-10*this.nativePeriod):this.resolution>1?t.push(this.currentTime()-10*this.resolution):t.push(this.currentTime()-600),t.push(this.startTime),Math.max.apply(Math,t)},pruneAllSeries:function(){var e,t,n;n=this.series;for(t in n)e=n[t],e.prune(this.startTime);return null},incrementFetchCount:function(){var e,t;return(t=(e=this.fetchCount)["complete"])==null&&(e.complete=0),this.fetchCount.complete++,this.triggerSingleEvent("stream:fetchCompleted",{completed:this.fetchCount.complete}),null},runRequest:function(e,t){var n,r=this;return n=this.ajax("GET",e,t),n.always(function(){return r.incrementFetchCount()}),this.storeFetchRequest(n)},createTimeSeries:function(e){var t,n,r=this;return t={period:this.period(),txFunc:function(e){return r.transformValue(e)},source:e,summarizeFunc:this.summarizeFunction()},(n=t.summarizeFunc)==null&&(t.summarizeFunc="average"),this.resolution===1&&(t.interpolateTimeStamps=this.currentTimeInterpolation()),e==="all"?(this.groupFunc!=="breakout"&&(t.groupFunc=this.groupFunc),this.type==="gauge"?new SummarySeries(t):new CounterSummarySeries(t)):this.type==="gauge"?new GaugeSeries(t):new CounterSeries(t)}},Stream=function(e){function t(e){this.updateSuccess=__bind(this.updateSuccess,this),this.ajaxConstructor(),this.uri=e.uri,this.source=e.source,this.$views=e.views,this.$selector=e.selector,this.interpolateTime=e.interpolateTime,this.email=e.email,this.apiToken=e.apiToken}return __extends(t,e),t.include(ajaxProperties),t.prototype.ajaxApiUri=function(){return this.uri},t.include(streamProperties),t.prototype.currentTimeInterpolation=function(){return this.interpolateTime},t.prototype.getParams=function(){var e;return e={complex_gauge:!0,resolution:this.resolution,start_time:this.startTime,end_time:this.endTime},this.source!=null&&(e.source=this.source),e},t.prototype.dataSources=function(){return this.groupFunc!=null&&this.groupFunc!=="breakout"?["all"]:_.without(_.keys(this.series),"all")},t.prototype.metricAttributes=function(){var e;return((e=this.metric)!=null?e.attributes:void 0)!=null?_.clone(this.metric.attributes):null},t.prototype.summarizeFunction=function(){return this.summarizeFunc},t.prototype.metricColor=function(){return this.metricAttributes().color},t.prototype.timeSeries=function(e){return this.series[e]},t.prototype.setSource=function(e){this.source=e},t.prototype.reset=function(){var e,t,n,r=this;return this.abortFetchRequests(),this.fetchCount={},this.series={},(n=this.groupFunc)==null&&(this.groupFunc="breakout"),e=this.getParams(),t=function(n){var i,s,o,u,a;return r.type=n.metric.type,r.metric=n.metric,r.nativePeriod=n.metric.period,r.groupFunc=n.group_function,r.summarizeFunc=n.summary_function,(s=r.summarizeFunc)==null&&(r.summarizeFunc=n.metric.attributes.summarize_function),(o=r.summarizeFunc)==null&&(r.summarizeFunc="average"),r.appendMeasurements(n.measurements),((u=n.query)!=null?u.next_time:void 0)!=null?((a=(i=r.fetchCount)["total"])==null&&(i.total=r.expectedFetches(n.query.next_time)),e.start_time=n.query.next_time,r.runRequest(e,t)):r.triggerSingleEvent("stream:resetComplete")},this.runRequest(e,t)},t.prototype.updateSuccess=function(e){return this.appendMeasurements(e.measurements),this.triggerSingleEvent("stream:updateComplete"),null},t.prototype.update=function(e,t){var n;return this.startTime=e,this.endTime=t,this.abortFetchRequests(),this.pruneAllSeries(),n={complex_gauge:!0,resolution:this.resolution,start_time:this.updateStartTime()},this.source!=null&&(n.source=this.source),this.storeFetchRequest(this.ajax("GET",n,this.updateSuccess)),null},t}(Module),Metric=function(e){function t(e){this.autoRefresh=__bind(this.autoRefresh,this);var t,n,r,i,s;this.ajaxConstructor(),(t=e.apiUri)==null&&(e.apiUri="https://metrics-api.librato.com/v1"),(n=e.sources)==null&&(e.sources=["*"]),this.name=e.name,this.$views=e.views,this.$selector=e.selector,this.apiUrl=e.apiUri,this.email=e.email,this.apiToken=e.apiToken,this.attributes={},e.color!=null&&(this.attributes.color=e.color),e.type!=null&&(this.type=e.type),(e.count==null||e.startDate==null)&&(r=e.endDate)==null&&(e.endDate=new Date),e.startDate==null&&(i=e.count)==null&&(e.count=1),this.startTime=e.startTime,this.endTime=e.endTime,e.maxSources!=null&&(this.maxSources=e.maxSources),this.startTime!=null&&(this.resolution=this.intervalToResolution(this.startTime,this.endTime)),this.mutated=!1,this.dynamicSource=!1,this.series={},this.sources=e.sources,this.summarizeFunc=e.summaryFunc,this.eHdr=e.eventHeader,(s=this.eHdr)==null&&(this.eHdr="model"),e.refresh&&this.startAutoRefresh(),this.startTime!=null&&this.reset()}return __extends(t,e),t.include(autoRefreshProperties),t.prototype.autoRefresh=function(){return this.selector().trigger(this.eHdr+":updateStart"),this.updateInterval(),this.update(this.startTime,this.endTime),null},t.include(ajaxProperties),t.prototype.ajaxApiUri=function(){return this.apiUrl+"/metrics/"+this.name},t.include(colorProperties),t.include(streamProperties),t.prototype.selector=function(){return this.$selector},t.prototype.color=function(){return this.attributes.color},t.prototype.isSimple=function(){return this.series.unassigned!=null&&_.keys(this.series).length===1},t.prototype.isWildcardSource=function(e){return/\*/.test(e)},t.prototype.getDisplayName=function(){var e;return(e=this.attributes)!=null?e.display_name:void 0},t.prototype.currentTimeInterpolation=function(){return this.attributes.display_stacked===!0},t.prototype.summarizeFunction=function(){var e;return this.summarizeFunc!=null?this.summarizeFunc:(e=this.attributes)!=null?e.summarize_function:void 0},t.prototype.metricColor=function(){return this.color()},t.prototype.metricAttributes=function(){return _.clone(this.attributes)},t.prototype.timeSeries=function(e){return this.series[e]},t.prototype.dataSources=function(){return _.keys(this.series)},t.prototype.setSource=function(e){return this.sources=[e]},t.prototype.setAttributesFromAPI=function(e,t){this.attributes=e,this.nativePeriod=t;if(this.attributes.display_stacked==="true")return this.attributes.display_stacked=!0;if(this.attributes.display_stacked==="false")return this.attributes.display_stacked=!1},t.prototype.getParams=function(){var e;return e={resolution:this.resolution,start_time:this.startTime,end_time:this.endTime},this.maxSources!=null&&(e.max_sources=this.maxSources),this.sourceFilter!=null?e.sources=[this.sourceFilter]:e.sources=this.sources,e},t.prototype.reset=function(){var e,t,n=this;return this.abortFetchRequests(),this.pauseAutoRefresh(),this.triggerSingleEvent(this.eHdr+":resetStart"),this.series={},this.fetchCount={},e=this.getParams(),t=function(r){var i,s,o,u,a,f,l;n.type=r.type,n.mutated||n.setAttributesFromAPI(r.attributes,r.period),n.appendMeasurements(r.measurements);if(((a=r.query)!=null?a.next_time:void 0)!=null)return(f=(s=n.fetchCount)["total"])==null&&(s.total=n.expectedFetches(r.query.next_time)),e.start_time=r.query.next_time,n.runRequest(e,t);l=n.sources;for(o=0,u=l.length;o<u;o++){i=l[o];if(n.series[i]!=null)continue;if(n.isWildcardSource(i))continue;n.series[i]=n.createTimeSeries(i)}return n.triggerSingleEvent(n.eHdr+":resetComplete"),n.resumeAutoRefresh()},this.runRequest(e,t)},t.prototype.update=function(e,t){var n,r=this;return this.startTime=e,this.endTime=t,this.pruneAllSeries(),n=this.getParams(),n.start_time=this.updateStartTime(),delete n.end_time,this.ajax("GET",n,function(e){return r.appendMeasurements(e.measurements),r.triggerSingleEvent(r.eHdr+":updateComplete")})},t.prototype.setSummarizeFunction=function(e){var t,n,r;this.summarizeFunc=e,r=this.series;for(t in r)n=r[t],n.setSummarizeFunc(this.summarizeFunc);return null},t}(Module),SummaryMetric=function(e){function t(e){this.groupFunc=e.groupFunc!=null?e.groupFunc:"breakout",t.__super__.constructor.apply(this,arguments)}return __extends(t,e),t.prototype.dataSources=function(){return this.groupFunc==="breakout"?_.without(_.keys(this.series),"all"):["all"]},t.prototype.groupBy=function(){var e;return e=this.summarizeFunction(),e==null&&(e="average"),e==="average"?"mean":e},t.prototype.getParams=function(){var e;return e=t.__super__.getParams.apply(this,arguments),e.sources=this.sources,e.summarize_sources=1,e.group_by=this.groupBy(),this.groupFunc==="breakout"&&(e.breakout_sources=!0),e},t.prototype.getGroupFunc=function(){return this.groupFunc},t.prototype.setGroupFunc=function(e){var t;return this.groupFunc=e,(t=this.series["all"])!=null?t.setGroupFunc(this.groupFunc):void 0},t}(Metric),MutableMetric=function(e){function t(e){t.__super__.constructor.apply(this,arguments)}return __extends(t,e),t.prototype.setColor=function(e){return this.attributes.color=e,this.triggerSingleEvent(this.eHdr+":colorUpdated",{color:this.attributes.color}),null},t.prototype.setLongUnits=function(e){if(this.attributes.display_units_long===e)return;return this.attributes.display_units_long=e,this.mutated=!0,this.triggerSingleEvent(this.eHdr+":resetComplete"),null},t.prototype.setDisplayName=function(e){if(this.attributes.display_name===e)return;return this.attributes.display_name=e,this.mutated=!0,this.triggerSingleEvent(this.eHdr+":displayNameUpdated",{display_name:this.attributes.display_name}),null},t.prototype.setGapDetection=function(e,t){t==null&&(t=!0);if(this.attributes.gap_detection===e)return;this.attributes.gap_detection=e,this.mutated=!0;if(!t)return;return this.triggerSingleEvent(this.eHdr+":resetComplete"),null},t.prototype.setSourceAggregate=function(e){if(this.attributes.source_aggregate===e)return;return this.attributes.source_aggregate=e,this.mutated=!0,null},t.prototype.setSummarizeFunction=function(e,t){var n,r,i;t==null&&(t=!0);if(!this.attributes.summarize_function&&e==="average")return;if(this.attributes.summarize_function===e)return;this.attributes.summarize_function=e,i=this.series;for(n in i)r=i[n],r.setSummarizeFunc(this.attributes.summarize_function);if(!t)return;return this.mutated=!0,this.triggerSingleEvent(this.eHdr+":resetComplete"),null},t.prototype.setPeriod=function(e,t){var n,r,i;t==null&&(t=!0);if(this.nativePeriod===e)return;this.nativePeriod=e,i=this.series;for(n in i)r=i[n],r.setPeriod(this.period());if(!t)return;return this.mutated=!0,this.autoRefreshOn()&&(this.stopAutoRefresh(),this.startAutoRefresh()),this.triggerSingleEvent(this.eHdr+":resetComplete"),null},t.prototype.setShortUnits=function(e){if(this.attributes.display_units_short===e)return;return this.attributes.display_units_short=e,this.mutated=!0,this.triggerSingleEvent(this.eHdr+":shortUnitsUpdated",{units:this.attributes.display_units_short}),null},t.prototype.setExtremes=function(e,t){if(this.attributes.display_min===e&&this.attributes.display_max===t)return;return this.attributes.display_min=e,this.attributes.display_max=t,this.mutated=!0,this.triggerSingleEvent(this.eHdr+":extremesUpdated",{min:e,max:t}),null},t.prototype.setTransform=function(e){if(this.attributes.display_transform===e)return;return this.attributes.display_transform=e,this.mutated=!0,this.triggerSingleEvent(this.eHdr+":resetComplete"),null},t.prototype.updateSeriesTimeInterpolation=function(){var e,t,n,r;t=this.currentTimeInterpolation(),r=this.series;for(e in r)n=r[e],n.setInterpolateTimeStamps(t);return null},t.prototype.setStacked=function(e,t){t==null&&(t=!0);if(this.attributes.display_stacked===e)return;this.attributes.display_stacked=e,this.mutated=!0,this.updateSeriesTimeInterpolation();if(!t)return;return this.triggerSingleEvent(this.eHdr+":resetComplete"),null},t.prototype.setAttributes=function(e){return this.setPeriod(e.period,!1),this.attributes.display_transform=e.transform,this.attributes.display_min=e.min,this.attributes.display_max=e.max,this.attributes.display_units_short=e.shortUnits,this.attributes.display_units_long=e.longUnits,this.attributes.display_name=e.displayName,this.attributes.color=e.color,this.setStacked(e.stacked,!1),this.setGapDetection(e.gapDetection,!1),e.summarizeFunc!=null&&(this.attributes.summarize_function=e.summarizeFunc),e.sourceAggregate!=null&&(this.attributes.source_aggregate=e.sourceAggregate),this.triggerSingleEvent(this.eHdr+":resetComplete"),null},t.prototype.setSourceFilter=function(e){return this.sourceFilter=e,this.reset()},t.prototype.sourceLimited=function(){return!0},t.prototype.saveDisplayName=function(){var e,t;return(t=(e=this.attributes).display_name)==null&&(e.display_name=null),this.ajax("PUT",{attributes:{display_name:this.attributes.display_name}}),null},t.prototype.validate=function(){if(this.attributes==null)throw"Cannot save invalid metric "+this.name;return!0},t.prototype.save=function(){var e,t=this;if(!this.validate())return;return e={attributes:this.attributes,period:this.nativePeriod},this.ajax("PUT",e,function(){return t.mutated=!1,t.selector().trigger("model:updateSuccess")}),null},t.prototype.sourceToColor=function(e){return this.dataSources().length>1||this.color()==null?this.getColor(e):this.color()},t.prototype.streamMetaData=function(e){return{metric:this.name,source:e,color:this.sourceToColor(e)}},t.prototype.streamsMetaData=function(){var e;return{streams:function(){var t,n,r,i;r=this.dataSources(),i=[];for(t=0,n=r.length;t<n;t++)e=r[t],i.push(this.streamMetaData(e));return i}.call(this)}},t.prototype.sourceData=function(e){return{series:this.series[e],color:this.sourceToColor(e)}},t.prototype.streamsData=function(){var e,t,n,r,i;t={startTime:this.startTime,endTime:this.endTime,metric:this.name,attributes:this.attributes,type:this.type,sources:{data:{}}},i=this.dataSources();for(n=0,r=i.length;n<r;n++)e=i[n],t.sources.data[e]=this.sourceData(e);return{metrics:[t]}},t}(Metric),AnnotationSeries=function(e){function t(e){e==null&&(e={}),this.rawEvents=[],this.res=e.resolution}return __extends(t,e),t.prototype.prune=function(e){while(this.rawEvents.length>0&&this.rawEvents[0].start_time<e)this.rawEvents.shift();return null},t.prototype.floorTime=function(e,t){var n,r,i,s;return i=(t!=null?t.res:void 0)!=null?t.res:this.res,r=(t!=null?t.offset:void 0)!=null?t.offset:0,s=e-e%i,r===0?s:(n=s+r,n>e&&(n-=i),n)},t.prototype.endTime=function(){return this.rawEvents.length>0?_.last(this.rawEvents).start_time:null},t.prototype.hasData=function(){return this.rawEvents.length>0},t.prototype.merge=function(e){var t,n,r;if(e.length===0)return;if(this.rawEvents.length>0)for(n=0,r=e.length;n<r;n++)t=e[n],this.rawEvents=_.reject(this.rawEvents,function(e){return e.id===t.id});return this.rawEvents=this.rawEvents.concat(e),this.rawEvents=_.sortBy(this.rawEvents,"start_time"),null},t.prototype.setGroupEndTime=function(e,t){var n,r,i,s,o,u;s=e.events;for(r=0,i=s.length;r<i;r++)n=s[r],n.end_time!=null?((o=e.end_time)==null&&(e.end_time=n.end_time),n.end_time>e.end_time&&(e.end_time=n.end_time)):((u=e.end_time)==null&&(e.end_time=n.start_time),n.start_time>e.end_time&&(e.end_time=n.start_time));return e.end_time=this.floorTime(e.end_time,t),e.end_time===e.start_time&&(e.end_time=null),null},t.prototype.events=function(e){var t,n,r;t=[],r=0;while(r<this.rawEvents.length){n={start_time:this.floorTime(this.rawEvents[r].start_time,e),events:[this.rawEvents[r]]},r++;while(r<this.rawEvents.length&&this.floorTime(this.rawEvents[r].start_time,e)===n.start_time)n.events.push(this.rawEvents[r]),r++;this.setGroupEndTime(n,e),t.push(n)}return t},t.prototype.data=function(){var e,t,n,r,i;e=[],i=this.events();for(n=0,r=i.length;n<r;n++)t=i[n],e.push([t.start_time*1e3,null]),t.end_time!=null&&e.push([t.end_time*1e3,null]);return e=_.sortBy(e,function(e){return e[0]}),e=_.uniq(e,!0,function(e){return e[0]}),e},t}(Module),AnnotationMetric=function(e){function t(e){this.updateSuccess=__bind(this.updateSuccess,this);var t,n;this.ajaxConstructor(),(t=e.apiUri)==null&&(e.apiUri="https://metrics-api.librato.com/v1"),(n=e.sources)==null&&(e.sources=["*"]),this.name=e.name,this.$selector=e.selector,this.apiUrl=e.apiUri,this.email=e.email,this.apiToken=e.apiToken,this.groupFunc=e.groupFunc,this.uri=e.uri,this.type="annotation",this.attributes={},this.setIntervalFromOpts(e),this.dynamicSource=!1,this.sources=e.sources,this.series={},this.startTime!=null&&this.reset()}return __extends(t,e),t.include(ajaxProperties),t.prototype.ajaxApiUri=function(){return this.uri!=null?this.uri:this.apiUrl+"/annotations/"+this.name},t.include(streamProperties),t.prototype.selector=function(){return this.$selector},t.prototype.setGroupFunc=function(e){this.groupFunc=e},t.prototype.metricColor=function(){return this.attributes.color},t.prototype.metricAttributes=function(){return this.attributes},t.prototype.timeSeries=function(e){return this.series[e]},t.prototype.dataSources=function(){return _.keys(this.series)},t.prototype.setSource=function(e){return this.sources=[e]},t.prototype.mergeEvents=function(e){var t,n;for(n in e)t=e[n],this.annotationSeries.merge(t);return null},t.prototype.resetMetaData=function(e){return this.attributes=e.attributes},t.prototype.reset=function(){var e,t,n=this;return this.abortFetchRequests(),this.triggerSingleEvent("stream:resetStart"),this.series={},this.series[this.sources[0]]=new AnnotationSeries({resolution:this.resolution}),this.annotationSeries=this.series[this.sources[0]],this.fetchCount={},e={start_time:this.startTime,end_time:this.endTime,sources:this.sources},t=function(r){var i,s,o;return n.resetMetaData(r),n.mergeEvents(r.events),((s=r.query)!=null?s.next_time:void 0)!=null?((o=(i=n.fetchCount)["total"])==null&&(i.total=n.expectedFetches(r.query.next_time)),e.start_time=r.query.next_time,n.runRequest(e,t)):n.triggerSingleEvent("stream:resetComplete")},this.runRequest(e,t)},t.prototype.updateSuccess=function(e){return this.mergeEvents(e.events),this.triggerSingleEvent("stream:updateComplete"),null},t.prototype.update=function(e,t){var n;return this.startTime=e,this.endTime=t,this.abortFetchRequests(),this.pruneAllSeries(),n={start_time:this.updateStartTime(),sources:this.sources},this.storeFetchRequest(this.ajax("GET",n,this.updateSuccess)),null},t}(Module),AnnotationStream=function(e){function t(e){t.__super__.constructor.apply(this,arguments)}return __extends(t,e),t.prototype.resetMetaData=function(e){return this.attributes=e.metric.attributes},t}(AnnotationMetric),AnnotationsRenderer=function(){function e(e,t){this.$target=e,this.renderer=t}return e.prototype.draw=function(e){var t,n,r,i,s,o,u,a,f,l,c,h;$.extend(this,e),f=[],o=this.renderer.g().add(),o.id=""+this.name,this._swap($(o.element),$(".highcharts-tooltip",this.$target)),a=this.renderer.g().add(o),this._vline(a,this.color),a.attr({transform:"translate("+Math.floor(this.point.start.plotX+this.plot.left)+","+this.plot.top+")"}),f.push($(".bookmark",$(a.element))[0]),this.annotation.events.length>1&&this._anno_count(a),this.point.end!=null&&(i=this.renderer.g().add(o),this._vline(i,this.color),i.attr({transform:"translate("+Math.floor(this.point.end.plotX+this.plot.left)+","+this.plot.top+")"}),u=this.renderer.path(["M",this.point.start.plotX+this.plot.left+5,this.plot.height+this.plot.top+.5,"H",this.point.end.plotX+this.plot.left-5]).add(o).attr({"class":"join",stroke:this.color,"stroke-width":1}),s=this.renderer.rect(1,0,this.point.end.plotX+this.plot.left-(this.point.start.plotX+this.plot.left)-1,this.plot.height,0).add(o).attr({"class":"fillarea",fill:this.color,zIndex:1,transform:"translate("+Math.floor(this.point.start.plotX+this.plot.left)+","+this.plot.top+")",style:"pointer-events: none; opacity: 0.1;"}),f.push($(".bookmark",$(i.element))[0]));if(this.annotation.events.length===1)t=this.annotation.events[0],n="<dl>\n  <dt>"+this._formatTimeStamps(t.start_time,t.end_time)+"</dt>\n  <dd><em>"+t.title+"</em></dd>\n  <dd class='desc'>"+t.description+"</dd>\n</dl>";else{n="<dl>\n  <dt>"+this._formatTimeStamps(this.annotation.start_time,this.annotation.end_time)+"\n  </dt>",h=this.annotation.events;for(l=0,c=h.length;l<c;l++)r=h[l],n+="<dd><em>"+r.title+": "+r.source+"</em></dd>";n+="</dl>"}return $(f).data({tooltip:n,color:this.color,triggers:f,timestamp:this.annotation.events[0].start_time}),o},e.prototype.infinite=function(e,t){var n,r;return r=t?1:0,n=t?.1:0,$(".bookmark",e.element).each(function(){return $(this).siblings(":eq(0), :eq(1), :eq(2), :eq(3)").css("opacity",r)}),$(".count",e.element).css("opacity",r),$(".fillarea",e.element).css("opacity",n)},e.prototype._swap=function(e,t){return e.detach().insertBefore(t)},e.prototype._vline=function(e){var t,n;return n=this.renderer.path(["M",.5,.5,"V",this.plot.height]).add(e).shadow(!0).attr({"class":"vline",stroke:this.color,"stroke-width":1}),t=this.renderer.path(["M",10,13,"L",5,8,0,13,0,0,10,0,"z"]).add(e).shadow(!0).attr({fill:{linearGradient:[0,0,0,13],stops:this._createGradientFromColor(this.color)},"class":"bookmark",transform:"translate(-5,"+this.plot.height+")",style:"cursor: pointer;"})},e.prototype._anno_count=function(e){var t,n,r;return n=this.renderer.g().add(e),t=this.renderer.circle(-0.5,0,6).add(n).shadow(!0).attr({fill:"#C4781B"}),r=this.renderer.text(""+this.annotation.events.length,-3,3).add(n).css({color:"white","font-size":"8px","font-family":"verdana, sans-serif"}),n.attr({"class":"count",transform:"translate(1, 0)"})},e.prototype._createGradientFromColor=function(e){var t;return t=[[0,tinycolor.lighten(e,10)],[.1,tinycolor.lighten(e,20)],[.3,e],[1,tinycolor.darken(e,5)]]},e.prototype._formatTimeStamps=function(e,t){var n,r;return e==null&&(e=null),t==null&&(t=null),r=moment.unix(e).format("MMM Do, HH:mm:ss"),t!=null?(n=moment.unix(t).format("MMM Do, HH:mm:ss"),""+r+" - "+n):""+r},e}(),AnnotationTooltips=function(){function e(e,t){var n=this;this.$container=e,$(""+t).qtip("destroy"),$(".annotip").remove(),this.$targets=$(""+t),this.lastTiggers=null,this.lastColor=null,this.color=null,this.options={prerender:!1,content:" ",position:{my:"bottom center",at:"top center",target:"event",viewport:this.$container,adjust:{method:"flip",x:.5,y:0}},show:{target:this.$targets,effect:this.showEffect,delay:200,solo:!0},hide:{target:this.$targets,delay:500,fixed:!0},events:{show:function(e,t){var r,i,s,o;return n.lastTiggers!=null&&$(".vline",n.lastTiggers.parent()).attr("stroke",n.lastColor),o=e.originalEvent.target,s=$.data(o,"tooltip"),r=$($.data(o,"triggers")),i=$.data(o,"color"),t.set("content.text",s),$(".vline",r.parent()).attr("stroke","white"),n.lastTiggers=r,n.lastColor=i},hide:function(e,t){var n,r;return r=e.originalEvent.target,n=$($.data(r,"triggers")),$(".vline",n.parent()).attr("stroke",$.data(r,"color"))}},style:{classes:"librato-tooltip annotip ui-tooltip-shadow ui-tooltip-rounded annotation-tooltip",tip:{width:10,height:8}}},$("body").qtip(this.options)}return e.prototype.showEffect=function(){if(!$(this).is(":visible"))return $(this).show().css({top:"-=20px",opacity:0}),$(this).animate({top:"+=20px",opacity:.99},{duration:300})},e}(),Instrument=function(e){function t(e){this.loadJson=__bind(this.loadJson,this),this.resetComplete=__bind(this.resetComplete,this),this.autoRefresh=__bind(this.autoRefresh,this),this.updateComplete=__bind(this.updateComplete,this);var t,n;this.$views=e.views,this.$selector=e.selector,(t=this.$views)==null&&(this.$views=[this.$selector]),this.startTime=e.startTime,this.endTime=e.endTime,this.email=e.email,this.apiToken=e.apiToken,this.apiUri=e.apiUri!=null?e.apiUri:"https://metrics-api.librato.com/v1",this.streams=[],this.events={},this.attributes={display_stacked:!1},this.dynamicSource=this.sanitizeDynamicSource(e.source),this.initCollector(),(n=e.refresh)==null&&(e.refresh=!0),e.refresh&&this.startAutoRefresh()}return __extends(t,e),t.include(autoRefreshProperties),t.prototype.updateComplete=function(){var e,t,n,r;r=this.$views;for(t=0,n=r.length;t<n;t++)e=r[t],e.trigger("model:updateComplete");return null},t.prototype.update=function(){var e,t=this;this.updateInterval();if(!this.hasActiveStreams())return;return e=[{updateComplete:{finalize:this.updateComplete}}],this.collect(e,function(e){return e.model.update(t.startTime,t.endTime)})},t.prototype.autoRefresh=function(){return this.update()},t.prototype.autoRefreshInterval=function(){var e,t,n,r,i,s;t=null,s=this.activeStreams();for(r=0,i=s.length;r<i;r++){n=s[r],e=n.model.autoRefreshInterval();if(t==null||e<t)t=e}return t!=null?t:t=3e4},t.include(ajaxProperties),t.prototype.ajaxApiUri=function(){var e;return this.uri!=null?this.uri:(e=this.apiUri+"/instruments",this.id!=null&&(e+="/"+this.id),e)},t.include(colorProperties),t.prototype.selector=function(){return this.$selector},t.prototype.getName=function(){return this.name},t.prototype.getId=function(){return this.id},t.prototype.isWildcardSource=function(e){return/\*/.test(e)},t.prototype.nextStreamId=function(){var e;return(e=this.streamId)==null&&(this.streamId=0),this.streamId+=1},t.prototype.empty=function(){return _.size(this.streams)===0},t.prototype.findStream=function(e){var t=this;return _.find(this.streams,function(t){return e===t.localId})},t.prototype.streamIndex=function(e){var t,n,r,i,s;s=this.streams;for(t=r=0,i=s.length;r<i;t=++r){n=s[t];if(n.localId===e)return t}return null},t.prototype.numericStreams=function(){return _.select(this.streams,function(e){return e.model.type!=="annotation"})},t.prototype.activeStreams=function(){return this.dynamicSource!=null&&this.dynamicSource!=="%"?this.streams:_.reject(this.streams,function(e){return e.dynamicSource===!0})},t.prototype.hasActiveStreams=function(){return 0<_.size(this.activeStreams())},t.prototype.hasDynamicSource=function(){var e,t,n,r;r=this.streams;for(t=0,n=r.length;t<n;t++){e=r[t];if(e.dynamicSource)return!0}return!1},t.prototype.hasAnnotationStream=function(){var e,t,n,r;r=this.streams;for(t=0,n=r.length;t<n;t++){e=r[t];if(e.stream.type==="annotation")return!0}return!1},t.prototype.sanitizeDynamicSource=function(e){var t,n;return e==null?"%":(n=/^[-:A-Za-z0-9_.*]{1,255}$/,t=e.trim(),t.length===0||!t.match(n)?"%":t)},t.prototype.setDynamicSource=function(e){var t,n,r,i,s;t=this.sanitizeDynamicSource(e);if(t===this.dynamicSource)return;this.dynamicSource=t,s=this.streams;for(r=0,i=s.length;r<i;r++)n=s[r],n.dynamicSource&&n.model.setSource(this.dynamicSource);return this.reset()},t.prototype.resetComplete=function(){var e,t,n,r;r=this.$views;for(t=0,n=r.length;t<n;t++)e=r[t],e.trigger("model:resetComplete");return this.resumeAutoRefresh(),null},t.prototype.reset=function(){var e,t,n,r,i,s=this;if(this.empty())return;if(!this.hasActiveStreams()){i=this.$views;for(n=0,r=i.length;n<r;n++)e=i[n],e.trigger("model:resetComplete",{msg:"Please specify a dynamic source"});return}return this.pauseAutoRefresh(),t=[{resetComplete:{finalize:this.resetComplete},fetchExpected:{finalize:null},fetchCompleted:{finalize:null}}],this.collect(t,function(e){return e.model.setInterval(s.startTime,s.endTime)})},t.prototype.setInterval=function(e,t){this.startTime=e,this.endTime=t;if(this.endTime>this.startTime){if(this.empty())return;return this.reset(),null}throw"Invalid interval: "+this.startTime+" -> "+this.endTime},t.prototype.setDateInterval=function(e,t){return this.setInterval(dateToEpoch(e),dateToEpoch(t)),null},t.prototype.setId=function(e){return this.id=e,this.ajax("GET",null,this.loadJson)},t.prototype.setUri=function(e){return this.uri=e,this.ajax("GET",null,this.loadJson)},t.prototype.createStreamInstance=function(e,t){var n;return this.uri!=null?t.uri=this.uri+("/streams/"+e.id):t.uri=this.apiUri+("/instruments/"+this.id+"/streams/"+e.id),t.type==="annotation"?new AnnotationStream(t):(t.interpolateTime=this.attributes.display_stacked===!0,t.zeroFill=this.attributes.display_stacked===!0,n=new Stream(t),t.dynamic&&n.setSource(this.dynamicSource),n)},t.prototype.createNewStream=function(e){var t,n,r;return t={name:e.metric,selector:this.selector(),views:[this.selector()],email:this.email,apiToken:this.apiToken,apiUri:this.apiUri,sources:[e.source],type:e.type},e.type==="annotation"?e.group_function!=="infinite"&&e.group_function!=="compact"&&(e.group_function="infinite"):(r=e.group_function)==null&&(e.group_function="breakout"),t.groupFunc=e.group_function,e.summary_function!=null&&(t.summaryFunc=e.summary_function),n={localId:e.localId!=null?e.localId:this.nextStreamId(),stream:e,dynamicSource:e.source==="%",visible:!0},t.dynamic=n.dynamicSource,n.model=this.createStreamInstance(e,t),n},t.prototype.addNewStream=function(e){return this.streams.push(this.createNewStream(e))},t.prototype.loadJson=function(e){var t,n,r,i;this.name=e.name,e.attributes!=null&&(this.attributes=e.attributes),i=e.streams;for(n=0,r=i.length;n<r;n++)t=i[n],this.addNewStream(t);return this.empty()||this.reset(),this.$selector.trigger("model:loadCompleted"),null},t.prototype.initCollector=function(){var e=this;return this.selector().on("stream:fetchExpected",function(t,n){var r,i,s,o,u,a,f,l,c,h;t.stopPropagation(),e.events.fetchExpected.data.push(n.expected),e.events.fetchExpected.collected++,e.completedFetches=0;if(e.events.fetchExpected.collected>=e.events.fetchExpected.toCollect){s=0,c=e.events.fetchExpected.data;for(u=0,f=c.length;u<f;u++)o=c[u],s+=o;i={expected:s},h=e.$views;for(a=0,l=h.length;a<l;a++)r=h[a],r.trigger("model:fetchExpected",i)}return null}),this.selector().on("stream:fetchCompleted",function(t,n){var r,i,s,o,u,a;t.stopPropagation(),(u=e.completedFetches)==null&&(e.completedFetches=0),e.completedFetches++,i={completed:e.completedFetches},a=e.$views;for(s=0,o=a.length;s<o;s++)r=a[s],r.trigger("model:fetchCompleted",i);return null}),this.selector().on("stream:resetComplete metric:resetComplete",function(t){return t.stopPropagation(),e.collectEvent("resetComplete"),null}),this.selector().on("stream:updateComplete metric:updateComplete",function(t){return t.stopPropagation(),e.collectEvent("updateComplete"),null}),null},t.prototype.collect=function(e,t){var n,r,i,s,o,u,a,f,l;o=this.activeStreams();if(o.length>0){for(u=0,f=e.length;u<f;u++){r=e[u];for(i in r)n=r[i],this.events[i]={data:[],actions:n,collected:0,toCollect:o.length}}for(a=0,l=o.length;a<l;a++)s=o[a],t(s);return null}return},t.prototype.collectEvent=function(e){this.events[e].collected+=1;if(this.events[e].collected!==this.events[e].toCollect)return;return this
.collectFinalize(e),null},t.prototype.collectFinalize=function(e){return this.events[e].actions.finalize!=null&&this.events[e].actions.finalize(),this.events[e]=null,null},t.prototype.streamDataSources=function(e){return e.model.dataSources()},t.prototype.streamColor=function(e){var t;return t=e.stream.color,t==null&&(t=e.model.metricColor()),t==null&&(t=this.getColor(e.stream.metric)),t},t.prototype.streamSummaryFunc=function(e){var t,n;return e.stream.type==="counter"?"derivative":(t=e.stream.summary_function,t==null&&(t=(n=e.model.metricAttributes())!=null?n.summarize_function:void 0),t==null&&(t="average"),t)},t.prototype.streamSourceData=function(e,t){var n;return n={series:e.model.timeSeries(t)},e.stream.group_function==="breakout"&&this.numericStreams().length===1&&_.size(this.streamDataSources(e))!==1?n.color=this.getColor(t):n.color=this.streamColor(e),n},t.prototype.streamData=function(e){var t,n,r,i,s;t={startTime:this.startTime,endTime:this.endTime,metric:e.stream.metric,attributes:e.model.metricAttributes(),type:e.model.type,sources:{data:{}},visible:e.visible,id:e.localId},e.model.type==="annotation"?t.drawFunc=e.model.groupFunc:t.summaryFunc=this.streamSummaryFunc(e),t.summaryFunc==="count"&&(t.attributes.display_units_long="Measurements",t.attributes.display_units_short="measurements"),s=this.streamDataSources(e);for(r=0,i=s.length;r<i;r++)n=s[r],t.sources.data[n]=this.streamSourceData(e,n);return t},t.prototype.hasData=function(){var e,t,n,r;r=this.activeStreams();for(t=0,n=r.length;t<n;t++){e=r[t];if(e.model.hasData())return!0}return!1},t.prototype.streamsData=function(){var e;return this.hasActiveStreams()?this.hasData()?{attributes:this.attributes,metrics:function(){var t,n,r,i;r=this.activeStreams(),i=[];for(t=0,n=r.length;t<n;t++)e=r[t],i.push(this.streamData(e));return i}.call(this)}:{msg:"There is no data for this time interval."}:{msg:"You must specify a dynamic source."}},t}(Module),MutableInstrument=function(e){function t(e){this.autoRefresh=__bind(this.autoRefresh,this),t.__super__.constructor.apply(this,arguments)}return __extends(t,e),t.prototype.autoRefresh=function(){if(!this.hasActiveStreams())return;return this.selector().trigger("model:updateStart"),t.__super__.autoRefresh.apply(this,arguments)},t.prototype.createStreamInstance=function(e,t){var n;return t.eventHeader="metric",t.type==="annotation"?new AnnotationMetric(t):t.dynamic?(n=new SummaryMetric(t),n.sources=[this.dynamicSource],n.dynamicSource=!0,n):this.isWildcardSource(e.source)?new SummaryMetric(t):new Metric(t)},t.prototype.streamMetaData=function(e){var t,n;t={id:e.localId,color:this.streamColor(e),metric:e.stream.metric,source:e.stream.source,type:e.stream.type,visible:e.visible,summaryFunc:this.streamSummaryFunc(e)};if(this.isWildcardSource(e.stream.source)||e.dynamicSource===!0||e.stream.type==="annotation")t.groupFunc=e.stream.group_function,(n=t.groupFunc)==null&&(t.groupFunc="average");return t},t.prototype.streamsMetaData=function(){var e;return{streams:function(){var t,n,r,i;r=this.streams,i=[];for(t=0,n=r.length;t<n;t++)e=r[t],i.push(this.streamMetaData(e));return i}.call(this)}},t.prototype.validateError=function(e){return this.$selector.trigger("model:validateError",{msg:e})},t.prototype.validateName=function(){return this.name!=null&&this.name!==""?!0:(this.$selector.trigger("model:validateError:untitled",{msg:"You must specify an instrument name!"}),!1)},t.prototype.validateData=function(){return this.empty()?(this.$selector.trigger("model:validateError:empty",{msg:"You must specify at least one data stream!"}),!1):!0},t.prototype.validate=function(){return this.validateData()&&this.validateName()?!0:!1},t.prototype.saveName=function(){return this.id!=null&&this.validateName()?(this.ajax("PUT",{name:this.name}),!0):!1},t.prototype.save=function(){var e,t,n=this;if(!this.validate())return;return e={name:this.name,streams:function(){var e,n,r,i;r=this.streams,i=[];for(e=0,n=r.length;e<n;e++)t=r[e],i.push(t.stream);return i}.call(this),attributes:this.attributes},this.id!=null?this.ajax("PUT",e,function(e){return n.$selector.trigger("model:updateSuccess")}):this.ajax("POST",e,function(e){return n.id=e.id,n.$selector.trigger("model:createSuccess"),n.$selector.trigger("model:updateSuccess")})},t.prototype.reset=function(){if(this.empty())return;return this.selector().trigger("model:resetStart"),t.__super__.reset.apply(this,arguments)},t.prototype.resetViews=function(){var e,t,n,r;r=this.$views;for(t=0,n=r.length;t<n;t++)e=r[t],e.trigger("model:resetComplete");return null},t.prototype.addStream=function(e,t,n){return n==null&&(n=null),this.addNewStream({metric:e,source:t,type:n}),this.reset(),null},t.prototype.removeStream=function(e){var t,n=this;return t=this.findStream(e),this.streams=_.filter(this.streams,function(t){return t.localId!==e}),t.stream.color==null&&t.model.metricColor()==null&&this.freeColor(this.getColor(t.stream.metric)),this.resetViews(),null},t.prototype.setStreamSource=function(e,t){var n,r;n=this.streamIndex(e);if(n==null){console.log("Unable to find stream: "+e);return}r=this.streams[n];if(r.stream.source===t)return;return this.pauseAutoRefresh(),this.streams[n]=this.createNewStream({localId:r.localId,metric:r.stream.metric,source:t,type:r.stream.type,color:r.stream.color,group_function:r.stream.group_function,summary_function:r.stream.summary_function}),this.reset(),null},t.prototype.setStreamSummaryFunc=function(e,t){var n;return n=this.findStream(e),n.model.setSummarizeFunction(t,!1),n.stream.summary_function=t,this.isWildcardSource(n.stream.source)?this.reset():this.resetViews(),null},t.prototype.setName=function(e){this.name=e},t.prototype.setStacked=function(e){if(this.attributes.display_stacked===e)return;return this.attributes.display_stacked=e,this.resetViews(),null},t.prototype.setDisplayIntegral=function(e){if(this.attributes.display_integral===e)return;return this.attributes.display_integral=e,this.resetViews(),null},t.prototype.setStreamVisibility=function(e,t){var n;n=this.findStream(e);if(n==null){console.log("Unable to find stream: "+e);return}return n.visible=t,this.resetViews(),null},t.prototype.setGroupFunc=function(e,t){var n;n=this.findStream(e);if(n.stream.group_function===t)return;return n.model.setGroupFunc(t),n.stream.group_function=t,t==="breakout"?this.reset():this.resetViews(),null},t.prototype.setStreamColor=function(e,t){var n,r,i,s,o;r=this.findStream(e),r.stream.color=t,o=this.$views;for(i=0,s=o.length;i<s;i++)n=o[i],n.trigger("stream:color:changed",{id:e,color:t});return null},t}(Instrument),instrumentThemeProperties={themeConfig:function(){return Highcharts.theme={chart:{backgroundColor:"#222222",plotBackgroundColor:"#1A1A1A",borderWidth:0,plotBorderWidth:0,borderRadius:0},xAxis:{gridLineWidth:0,lineColor:"#5C5C5C",labels:{style:{fontSize:"10px"}}},yAxis:{gridLineColor:"#2F2F2F",tickColor:"#2F2F2F",lineWidth:0,tickWidth:0,labels:{style:{fontSize:"10px"}},title:{style:{fontSize:"9px"}}},tooltip:{backgroundColor:"rgba(0,0,0,0.8)",borderWidth:0,crosshairs:{width:1,color:"#585858"},style:{padding:10}},plotOptions:{series:{lineWidth:1,states:{hover:{lineWidth:1}}}}}}},streamProperties={groupingStrategy:function(e,t){var n;return((n=t.display_transform)!=null?n.match(/p/):void 0)?{approximation:"average"}:e==="max"?{approximation:"high"}:e==="min"?{approximation:"low"}:e==="count"?{approximation:"sum"}:e==="derivative"?{approximation:"sum"}:{approximation:e}},streamIdToSeries:function(e){var t,n=this;return t=new RegExp("^"+e+"(-\\d+)?$"),_.filter(this.seriesOptions,function(e){return t.test(e.id)})},streamGapOptions:function(e){return e.display_stacked?{gapDetection:!1,fillVal:0}:e.gap_detection?{gapDetection:!0,fillVal:null}:e.summarize_function==="sum"?{gapDetection:!1,fillVal:0}:{gapDetection:!1,fillVal:null}},streamSeriesData:function(e){var t;return e.series==null?[]:(t={interval:{startTime:e.startTime,endTime:e.endTime}},_.extend(t,this.streamGapOptions(e.attrs)),e.series.data(t))},streamToSeries:function(e){var t,n;return n={name:this.seriesName(e.metric,e.source),id:e.id,color:e.color,animation:!1,data:this.streamSeriesData(e),type:this.chartType,dataGrouping:this.groupingStrategy(e.summaryFunc,e.attrs),visible:e.visible},this.displayIntegral&&(t=function(e,t){return e+(t[1]!=null?t[1]:0)},n.integral=parseInt(_.reduce(n.data,t,0))),this.streamToYAxisIndex!=null&&(n.yAxis=this.streamToYAxisIndex(e),n.yAxis!=null&&(n.yAxisID=this.yAxisOptions[n.yAxis].id)),e.attrs.display_units_short!=null&&(n.abbreviatedUnits=e.attrs.display_units_short),this.streamFilter!=null&&-1===n.name.toString().indexOf(this.streamFilter)&&(n.visible=!1),n},formatTooltip:function(){var e,t,n,r,i,s,o;e='<span style="font-size: 10px; color: #CCCCCC; line-height: 14px;">'+Highcharts.dateFormat("%a %b %e %H:%M:%S",this.x)+"</span>",o=this.points;for(i=0,s=o.length;i<s;i++)r=o[i],parseFloat(r.y)===parseInt(r.y)&&!isNaN(r.y)&&(t=!0),n=t?0:String(r.y).split(".")[0]!=="0"?2:4,e+="<br/>",e+='<span style="color: '+r.series.color+'; line-height: 14px;">',e+=String.toUnicode(r.series.name)+"</span>",e+='<span style="color: #CCCCCC; line-height: 14px;">: '+Highcharts.numberFormat(r.y,n),r.series.options.abbreviatedUnits!=null&&(e+=" "+String.toUnicode(r.series.options.abbreviatedUnits)),e+="</span>";return e}},yAxisProperties={yAxisIdToIndex:function(e){var t,n,r,i,s;n=0,s=this.yAxisOptions;for(r=0,i=s.length;r<i;r++){t=s[r];if(t.id===e)break;n+=1}return n===this.yAxisOptions.length?null:n},axisHasSeries:function(e){var t,n,r,i,s,o;t=!1,n=this.yAxisIdToIndex(e),o=this.seriesOptions;for(i=0,s=o.length;i<s;i++){r=o[i];if(r.yAxis===n){t=!0;break}}return t},streamToYAxisID:function(e){return e.type==="annotation"?"annotation-axis":e.attrs.display_units_long!=null?"axis"+this.Separator+e.attrs.display_units_long:"axis"+this.Separator+e.metric},streamToYAxisIndex:function(e){return this.yAxisIdToIndex(this.streamToYAxisID(e))},streamToYAxis:function(e){var t;return t={id:this.streamToYAxisID(e),gridLineColor:"#2F2F2F",lineWidth:0,labels:{style:{color:e.color,fontSize:"9px"},y:0},title:{margin:10,style:{color:e.color,fontSize:"10px"},text:null},streamCount:1},e.type!=="annotation"&&(e.attrs.display_units_long!=null&&(t.title.text=e.attrs.display_units_long),e.attrs.display_min!=null&&(t.min=e.attrs.display_min),e.attrs.display_max!=null&&(t.lineMax=e.attrs.display_max),this.yAxisOptions.length>0&&(t.opposite=!_.last(this.yAxisOptions).opposite)),this.yAxisOptions.push(t),this.yAxisOptions.length-1}},graphProperties={destroyChart:function(){var e;return e=this.$target.siblings(" .message"),e.length&&e.remove(),this.destroyAnnotations!=null&&this.destroyAnnotations(),this.graph!=null&&this.graph.destroy(),this.graph=null,null},drawChart:function(e){return this.graph=new Highcharts.Chart(e),this.annotations=new AnnotationsRenderer(this.$target,this.graph.renderer),this.drawAnnotationStreams!=null&&this.drawAnnotationStreams(),this.drawIntegrals!=null&&this.drawIntegrals(),null},redrawChart:function(e){return this.destroyChart(),this.drawChart(e)},hcYAxisOptions:function(){var e,t,n,r;r=_.filter(this.yAxisOptions,function(e){return e.lineMax!=null});for(t=0,n=r.length;t<n;t++)e=r[t],e.max=e.lineMax,this.chartType==="area"&&(e.max*=e.streamCount);return this.yAxisOptions.length===0?{}:this.yAxisOptions.length===1?this.yAxisOptions[0]:this.yAxisOptions}},instrumentGraphProperties={Separator:"/",seriesName:function(e,t){return t==="unassigned"||t==="all"?e:""+e+this.Separator+t},fullInstrumentReset:function(e){var t,n;if(e.metrics==null){this.showInstrumentMessage!=null&&this.showInstrumentMessage(e.msg);return}return((t=e.attributes)!=null?t.display_stacked:void 0)?this.chartType="area":this.chartType="line",this.displayIntegral=((n=e.attributes)!=null?n.display_integral:void 0)===!0,this.resetGraph(e.metrics)},annotationStreamToSeries:function(e){var t;return t=this.streamToYAxisIndex(e),t==null&&(t=this.streamToYAxis(e)),{name:this.seriesName(e.metric,e.source),id:e.id,color:e.color,data:e.series!=null?e.series.data():[],animation:!1,yAxis:t,yAxisID:this.yAxisOptions[t].id}},numericStreamToSeries:function(e){var t,n,r,i,s;return s=this.streamToYAxisIndex(e),s!=null?(i=this.yAxisOptions[s],i.streamCount+=1,n=e.attrs.display_min,n!=null&&(i.min==null||n<i.min)&&(i.min=n),t=e.attrs.max,t!=null&&(i.lineMax==null||t>i.lineMax)&&(i.lineMax=t)):s=this.streamToYAxis(e),r=this.streamToSeries(e),r.yAxis=s,r.yAxisID=this.yAxisOptions[r.yAxis].id,r},resetGraph:function(e){var t,n,r,i,s,o,u,a,f,l,c;this.destroyChart(),this.yAxisOptions=[],n=[],this.annotationStreams=[],r=this.newOptions();for(f=0,l=e.length;f<l;f++){t=e[f],u=0,c=t.sources.data;for(i in c)s=c[i],u+=1,a={id:""+t.id+"-"+u,metric:t.metric,source:i,attrs:t.attributes,color:s.color,series:s.series,startTime:t.startTime,endTime:t.endTime,type:t.type,visible:t.visible},a.type==="annotation"?(o=this.annotationStreamToSeries(a),a.seriesID=o.id,a.drawFunc=t.drawFunc,this.annotationStreams.push(a)):(a.summaryFunc=t.summaryFunc,o=this.numericStreamToSeries(a)),n.push(o)}return r.yAxis=this.hcYAxisOptions(),this.seriesOptions=n,r.series=this.seriesOptions,this.drawChart(r)},drawIntegrals:function(){var e,t,n,r,i,s,o,u,a,f;if(!this.displayIntegral)return;$(".integrals",this.$target).remove(),n=this.graph.renderer.g().add(),n.attr({transform:"translate("+Math.floor(this.graph.plotLeft+10)+","+this.graph.plotTop+")","class":"integrals"}),r=this.graph.plotHeight/7,i=0,f=this.seriesOptions;for(e=u=0,a=f.length;u<a;e=++u){o=f[e];if(o.integral==null)continue;t=""+o.integral,o.abbreviatedUnits!=null&&(t+=" "+o.abbreviatedUnits),s=this.graph.renderer.text(t,0,Math.floor(r*(i+1))).add(n).css({color:o.color,fontSize:r+"px",fontFamily:"",fontWeight:"bold",opacity:1}).attr("data-stream_id",""+o.id),i!==0&&s.attr({transform:"translate(0, 8)"}),i+=1}return $(n.element).detach().insertBefore($(".highcharts-tooltip",this.$target))},setIntegralColor:function(e,t){return $("text[data-stream_id='"+e+"']",".integrals").css({color:t,fill:t})},timeInRange:function(e){return this.range==null||e>this.range.min&&e<this.range.max},drawAnnotationStreams:function(){var e,t,n,r,i,s,o,u,a,f,l;this.annotationElements=[],f=this.annotationStreams;for(u=0,a=f.length;u<a;u++){n=f[u];if(!n.visible)continue;i=this.graph.get(n.id),r={res:null,offset:0},i.hasGroupedData&&(r.res=i.closestPointRange/1e3,r.offset=i.points[0].x/1e3%r.res),l=n.series.events(r);for(s in l){e=l[s];if(!this.timeInRange(e.start_time))continue;if(e.end_time!=null&&!this.timeInRange(e.end_time))continue;o={annotation:e,point:{start:this.returnHCPoint(i.points,e.start_time),end:e.end_time!=null?this.returnHCPoint(i.points,e.end_time):void 0},name:i.name,color:n.color,plot:{left:this.graph.plotLeft,top:this.graph.plotTop,width:this.graph.plotSizeX,height:this.graph.plotSizeY}};if(o.point.start==null||o.point.end==null&&e.end_time!=null){console.log("Unable to find HC pt for "+e.start_time+" -> "+e.end_time);continue}t=this.annotations.draw(o),n.drawFunc!=="infinite"&&this.annotations.infinite(t,!1),this.annotationElements.push(t),null}}return this.initTooltips()},initTooltips:function(){var e=this;return this.annotationTooltips=new AnnotationTooltips(this.$target,".bookmark"),$(".bookmark").on("click",function(t){return e.$target.trigger("instrument:annotation:clicked",{timestamp:$.data($(".bookmark",$(t.target).parent())[0],"timestamp")})})},returnHCPoint:function(e,t){var n;return n=t*1e3,_.find(e,function(e){return e.x===n})},setAnnotationColor:function(e){var t,n,r,i,s,o;o=[];for(i=0,s=e.length;i<s;i++)r=e[i],o.push(function(){var e,i,s,o,u=this;s=this.annotationElements,o=[];for(e=0,i=s.length;e<i;e++)n=s[e],n.id===r.id?($(".vline, .join",$(n.element)).attr({stroke:r.color}),$(".fillarea",$(n.element)).attr({fill:r.color}),t=$(".bookmark",$(n.element)),o.push(t.each(function(e,t){var n,i;return i=$(t).attr("fill"),n=i.substring(4,i.length-1).split("#")[1],u.updateBookmarkSpotColors(n,r.color)}))):o.push(void 0);return o}.call(this));return o},updateBookmarkSpotColors:function(e,t){var n;return n=$("#"+e).children(),n.eq(0).attr("stop-color",tinycolor.lighten(t,5)),n.eq(1).attr("stop-color",tinycolor.lighten(t,15)),n.eq(2).attr("stop-color",t),n.eq(3).attr("stop-color",tinycolor.darken(t,10))},destroyAnnotations:function(){var e,t,n,r;if(this.annotationElements==null)return;r=this.annotationElements;for(t=0,n=r.length;t<n;t++)e=r[t],$(e.element).remove();return this.annotationElements=[],null},redrawAnnotations:function(){return this.destroyAnnotations(),this.drawAnnotationStreams(),null}},Graph=function(e){function t(e,t){this.configure(e),this.initModel(e),this.initGraph(t),this.initEvents(),e.instrumentUri!=null?this.model.setUri(e.instrumentUri):this.model.setId(this.instrumentID)}return __extends(t,e),t.include(instrumentThemeProperties),t.include(streamProperties),t.include(yAxisProperties),t.include(graphProperties),t.include(instrumentGraphProperties),t.prototype.selector=function(){return this.$target},t.prototype.model=function(){return this.model},t.prototype.configure=function(e){this.$target=$("#"+e.divID),this.$target.addClass("librato-metrics-instrument"),this.instrumentID=e.instrumentID;if(e.autoResize!=null)return this.initAutoResize()},t.prototype.initAutoResize=function(){var e=this;return $(window).on("resize",function(t){return e.$target.trigger("instrument:resizeComplete",{width:e.$target.width(),height:e.$target.height()}),e.redrawAnnotations()})},t.prototype.initModel=function(e){var t,n,r,i;return t={email:e.email,apiToken:e.apiToken,selector:this.selector(),refresh:e.refresh},(n=t.refresh)==null&&(t.refresh=!0),(r=e.endDate)==null&&(e.endDate=new Date),(i=e.startDate)==null&&(e.startDate=new Date(e.endDate-36e5)),t.startTime=dateToEpoch(e.startDate),t.endTime=dateToEpoch(e.endDate),e.apiUri!=null&&(t.apiUri=e.apiUri),e.source!=null&&(t.source=e.source),this.model=new Instrument(t)},t.prototype.initGraph=function(e){var t,n;return this.BaseOptions={chart:{reflow:!1,marginBottom:30,marginTop:25,spacingLeft:10,spacingRight:20,animation:!1,ignoreHiddenSeries:!0},credits:{enabled:!1},title:{text:null},plotOptions:{area:{stacking:"normal"},series:{dataGrouping:{enabled:!0,groupPixelWidth:5},lineWidth:1,marker:{enabled:!1}}},xAxis:{type:"datetime"},legend:{enabled:!1},tooltip:{shared:!0,formatter:this.formatTooltip}},e!=null&&$.extend(!0,this.BaseOptions,e),Highcharts.setOptions({global:{useUTC:!1}}),Highcharts.setOptions(this.themeConfig()),this.chartType="line",this.yAxisOptions=[],this.seriesOptions=[],t="<div id='"+this.instrumentID+"-graph'></div>",this.$target.append(t),n={chart:{renderTo:this.$target[0]}},n=$.extend(!0,n,this.BaseOptions),this.graph=new Highcharts.Chart(n)},t.prototype.newOptions=function(){var e;return e={chart:{renderTo:this.$target[0]},xAxis:{min:this.model.startTime*1e3,max:this.model.endTime*1e3}},$.extend(!0,e,this.BaseOptions)},t.prototype.currentOptions=function(e){var t;return e==null&&(e=!1),t=this.graph.options,t.series=this.seriesOptions,e?t.yAxis=this.hcYAxisOptions():t.yAxis=[],t},t.prototype.initEvents=function(){var e=this;return this.$target.on("model:resetComplete",function(t){return t.stopPropagation(),e.fullInstrumentReset(e.model.streamsData())}),this.$target.on("model:updateComplete",function(t){return t.stopPropagation(),e.fullInstrumentReset(e.model.streamsData())}),this.$target.on("instrument:resizeComplete",function(t,n){if(e.graph!=null)return e.graph.setSize(n.width,n.height)})},t}(Module),LineGraph=function(e){function t(e){t.__super__.constructor.call(this,e,e.graphOpts)}return __extends(t,e),t.prototype.startAutoRefresh=function(){var e;return(e=this.model)!=null?e.startAutoRefresh():void 0},t.prototype.stopAutoRefresh=function(){var e;return(e=this.model)!=null?e.stopAutoRefresh():void 0},t.prototype.showInstrumentMessage=function(e){var t,n;return this.graph!=null&&this.graph.destroy(),this.graph=null,n=this.$target.siblings(".message"),n.length?n.html(e):(t=$("<p/>").html(e).addClass("message"),this.$target.parent().append(t))},t}(Graph),root=typeof exports!="undefined"&&exports!==null?exports:this,(_ref=root.LibratoMetrics)==null&&(root.LibratoMetrics={}),root.LibratoMetrics.version="v0.2.0",root.LibratoMetrics.Module=Module,root.LibratoMetrics.ajaxProperties=ajaxProperties,root.LibratoMetrics.GaugeSeries=GaugeSeries,root.LibratoMetrics.MutableMetric=MutableMetric,root.LibratoMetrics.Instrument=Instrument,root.LibratoMetrics.MutableInstrument=MutableInstrument,root.LibratoMetrics.streamProperties=streamProperties,root.LibratoMetrics.yAxisProperties=yAxisProperties,root.LibratoMetrics.graphProperties=graphProperties,root.LibratoMetrics.instrumentGraphProperties=instrumentGraphProperties,root.LibratoMetrics.LineGraph=LineGraph,root.LibratoMetrics.feature_flags={},root.LibratoMetrics.$=$,root.LibratoMetrics.AnnotationSeries=AnnotationSeries,root.LibratoMetrics.Stream=Stream,root.LibratoMetrics.isSDK=!0,getBasicAuth=function(){var e,t,n,r,i,s;r=document.getElementsByTagName("script");for(i=0,s=r.length;i<s;i++){n=r[i],t=n.getAttribute("data-librato_email");if(t!=null)return e={email:t,token:n.getAttribute("data-librato_token")},e}return null},intDataAttr=function(e,t){var n;return n=e.data(t),n==null?null:(n=parseInt(n),isNaN(n)?null:n)},$(document).ready(function(){var e,t,n,r,i,s,o,u,a,f,l,c,h,p,d;l=$("<style>div.librato-metrics div,div.librato-metrics span,div.librato-metrics applet,div.librato-metrics object,div.librato-metrics iframe,div.librato-metrics h1,div.librato-metrics h2,div.librato-metrics h3,div.librato-metrics h4,div.librato-metrics h5,div.librato-metrics h6,div.librato-metrics p,div.librato-metrics blockquote,div.librato-metrics pre,div.librato-metrics a,div.librato-metrics abbr,div.librato-metrics acronym,div.librato-metrics address,div.librato-metrics big,div.librato-metrics cite,div.librato-metrics code,div.librato-metrics del,div.librato-metrics dfn,div.librato-metrics em,div.librato-metrics img,div.librato-metrics ins,div.librato-metrics kbd,div.librato-metrics q,div.librato-metrics s,div.librato-metrics samp,div.librato-metrics small,div.librato-metrics strike,div.librato-metrics strong,div.librato-metrics sub,div.librato-metrics sup,div.librato-metrics tt,div.librato-metrics var,div.librato-metrics b,div.librato-metrics u,div.librato-metrics i,div.librato-metrics center,div.librato-metrics dl,div.librato-metrics dt,div.librato-metrics dd,div.librato-metrics ol,div.librato-metrics ul,div.librato-metrics li,div.librato-metrics fieldset,div.librato-metrics form,div.librato-metrics label,div.librato-metrics legend,div.librato-metrics table,div.librato-metrics caption,div.librato-metrics tbody,div.librato-metrics tfoot,div.librato-metrics thead,div.librato-metrics tr,div.librato-metrics th,div.librato-metrics td,div.librato-metrics article,div.librato-metrics aside,div.librato-metrics canvas,div.librato-metrics details,div.librato-metrics embed,div.librato-metrics figure,div.librato-metrics figcaption,div.librato-metrics footer,div.librato-metrics header,div.librato-metrics hgroup,div.librato-metrics menu,div.librato-metrics nav,div.librato-metrics output,div.librato-metrics ruby,div.librato-metrics section,div.librato-metrics summary,div.librato-metrics time,div.librato-metrics mark,div.librato-metrics audio,div.librato-metrics video,div.librato-tooltip div,div.librato-tooltip span,div.librato-tooltip applet,div.librato-tooltip object,div.librato-tooltip iframe,div.librato-tooltip h1,div.librato-tooltip h2,div.librato-tooltip h3,div.librato-tooltip h4,div.librato-tooltip h5,div.librato-tooltip h6,div.librato-tooltip p,div.librato-tooltip blockquote,div.librato-tooltip pre,div.librato-tooltip a,div.librato-tooltip abbr,div.librato-tooltip acronym,div.librato-tooltip address,div.librato-tooltip big,div.librato-tooltip cite,div.librato-tooltip code,div.librato-tooltip del,div.librato-tooltip dfn,div.librato-tooltip em,div.librato-tooltip img,div.librato-tooltip ins,div.librato-tooltip kbd,div.librato-tooltip q,div.librato-tooltip s,div.librato-tooltip samp,div.librato-tooltip small,div.librato-tooltip strike,div.librato-tooltip strong,div.librato-tooltip sub,div.librato-tooltip sup,div.librato-tooltip tt,div.librato-tooltip var,div.librato-tooltip b,div.librato-tooltip u,div.librato-tooltip i,div.librato-tooltip center,div.librato-tooltip dl,div.librato-tooltip dt,div.librato-tooltip dd,div.librato-tooltip ol,div.librato-tooltip ul,div.librato-tooltip li,div.librato-tooltip fieldset,div.librato-tooltip form,div.librato-tooltip label,div.librato-tooltip legend,div.librato-tooltip table,div.librato-tooltip caption,div.librato-tooltip tbody,div.librato-tooltip tfoot,div.librato-tooltip thead,div.librato-tooltip tr,div.librato-tooltip th,div.librato-tooltip td,div.librato-tooltip article,div.librato-tooltip aside,div.librato-tooltip canvas,div.librato-tooltip details,div.librato-tooltip embed,div.librato-tooltip figure,div.librato-tooltip figcaption,div.librato-tooltip footer,div.librato-tooltip header,div.librato-tooltip hgroup,div.librato-tooltip menu,div.librato-tooltip nav,div.librato-tooltip output,div.librato-tooltip ruby,div.librato-tooltip section,div.librato-tooltip summary,div.librato-tooltip time,div.librato-tooltip mark,div.librato-tooltip audio,div.librato-tooltip video{margin:0;padding:0;border:0;font-size:100%;font:inherit;vertical-align:baseline}div.librato-metrics table,div.librato-tooltip table{border-collapse:collapse;border-spacing:0}div.librato-metrics caption,div.librato-metrics th,div.librato-metrics td,div.librato-tooltip caption,div.librato-tooltip th,div.librato-tooltip td{text-align:left;font-weight:400;vertical-align:middle}div.librato-metrics q,div.librato-metrics blockquote,div.librato-tooltip q,div.librato-tooltip blockquote{quotes:none}div.librato-metrics q:before,div.librato-metrics q:after,div.librato-metrics blockquote:before,div.librato-metrics blockquote:after,div.librato-tooltip q:before,div.librato-tooltip q:after,div.librato-tooltip blockquote:before,div.librato-tooltip blockquote:after{content:'';content:none}div.librato-metrics a img,div.librato-tooltip a img{border:none}.librato-tooltip{}.librato-tooltip.ui-tooltip,.librato-tooltip.qtip{position:absolute;left:-28000px;top:-28000px;display:none;max-width:280px;min-width:50px;font-size:10.5px;line-height:12px;border-width:1px;border-style:solid}.librato-tooltip .ui-tooltip-fluid{display:block;visibility:hidden;position:static !important;float:left !important}.librato-tooltip .ui-tooltip-content{position:relative;padding:5px 9px;overflow:hidden;text-align:left;word-wrap:break-word}.librato-tooltip .ui-tooltip-titlebar{position:relative;min-height:14px;padding:5px 35px 5px 10px;overflow:hidden;border-width:0 0 1px;font-weight:700}.librato-tooltip .ui-tooltip-titlebar + .ui-tooltip-content{border-top-width:0 !important}.librato-tooltip .ui-tooltip-titlebar .ui-state-default{position:absolute;right:4px;top:50%;margin-top:-9px;cursor:pointer;outline:medium none;border-width:1px;border-style:solid}.librato-tooltip .ui-tooltip-titlebar .ui-icon{display:block;text-indent:-1000em;direction:ltr}.librato-tooltip .ui-tooltip-icon{-moz-border-radius:3px;-webkit-border-radius:3px;border-radius:3px;text-decoration:none}.librato-tooltip .ui-tooltip-icon .ui-icon{display:block;text-indent:-1000em;direction:ltr;-moz-border-radius:3px;-webkit-border-radius:3px;border-radius:3px;text-decoration:none;width:18px;height:14px;text-align:center;text-indent:0;font:400 bold 10px/13px Tahoma,sans-serif;color:inherit;background:transparent none no-repeat -100em -100em}.librato-tooltip.ui-tooltip-default{border-color:#f1d031;background-color:#ffffa3;color:#555}.librato-tooltip.ui-tooltip-default .ui-tooltip-titlebar{background-color:#ffef93}.librato-tooltip.ui-tooltip-default .ui-tooltip-icon{border-color:#ccc;background:#f1f1f1;color:#777}.librato-tooltip.ui-tooltip-default .ui-tooltip-titlebar .ui-state-hover{border-color:#aaa;color:#111}.librato-tooltip.ui-tooltip-light{background-color:#fff;border-color:#e2e2e2;color:#454545}.librato-tooltip.ui-tooltip-light .ui-tooltip-titlebar{background-color:#f1f1f1}.librato-tooltip.ui-tooltip-dark{background-color:#505050;border-color:#303030;color:#f3f3f3}.librato-tooltip.ui-tooltip-dark .ui-tooltip-titlebar{background-color:#404040}.librato-tooltip.ui-tooltip-dark .ui-tooltip-icon{border-color:#444}.librato-tooltip.ui-tooltip-dark .ui-tooltip-titlebar .ui-state-hover{border-color:#303030}.librato-tooltip.ui-tooltip-cream{background-color:#fbf7aa;border-color:#f9e98e;color:#a27d35}.librato-tooltip.ui-tooltip-cream .ui-tooltip-titlebar{background-color:#f0de7d}.librato-tooltip.ui-tooltip-cream .ui-state-default .ui-tooltip-icon{background-position:-82px 0}.librato-tooltip.ui-tooltip-red{background-color:#f78b83;border-color:#d95252;color:#912323}.librato-tooltip.ui-tooltip-red .ui-tooltip-titlebar{background-color:#f06d65}.librato-tooltip.ui-tooltip-red .ui-state-default .ui-tooltip-icon{background-position:-102px 0}.librato-tooltip.ui-tooltip-red .ui-tooltip-icon,.librato-tooltip.ui-tooltip-red .ui-tooltip-titlebar .ui-state-hover{border-color:#d95252}.librato-tooltip.ui-tooltip-green{background-color:#caed9e;border-color:#90d93f;color:#3f6219}.librato-tooltip.ui-tooltip-green .ui-tooltip-titlebar{background-color:#b0de78}.librato-tooltip.ui-tooltip-green .ui-state-default .ui-tooltip-icon{background-position:-42px 0}.librato-tooltip.ui-tooltip-blue{background-color:#e5f6fe;border-color:#add9ed;color:#5e99bd}.librato-tooltip.ui-tooltip-blue .ui-tooltip-titlebar{background-color:#d0e9f5}.librato-tooltip.ui-tooltip-blue .ui-state-default .ui-tooltip-icon{background-position:-2px 0}.librato-tooltip.ui-tooltip-shadow{-webkit-box-shadow:1px 1px 3px 1px rgba(0,0,0,0.15);-moz-box-shadow:1px 1px 3px 1px rgba(0,0,0,0.15);box-shadow:1px 1px 3px 1px rgba(0,0,0,0.15)}.librato-tooltip.ui-tooltip-rounded,.librato-tooltip.ui-tooltip-tipsy,.librato-tooltip.ui-tooltip-bootstrap{-moz-border-radius:5px;-webkit-border-radius:5px;border-radius:5px}.librato-tooltip.ui-tooltip-youtube{-moz-border-radius:2px;-webkit-border-radius:2px;border-radius:2px;-webkit-box-shadow:0 0 3px#333;-moz-box-shadow:0 0 3px#333;box-shadow:0 0 3px#333;color:#fff;border-width:0;background:#4a4a4a;background-image:-webkit-gradient(linear,left top,left bottom,color-stop(0,#4a4a4a),color-stop(100%,black));background-image:-webkit-linear-gradient(top,#4a4a4a 0,black 100%);background-image:-moz-linear-gradient(top,#4a4a4a 0,black 100%);background-image:-ms-linear-gradient(top,#4a4a4a 0,black 100%);background-image:-o-linear-gradient(top,#4a4a4a 0,black 100%)}.librato-tooltip.ui-tooltip-youtube .ui-tooltip-titlebar{background-color:#4a4a4a;background-color:rgba(0,0,0,0)}.librato-tooltip.ui-tooltip-youtube .ui-tooltip-content{padding:.75em;font:12px arial,sans-serif;filter:progid:DXImageTransform.Microsoft.Gradient(GradientType=0,StartColorStr=#4a4a4a,EndColorStr=#000000);-ms-filter:'progid:DXImageTransform.Microsoft.Gradient(GradientType=0,StartColorStr=#4a4a4a,EndColorStr=#000000);'}.librato-tooltip.ui-tooltip-youtube .ui-tooltip-icon{border-color:#222}.librato-tooltip.ui-tooltip-youtube .ui-tooltip-titlebar .ui-state-hover{border-color:#303030}.librato-tooltip.ui-tooltip-jtools{background:#232323;background:rgba(0,0,0,0.7);background-image:-webkit-gradient(linear,left top,left bottom,from(#717171),to(#232323));background-image:-moz-linear-gradient(top,#717171,#232323);background-image:-webkit-linear-gradient(top,#717171,#232323);background-image:-ms-linear-gradient(top,#717171,#232323);background-image:-o-linear-gradient(top,#717171,#232323);border:2px solid#ddd;border:2px solid #f1f1f1;-moz-border-radius:2px;-webkit-border-radius:2px;border-radius:2px;-webkit-box-shadow:0 0 12px#333;-moz-box-shadow:0 0 12px#333;box-shadow:0 0 12px#333}.librato-tooltip.ui-tooltip-jtools .ui-tooltip-titlebar{background-color:transparent;filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#717171,endColorstr=#4A4A4A);-ms-filter:'progid:DXImageTransform.Microsoft.gradient(startColorstr=#717171,endColorstr=#4A4A4A)'}.librato-tooltip.ui-tooltip-jtools .ui-tooltip-content{filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#4A4A4A,endColorstr=#232323);-ms-filter:'progid:DXImageTransform.Microsoft.gradient(startColorstr=#4A4A4A,endColorstr=#232323)'}.librato-tooltip.ui-tooltip-jtools .ui-tooltip-titlebar,.librato-tooltip.ui-tooltip-jtools .ui-tooltip-content{background:transparent;color:#fff;border:0 dashed transparent}.librato-tooltip.ui-tooltip-jtools .ui-tooltip-icon{border-color:#555}.librato-tooltip.ui-tooltip-jtools .ui-tooltip-titlebar .ui-state-hover{border-color:#333}.librato-tooltip.ui-tooltip-cluetip{-webkit-box-shadow:4px 4px 5px rgba(0,0,0,0.4);-moz-box-shadow:4px 4px 5px rgba(0,0,0,0.4);box-shadow:4px 4px 5px rgba(0,0,0,0.4);background-color:#d9d9c2;color:#111;border:0 dashed transparent}.librato-tooltip.ui-tooltip-cluetip .ui-tooltip-titlebar{background-color:#87876a;color:#fff;border:0 dashed transparent}.librato-tooltip.ui-tooltip-cluetip .ui-tooltip-icon{border-color:#808064}.librato-tooltip.ui-tooltip-cluetip .ui-tooltip-titlebar .ui-state-hover{border-color:#696952;color:#696952}.librato-tooltip.ui-tooltip-tipsy{background:#000;background:rgba(0,0,0,0.87);color:#fff;border:0 solid transparent;font-size:11px;font-family:'Lucida Grande',sans-serif;font-weight:700;line-height:16px;text-shadow:0 1px black}.librato-tooltip.ui-tooltip-tipsy .ui-tooltip-titlebar{padding:6px 35px 0 10;background-color:transparent}.librato-tooltip.ui-tooltip-tipsy .ui-tooltip-content{padding:6px 10}.librato-tooltip.ui-tooltip-tipsy .ui-tooltip-icon{border-color:#222;text-shadow:none}.librato-tooltip.ui-tooltip-tipsy .ui-tooltip-titlebar .ui-state-hover{border-color:#303030}.librato-tooltip.ui-tooltip-tipped{border:3px solid #959fa9;-moz-border-radius:3px;-webkit-border-radius:3px;border-radius:3px;background-color:#f9f9f9;color:#454545;font-weight:400;font-family:serif}.librato-tooltip.ui-tooltip-tipped .ui-tooltip-titlebar{border-bottom-width:0;color:#fff;background:#3a79b8;background-image:-webkit-gradient(linear,left top,left bottom,from(#3a79b8),to(#2e629d));background-image:-webkit-linear-gradient(top,#3a79b8,#2e629d);background-image:-moz-linear-gradient(top,#3a79b8,#2e629d);background-image:-ms-linear-gradient(top,#3a79b8,#2e629d);background-image:-o-linear-gradient(top,#3a79b8,#2e629d);filter:progid:DXImageTransform.Microsoft.gradient(startColorstr=#3A79B8,endColorstr=#2E629D);-ms-filter:'progid:DXImageTransform.Microsoft.gradient(startColorstr=#3A79B8,endColorstr=#2E629D)'}.librato-tooltip.ui-tooltip-tipped .ui-tooltip-icon{border:2px solid #285589;background:#285589}.librato-tooltip.ui-tooltip-tipped .ui-tooltip-icon .ui-icon{background-color:#fbfbfb;color:#555}.librato-tooltip.ui-tooltip-bootstrap{font-size:13px;line-height:18px;color:#333;background-color:#fff;border:1px solid#ccc;border:1px solid rgba(0,0,0,0.2);*border-right-width:2px;*border-bottom-width:2px;-webkit-border-radius:5px;-moz-border-radius:5px;border-radius:5px;-webkit-box-shadow:0 5px 10px rgba(0,0,0,0.2);-moz-box-shadow:0 5px 10px rgba(0,0,0,0.2);box-shadow:0 5px 10px rgba(0,0,0,0.2);-webkit-background-clip:padding-box;-moz-background-clip:padding;background-clip:padding-box}.librato-tooltip.ui-tooltip-bootstrap .ui-tooltip-titlebar{font-size:18px;line-height:22px;border-bottom:1px solid#ccc;background-color:transparent}.librato-tooltip.ui-tooltip-bootstrap .ui-tooltip-titlebar .ui-state-default{right:9px;top:49%;border-style:none}.librato-tooltip.ui-tooltip-bootstrap .ui-tooltip-icon{background:#fff}.librato-tooltip.ui-tooltip-bootstrap .ui-tooltip-icon .ui-icon{width:auto;height:auto;float:right;font-size:20px;font-weight:700;line-height:18px;color:#000;text-shadow:0 1px 0 white;opacity:.2;filter:alpha(opacity=20)}.librato-tooltip.ui-tooltip-bootstrap .ui-tooltip-icon .ui-icon:hover{color:#000;text-decoration:none;cursor:pointer;opacity:.4;filter:alpha(opacity=40)}.librato-tooltip.ui-tooltip:not(.ie9haxors) div.ui-tooltip-content,.librato-tooltip.ui-tooltip:not(.ie9haxors) div.ui-tooltip-titlebar{filter:none;-ms-filter:none}.librato-tooltip.ui-tooltip .ui-tooltip-tip{margin:0 auto;overflow:hidden;z-index:10;position:absolute;line-height:.1px !important;font-size:.1px !important;color:#123456;background:transparent;border:0 dashed transparent}.librato-tooltip.ui-tooltip .ui-tooltip-tip *{position:absolute;line-height:.1px !important;font-size:.1px !important;color:#123456;background:transparent;border:0 dashed transparent}.librato-tooltip.ui-tooltip .ui-tooltip-tip canvas{top:0;left:0}.librato-tooltip.ui-tooltip,.librato-tooltip.qtip{font-family:'Lucida Sans Unicode','Lucida Grande',Helvetica,Arial,sans-serif;font-size:12px;font-weight:400;border:none;background-color:transparent;border-color:transparent}.librato-tooltip.annotip{text-shadow:rgba(34,34,34,0.9) 0 -1px 0;color:#d7d7d7;line-height:1.3;opacity:.99;background-color:rgba(0,0,0,0.9);max-width:300px}.librato-tooltip.annotip .ui-tooltip-content{-webkit-border-radius:5px 5px;-moz-border-radius:5px/5px;-khtml-border-radius:5px/5px;border-radius:5px/5px;padding:8px 12px}.librato-tooltip.annotip .ui-tooltip-shadow{-webkit-box-shadow:0 0 1px rgba(0,0,0,0.6);-moz-box-shadow:0 0 1px rgba(0,0,0,0.6);box-shadow:0 0 1px rgba(0,0,0,0.6)}.librato-tooltip.annotip dl{color:#fff}.librato-tooltip.annotip dt{padding-bottom:4px}.librato-tooltip.annotip dd{color:#979899}.librato-tooltip.annotip dd.desc{font-style:italic;margin-top:2px}.librato-tooltip.annotip em{color:#fff;font-weight:600}</style>").appendTo("head"),t=getBasicAuth(),p=$(".librato-metrics"),d=[];for(c=0,h=p.length;c<h;c++)n=p[c],e=$(n),o=e.data("instrument_id"),r=e.attr("id"),r==null&&(r="librato-metrics-instrument-"+o,e.attr("id",r)),u={email:t.email,apiToken:t.token,divID:r,instrumentID:o,autoResize:!0,graphOpts:{credits:{enabled:!0,text:"Librato",href:"http://librato.com",position:{verticalAlign:"top",y:20},style:{fontSize:"15px"}}}},i=intDataAttr(e,"duration"),i==null&&(i=3600),s=intDataAttr(e,"end_time"),s!=null?u.refresh=!1:s=Math.round(+(new Date)/1e3),f=s-i,u.startDate=new Date(f*1e3),u.endDate=new Date(s*1e3),a=e.data("source"),a!=null&&(u.source=a),d.push(new LibratoMetrics.LineGraph(u));return d})}.call(this);